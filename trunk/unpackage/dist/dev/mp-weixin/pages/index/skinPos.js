(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/skinPos"],{83:
/*!*******************************************************************!*\
  !*** E:/yisheng/trunk/main.js?{"page":"pages%2Findex%2FskinPos"} ***!
  \*******************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){i(/*! uni-pages */4);n(i(/*! vue */2));var e=n(i(/*! ./pages/index/skinPos.vue */84));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},84:
/*!************************************************!*\
  !*** E:/yisheng/trunk/pages/index/skinPos.vue ***!
  \************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! ./skinPos.vue?vue&type=template&id=4f0041d2&scoped=true& */85),a=i(/*! ./skinPos.vue?vue&type=script&lang=js& */87);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i(/*! ./skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true& */90);var c,o=i(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */22),s=Object(o["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"4f0041d2",null,!1,n["components"],c);s.options.__file="E:/yisheng/trunk/pages/index/skinPos.vue",e["default"]=s.exports},85:
/*!*******************************************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=template&id=4f0041d2&scoped=true& ***!
  \*******************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./skinPos.vue?vue&type=template&id=4f0041d2&scoped=true& */86);i.d(e,"render",(function(){return n["render"]})),i.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(e,"components",(function(){return n["components"]}))},86:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=template&id=4f0041d2&scoped=true& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";var n;i.r(e),i.d(e,"render",(function(){return a})),i.d(e,"staticRenderFns",(function(){return c})),i.d(e,"recyclableRender",(function(){return r})),i.d(e,"components",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.skinReport.urgent.data,(function(e,i){var n=t.getWidth(e);return{$orig:t.__get_orig(e),m0:n}}))),n=t.__map(t.orders,(function(e,i){var n=e.item.reduce((function(t,e){return t+e.num}),0),a=t.dateFormat(e.payTime,"YYYY-MM-DD HH:mm");return{$orig:t.__get_orig(e),g0:n,m1:a}}));t.$mp.data=Object.assign({},{$root:{l0:i,l1:n}})},r=!1,c=[];a._withStripped=!0},87:
/*!*************************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=script&lang=js& ***!
  \*************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./skinPos.vue?vue&type=script&lang=js& */88),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},88:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,a=o(i(/*! ../../common/api.js */8)),r=o(i(/*! ../../common/util.js */28)),c=o(i(/*! @/components/u-charts/u-charts.js */89));function o(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{chartData:[],imgList:[],expand:!1,colors:{"重度":"#D35671","中度":"#E8AC60","轻度":"#46B39F"},types:{spot:"../../static/image/img_pfjcbg_bd@2x.png",pore:"../../static/image/img_pfjcbg_mk@2x.png",pockmark:"../../static/image/img_pfjcbg_dd@2x.png",wrinkle:"../../static/image/img_pfjcbg_zw@2x.png",acne:"../../static/image/img_pfjcbg_cc@2x.png",dark_circle:"../../static/image/img_pfjcbg_hyq@2x.png",chloasma:"../../static/image/img_pfjcbg_zsb@2x.png",roughness:"../../static/image/img_pfjcbg_ccd@2x.png",texture:"../../static/image/img_pfjcbg_wl@2x.png",blackhead:"../../static/image/img_pfjcbg_ht@2x.png",moisture:"../../static/image/img_pfjcbg_sf@2x.png",sensitive:"../../static/image/img_pfjcbg_mgd@2x.png",skin_type:"../../static/image/img_pfjcbg_fz@2x.png"},products:[],orders:[],skinReport:{urgent:{data:null}},faceId:null,faceUrl:null,communityId:"",cWidth:"",cHeight:"",pixelRatio:1}},onLoad:function(e){t.setNavigationBarTitle({title:"皮肤检测分析报告"}),console.log(e.sid),this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(500),this.faceId=e.sid,this.communityId=e.communityId,1==e.action&&(this.expand=!0)},onShow:function(){var t=this;n=this;var e={id:this.faceId};a.default.findFaceById({data:e}).then((function(e){if(console.log(e),"OK"==e.status){t.skinReport=e.data,t.skinReport.createTime=r.default.formatTimestamp(t.skinReport.createTime,"yyyy-MM-dd hh:mm");var i={categories:[],series:[]};i.categories=["棕色斑","斑点","水分","痘痘","纹理","毛孔","皱纹","黑头","黑眼圈"];var a=[];t.skinReport.top.forEach((function(t){a.push(t.score)})),i.series=[{name:"皮肤健康指数",data:a}],n.showRadar("canvasRadar",i)}}))},mounted:function(){},methods:{clickProductDetail:function(e){"SHIFANG"==e.productType?t.navigateTo({url:"mwwebview?type=1&recordid="+e.code}):t.navigateTo({url:"../health-product-detail/health-product-detail?id="+e.id+"&productType="+e.productType+"&showNav=false&communityId="+this.communityId})},clickProductSelect:function(){var e=[],i="";this.products.forEach((function(t){var n="SHIFANG"===t.productType?t.cfName:t.name;i=t.recordId;var a={id:t.id,image:t.icon,attr_val:t.description,title:n,price:t.price,number:1};e.push(a)})),console.log(e),t.setStorage({key:"buylist",data:e,success:function(){console.log(e),t.navigateTo({url:"../pay/confirm/confirm?type=community&instanceId="+i})}})},showRadar:function(t,e){new c.default({$this:n,canvasId:t,type:"radar",fontSize:11,legend:{show:!0},background:"#FFFFFF",pixelRatio:n.pixelRatio,animation:!0,dataLabel:!0,colors:["#148973"],categories:e.categories,series:e.series,width:n.cWidth*n.pixelRatio,height:n.cHeight*n.pixelRatio,extra:{radar:{max:100,gridColor:"#91BDB5",opacity:.5,labelColor:"#148973"}}})},showFace:function(){var e=this;if(this.faceUrl){var i=[this.faceUrl];t.previewImage({urls:i})}else t.downloadFile({url:this.skinReport.faceImage,success:function(i){if(200===i.statusCode){e.faceUrl=i.tempFilePath;var n=[i.tempFilePath];t.previewImage({urls:n})}}})},clickExpand:function(){this.expand=!this.expand},clickItem:function(e){console.log(this.skinReport.item[e].type),t.navigateTo({url:"skinDetail/skinDetail?id="+this.faceId+"&skinType="+this.skinReport.item[e].type+"&title="+this.skinReport.item[e].name+"&communityId="+this.communityId})},getWidth:function(t){var e="";switch(t.level){case"轻度":e=0;break;case"中度":e=33.33;break;case"重度":e=66.66;break}var i=100-(t.value||0);"痤疮数量"!==t.name&&"毛孔数量"!==t.name&&"黑头数量"!==t.name||(i="0"===t.value?0:50);var n=e+i/100*33.33;return"".concat(n,"%")},parse:function(t,e){var i=e;try{i=JSON.parse(t)}catch(n){}return i}},computed:{},watch:{skinReport:function(){var t=this;this.skinReport.urgent&&a.default.faceFindPuductByIdAndType({data:{id:this.faceId,type:this.skinReport.urgent.type}}).then((function(e){console.log(e.data),"OK"===e.status&&e.data&&(t.products=[],e.data.forEach((function(e){e.icon&&JSON.parse(e.icon).length>0&&(e.icon=JSON.parse(e.icon)[0].url),e.price=(e.price/100).toFixed(2),e.orderId?a.default.constitutionOrderFindById({id:e.orderId}).then((function(e){"OK"===e.status&&e.data&&(t.orders.push(e.data),t.orders.forEach((function(t){t.actualPrice=(t.actualPrice/100).toFixed(2)})))})):t.products.push(e)})))}))}},destroyed:function(){},components:{}};e.default=s}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},90:
/*!**********************************************************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var n=i(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true& */91),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},91:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}},[[83,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/skinPos.js.map