(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/login"],{45:
/*!*****************************************************************!*\
  !*** E:/yisheng/trunk/main.js?{"page":"pages%2Findex%2Flogin"} ***!
  \*****************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);i(n(/*! vue */2));var e=i(n(/*! ./pages/index/login.vue */46));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},46:
/*!**********************************************!*\
  !*** E:/yisheng/trunk/pages/index/login.vue ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./login.vue?vue&type=template&id=35725d64& */47),s=n(/*! ./login.vue?vue&type=script&lang=js& */49);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n(/*! ./login.vue?vue&type=style&index=0&lang=css& */51);var a,r=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */22),u=Object(r["default"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],a);u.options.__file="E:/yisheng/trunk/pages/index/login.vue",e["default"]=u.exports},47:
/*!*****************************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/login.vue?vue&type=template&id=35725d64& ***!
  \*****************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=35725d64& */48);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},48:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/login.vue?vue&type=template&id=35725d64& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return s})),n.d(e,"staticRenderFns",(function(){return a})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return i}));var s=function(){var t=this,e=t.$createElement;t._self._c},o=!1,a=[];s._withStripped=!0},49:
/*!***********************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/login.vue?vue&type=script&lang=js& ***!
  \***********************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js& */50),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},50:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/login.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(/*! ../../common/api.js */8)),s=o(n(/*! ../../common/util.js */28));function o(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{nameTitle:"请输入手机号",passTitle:"请输入密码",buttonTitle:"登录",username:"",userpass:"",sendTitle:"获取验证码",isSend:!1,load:!1,isActive:!1,tips:"",login:!1,from:"",testCode:""}},onLoad:function(e){this.from=e.from,this.testCode=e.testCode;var n=t.getStorageSync("sessionKey");n.length>10&&t.switchTab({url:"../statistics/statistics"}),this.load=!0},methods:{watchNum:function(){this.userpass.length>0&&this.username.length>0?this.isActive=!0:this.isActive=!1},clickLogin:function(){var e=this;if(""!=this.username)if(console.log(!s.default.verifyMobile(this.username)),s.default.verifyMobile(this.username))if(""!=this.userpass){if(this.userpass.length<6)this.tips="验证码不正确";else if("phone"==this.from){if("123456"!=this.userpass||"13866668888"!=this.username)return t.showLoading({title:"加载中"}),void setTimeout((function(){t.hideLoading(),t.showToast({title:"账号或密码不正确",icon:"none",duration:2e3})}),3e3);i.default.getTempAccount({data:{code:this.testCode}}).then((function(n){if(console.log(n),"OK"==n.status&&"0"==n.data.errcode){t.setStorageSync("sessionId",n.data.sessionId);var s={userId:n.data.data.id};i.default.findUserById({data:s}).then((function(i){console.log(i),"OK"==i.status&&(t.setStorageSync("userinfo",i.data),i.data&&i.data.followCommunityId&&i.data.followCommunityId.length>3?(e.emchatLogin(n.data.data.id),t.reLaunch({url:"index?communityid="+i.data.followCommunityId})):t.navigateTo({url:"/pages/serverStation/main"}))}))}}))}else if(null==this.userid||""==this.userid||"null"==this.userid){var n=t.getStorageSync("unionid"),o={verifycode:this.userpass,phone:this.username,unionid:n};i.default.createUser({data:o}).then((function(n){if(console.log("userRes:"),console.log(n),"OK"==n.status){t.showToast({title:"绑定成功",icon:"success",duration:2e3});var s={userId:n.data.id};i.default.findUserById({data:s}).then((function(i){console.log(n),"OK"==i.status&&(t.setStorageSync("userinfo",i.data),i.data&&i.data.followCommunityId&&i.data.followCommunityId.length>3?(e.emchatLogin(n.data.id),t.reLaunch({url:"index?communityid="+i.data.followCommunityId})):t.navigateTo({url:"/pages/serverStation/main"}))}))}else e.tips=n.message}))}}else this.tips="请输入验证码";else this.tips="请输入正确的手机号码";else this.tips="请输入手机号码"},emchatLogin:function(t){var e=t.substring(1,t.length-1);this.$conn.open({apiUrl:this.$im.config.apiURL,user:t,pwd:e,grant_type:"password",appKey:this.$im.config.appkey})},clickGetCode:function(){if(""!=this.username){if(!this.isSend){this.isSend=!0;var e=this,n={phone:this.username,type:"4"};i.default.getMsgCode({data:n}).then((function(n){console.log(n);var i=60;if("OK"==n.status){var s=setInterval((function(){e.sendTitle=--i+"s"}),1e3);setTimeout((function(){e.sendTitle="获取验证码",e.isSend=!1,clearInterval(s)}),6e4),t.showToast({title:"发送成功",icon:"success",duration:2e3})}else e.sendTitle="获取验证码",e.isSend=!1}))}}else this.loginType?(t.showToast({title:"请输入手机号码",icon:"none",duration:2e3}),this.tips="请输入手机号码"):this.tips="请输入手机号码"}}};e.default=a}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},51:
/*!*******************************************************************************!*\
  !*** E:/yisheng/trunk/pages/index/login.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css& */52),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},52:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/index/login.vue?vue&type=style&index=0&lang=css& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[45,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/login.js.map