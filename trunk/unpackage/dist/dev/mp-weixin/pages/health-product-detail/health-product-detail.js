(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/health-product-detail/health-product-detail"],{243:
/*!*************************************************************************************************!*\
  !*** E:/yisheng/trunk/main.js?{"page":"pages%2Fhealth-product-detail%2Fhealth-product-detail"} ***!
  \*************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){e(/*! uni-pages */4);n(e(/*! vue */2));var i=n(e(/*! ./pages/health-product-detail/health-product-detail.vue */244));function n(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},244:
/*!******************************************************************************!*\
  !*** E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue ***!
  \******************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! ./health-product-detail.vue?vue&type=template&id=247ca329& */245),o=e(/*! ./health-product-detail.vue?vue&type=script&lang=js& */247);for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e(/*! ./health-product-detail.vue?vue&type=style&index=0&lang=scss& */249);var r,c=e(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */22),s=Object(c["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],r);s.options.__file="E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue",i["default"]=s.exports},245:
/*!*************************************************************************************************************!*\
  !*** E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=template&id=247ca329& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./health-product-detail.vue?vue&type=template&id=247ca329& */246);e.d(i,"render",(function(){return n["render"]})),e.d(i,"staticRenderFns",(function(){return n["staticRenderFns"]})),e.d(i,"recyclableRender",(function(){return n["recyclableRender"]})),e.d(i,"components",(function(){return n["components"]}))},246:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=template&id=247ca329& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,i,e){"use strict";e.r(i),e.d(i,"render",(function(){return o})),e.d(i,"staticRenderFns",(function(){return r})),e.d(i,"recyclableRender",(function(){return a})),e.d(i,"components",(function(){return n}));var n={"uni-swiper-dot":function(){return e.e(/*! import() | components/uni-swiper-dot/uni-swiper-dot */"components/uni-swiper-dot/uni-swiper-dot").then(e.bind(null,/*! @/components/uni-swiper-dot/uni-swiper-dot.vue */578))},"uni-goods-nav":function(){return e.e(/*! import() | components/uni-goods-nav/uni-goods-nav */"components/uni-goods-nav/uni-goods-nav").then(e.bind(null,/*! @/components/uni-goods-nav/uni-goods-nav.vue */689))}},o=function(){var t=this,i=t.$createElement,e=(t._self._c,t._f("toFixed2")(t.info.price/t.info.originalPrice*10)),n=t._f("toFixed2")(t.info.price),o=t._f("toFixed2")(t.info.originalPrice),a=t.__map(t.info.attributes,(function(i,e){var n=t.parse(i.content,[{}]),o=t.parse(i.content,[{}]),a=t.parse(i.content,[{}]),r=t.parse(i.content,[{}]),c=t.parse(i.content,[{}]);return{$orig:t.__get_orig(i),m0:n,m1:o,m2:a,m3:r,m4:c}}));t.$mp.data=Object.assign({},{$root:{f0:e,f1:n,f2:o,l0:a}})},a=!1,r=[];o._withStripped=!0},247:
/*!*******************************************************************************************************!*\
  !*** E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./health-product-detail.vue?vue&type=script&lang=js& */248),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},248:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{info:{},type:"",dotsStyles:{backgroundColor:"rgba(249, 249, 251, 1)",border:"none",color:"#fff",selectedBackgroundColor:"rgba(3, 190, 144, 1)",selectedBorder:"none"},mode:"dot",current:0,options:[{icon:"headphones",color:"#B7B7B7"},{icon:"cart",color:"#B7B7B7",info:2},{icon:"star",color:"#B7B7B7"}],buttonGroup:[{text:"加入购物车",background:"#FFFFFF ",boxShadow:"0px 3px 15px 0px rgba(65,68,73,0.2)",color:"#03BE90"},{text:"立即购买",background:"linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%)",boxShadow:"0px 3px 15px 0px rgba(3,190,144,0.3)",color:"#fff"}],cartList:[],comId:"",showNav:!0,expenses:0,minimum:0,imagehight:2e3,imagewidth:750,detailId:null,backHome:0}},onShow:function(){var i=this;t.getStorage({key:"".concat(this.type,"_cartList"),success:function(t){console.log(t.data),i.cartList=t.data;var e=0;e=i.cartList.length,i.options[1].info=e},fail:function(t){console.log(t),i.options[1].info=0,i.cartList=[]}})},onLoad:function(i){var e=this;i.type||(i.type="community"),i.showNav&&(this.showNav="true"===i.showNav),1==i.backHome&&(this.backHome=1),this.comId=i.communityId,this.detailId=i.id,this.getData(i.id,i.type),this.type=i.type;var n=this;t.getStorage({key:"".concat(i.type,"_cartList"),success:function(t){console.log(t.data),n.cartList=t.data;var i=0;i=n.cartList.length,n.options[1].info=i},fail:function(t){console.log(t),e.options[1].info=0,e.cartList=[]}})},onUnload:function(){if(1==this.backHome){var i=t.getStorageSync("userinfo");t.reLaunch({url:"/pages/index/index?searchCommunityid="+i.followCommunityId})}},computed:{communityId:function(){return this.$store.getters.communityId?this.$store.getters.communityId:this.comId?this.comId:""}},watch:{info:{handler:function(t,i){t.markStatus?this.options[2]={icon:"star-filled",color:"#F7CF41"}:this.options[2]={icon:"star",color:"#B7B7B7"}},immediate:!0,deep:!0}},methods:{onShareAppMessage:function(){var t=getCurrentPages(),i=t[t.length-1];return console.log("curPage.route:",i.route+"?id="+this.detailId+"&communityId="+this.communityId+"&type="+this.type),{title:this.info.title,path:i.route+"?id="+this.detailId+"&communityId="+this.communityId+"&type="+this.type,imageUrl:this.parse(this.info.pics,[{}])[0].url}},loadImage:function(i){this.imagehight=t.upx2px(i.detail.height),i.detail.width>t.upx2px(750)&&(this.imagehight=this.imagehight/(i.detail.width/750))},parse:function(t,i){var e=i;try{e=JSON.parse(t)}catch(n){}return e||i},change:function(t){this.current=t.detail.current},buttonClick:function(i){var e=this,n=this.info;if(0==i.index){for(var o=this.cartList,a=!0,r=0,c=0;c<o.length;c++)o[c].id==n.id&&(o[c].number++,a=!1),r+=o[c].number;a&&(this.cartList.push({id:n.id,image:n.icon,attr_val:n.desc,stock:99,title:n.name,price:n.price,number:1}),r++),console.log(r),this.$set(this.options[1],"info",this.cartList.length),t.setStorageSync("".concat(this.type,"_cartList"),this.cartList)}else 1==i.index&&(this.cartList=[{id:n.id,image:n.icon,attr_val:n.desc,stock:99,title:n.name,price:n.price,number:1}],t.setStorage({key:"buylist",data:this.cartList,success:function(){t.navigateTo({url:"/pages/pay/confirm/confirm?type=".concat(e.type,"&communityId=").concat(e.communityId)})}}))},onClick:function(i){switch(i.index){case 0:this.toChatRoom();break;case 1:t.navigateTo({url:"/pages/cart/cart?type=".concat(this.type)});break;case 2:this.markProduct(this.info.id);break}},toChatRoom:function(){var i=this;this.info.goodsType=this.type;var e={expertId:this.communityId,toId:this.communityId,type:"product",content:"",communityId:this.communityId,extJson:JSON.stringify(this.info)};this.$api.addCommunityMessage({data:e}).then((function(e){if(console.log(e),"OK"==e.status){var n="";console.log(i.$store.getters.community),i.$store.getters.community&&(n=i.$store.getters.community.mangerName),t.navigateTo({url:"/pages/index/chatRoom?chatType=1&to="+i.communityId+"&communityId="+i.communityId+"&title="+n})}}))},markProduct:function(i){var e=this;this.info.markStatus?this.$api.productMarkDelete({productId:i}).then((function(i){"OK"==i.status&&(t.showToast({title:"取消收藏成功",icon:"none"}),e.info.markStatus=!1)})).catch((function(t){console.log(t)})):this.$api.productMarkAdd({productId:i,communityId:this.communityId}).then((function(i){"OK"==i.status&&(t.showToast({title:"收藏成功",icon:"none"}),e.info.markStatus=!0)})).catch((function(t){console.log(t)}))},getData:function(t,i){switch(i){case"community":this.getCommunityProductDetail(t);break;case"customer":this.getCustomerProductDetail(t);break}},getCommunityProductDetail:function(t){var i=this;this.$api.communityProductDetail({id:t}).then((function(t){"OK"==t.status&&(i.info={originalPrice:t.data.originalPrice/100,price:t.data.price/100,desc:t.data.lcInfo,name:t.data.name,pics:JSON.parse(t.data.pics),icon:JSON.parse(t.data.icon)&&JSON.parse(t.data.icon)[0]&&JSON.parse(t.data.icon)[0].url,id:t.data.id,markStatus:t.data.markStatus,attributes:i.parse(t.data.attributes,[]),type:t.data.type})})).catch((function(t){console.log(t)}))},getCustomerProductDetail:function(t){var i=this;this.$api.customerProductFindById({id:t}).then((function(t){"OK"==t.status&&(i.info={originalPrice:t.data.originPrice/100,price:t.data.price/100,name:t.data.name,pics:JSON.parse(t.data.playPics),id:t.data.id,icon:JSON.parse(t.data.mainPic)&&JSON.parse(t.data.mainPic)[0]&&JSON.parse(t.data.mainPic)[0].url,desc:t.data.remark,type:t.data.type})})).catch((function(t){console.log(t)}))}},filters:{toFixed2:function(t){return Number(t).toFixed(2)}}};i.default=e}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},249:
/*!****************************************************************************************************************!*\
  !*** E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./health-product-detail.vue?vue&type=style&index=0&lang=scss& */250),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},250:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/yisheng/trunk/pages/health-product-detail/health-product-detail.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){}},[[243,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/health-product-detail/health-product-detail.js.map