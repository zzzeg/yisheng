{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yisheng/trunk/pages/serverStation/stationList.vue?42c5","webpack:///E:/yisheng/trunk/pages/serverStation/stationList.vue?69fb","webpack:///E:/yisheng/trunk/pages/serverStation/stationList.vue?a50b","webpack:///E:/yisheng/trunk/pages/serverStation/stationList.vue?62e0","uni-app:///pages/serverStation/stationList.vue","webpack:///E:/yisheng/trunk/pages/serverStation/stationList.vue?23b8"],"names":["createPage","Page","renderjs","component","options","__file","components","hStationList","uniLoadMore","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,wD,mDACAA,EAAWC,a;;;;2DCHX,+TACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uDACZ,aAAAF,E;;;;2GCvBf,o0B;;;;2GCAA,8LAAIG,EAAa,CACfC,aAAc,WACZ,OAAO,+JAITC,YAAa,WACX,OAAO,kLAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCnBvB,4eAA8yB,eAAG,G;;;;0IC8BjzB,wC,yDACA,CACA,OADA,WAEA,sBAEA,KAJA,WAKA,OACA,cAEA,UACA,aACA,mBACA,qBACA,sBAEA,OACA,QACA,QACA,YACA,YACA,mBAGA,kBAtBA,WAuBA,iCACA,YACA,sBAGE,cA5BF,WA6BI,QAAJ,qBACI,KAAJ,iBACI,EAAJ,2BAEI,KAAJ,OACI,KAAJ,iBAEA,SACI,aAAJ,uBACA,mCACA,mBACA,kBACA,SACA,sBAGI,cAAJ,YACM,KAAN,cACM,KAAN,SAEI,UAAJ,WACM,KAAN,iBAEI,SAAJ,WACM,KAAN,6BAEI,WAAJ,WACM,KAAN,6BAEI,YAtBJ,SAsBA,GACA,8BACQ,QAAR,wBACQ,EAAR,UACU,IAAV,wDAIA,cA9BA,WA8BA,WAEA,iDACA,iBACA,YACY,EAAZ,cACA,wBACc,QAAd,0BACc,EAAd,YAGU,EAAV,sBACY,IAAZ,KACA,aACA,qBACgB,EAAhB,+BACgB,GAAhB,IAEgB,EAAhB,gBACgB,GAAhB,IAGA,SACc,EAAd,sDACc,GAAd,GAEA,IACc,EAAd,SAEA,sCACc,EAAd,gCAEA,UACc,EAAd,2BAEY,EAAZ,uBAGQ,EAAR,sBACQ,EAAR,+BAGA,mCACA,oCACA,+BACA,mBACA,kBACQ,EAAR,QACA,sBAGA,kBACA,cACA,mCAGA,KAtFA,SAsFA,cACA,yBACA,gBACA,kBACA,wB;;;;2DC7JA,o2BAA49C,eAAG,G","file":"pages/serverStation/stationList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/serverStation/stationList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./stationList.vue?vue&type=template&id=030dd8cc&scoped=true&\"\nvar renderjs\nimport script from \"./stationList.vue?vue&type=script&lang=js&\"\nexport * from \"./stationList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stationList.vue?vue&type=style&index=0&id=030dd8cc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030dd8cc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/serverStation/stationList.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stationList.vue?vue&type=template&id=030dd8cc&scoped=true&\"","var components = {\n  hStationList: function() {\n    return import(\n      /* webpackChunkName: \"components/common/h-station-list\" */ \"@/components/common/h-station-list.vue\"\n    )\n  },\n  uniLoadMore: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stationList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"cont\">\r\n\t\t<view style=\"text-align: right; background: #fff; line-height: 3; padding:0 40rpx;\" @tap=\"gomain()\">\r\n\t\t\t选择服务站\r\n\t\t\t<image class=\"disinline\" style=\"vertical-align: middle; width:16px; height:16px;\" src=\"../../static/image/icon_xyjt@2x.png\" mode=\"\"></image>\r\n\t\t</view>\r\n\t\t<view style=\"margin:30rpx;\" v-if=\"serverList && serverList.length > 0\">\r\n\t\t\t<block v-for=\"(item, index) in serverList\" :key=\"index\" >\n\t\t\t\t<h-station-list :item='item' :showDefault='true' @clickDefault=\"clickDefault\" @tap=\"clickServer(index)\" @touchstart='touchstart' @touchend='touchend' @longtap=\"longtapServer(index)\" ></h-station-list>\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view style=\"margin:80rpx 0 0 0; font-size:30rpx; color:#A2A9BA; font-weight: 400; text-align: center;\" v-else>\r\n\t\t\t未搜索到相关服务站\r\n\t\t</view>\n        <view v-if=\"ismore\">\n        \t<uni-load-more :status=\"status\"  :content-text=\"contentText\" color=\"#007aff\"  />\n        </view>\n        \n        <view v-if=\"mask\" @click=\"clickMask\" class=\"cpt-mask\"></view>\n        <view v-if=\"mask\" class=\"calendarBox\">\n            <view class=\"btnBox\">\n                <view class=\"gkfxbtn\" @click=\"clickMarkBtn\" >取消加入</view>\n            </view>\n        </view>\r\n\t</view>\n</template>\n\n<script>\r\n\t\r\n\timport api from '../../common/api.js';\r\n\texport default {\r\n\t\tonLoad() {\r\n\t\t\tthis.getserverList()\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tserverList: [],\n                \n                ismore:false,\n                contentText: {\n                    contentdown: '查看更多',\n                    contentrefresh: '加载中',\n                    contentnomore: '没有更多',\n                },\n                page:1,\n                size:10,\n                mask:false,\n                touchT:null,\n                touchE:null,\n                selectIndex:null,\r\n\t\t\t}\r\n\t\t},\n        onPullDownRefresh() {\n            console.log('onPullDownRefresh')\n            this.page = 1\n            this.getserverList()\n            \n        },\n        onReachBottom() {\n            console.log('onReachBottom')\n            this.status = 'loading'\n            uni.showNavigationBarLoading()\n            \n            this.page++\n            this.getserverList()\n        },\r\n\t\tmethods: {\n            clickDefault:function(item){\n\t\t\t\tapi.settingDefaultCommunity({\r\n\t\t\t\t\tcommunityId: item.id\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.page = 1\r\n\t\t\t\t\tthis.getserverList()\r\n\t\t\t\t})\n            },\n            longtapServer:function(index){\n                this.selectIndex = index\n                this.mask = true\n            },\n            clickMask:function(){\n                this.mask = !this.mask\n            },\n            touchend:function(){\n                this.touchE = new Date().getTime();\n            },\n            touchstart:function(){\n                this.touchT = new Date().getTime();\n            },\n            clickServer(index){\n                if(this.touchE-this.touchT<350){\n                    console.log(this.serverList[index])\n                    uni.reLaunch({\n                        url:'../index/index?communityid='+this.serverList[index].id\n                    })\n                }\n            },\r\n\t\t\tgetserverList() {\r\n\t\t\t\t// 获取服务站列表\r\n\t\t\t\tapi.getmyjoincommunity().then(res=>{\n                    if(res.status == 'OK'){\n                        if(this.page == 1){\n                            this.serverList = []\n                            if(res.list.length>=this.size){\n                                console.log('ismoreismoreismore')\n                                this.ismore = true\n                            }\n                        }\n                        res.list.map(item=>{\n                            var update = false;\n                            if(item.province){\n                                if(item.province.length>2){\n                                    item.addr = item.province.substring(0, 2)\n                                    update = true\n                                }else{\n                                    item.addr = item.province\n                                    update = true\n                                }\n                            }\n                            if(item.city){\n                                item.addr = item.addr  + ' | ' + item.city.substring(0,item.city.length - 1)\n                                   update = true\n                            }\n                            if(!update){\n                                item.addr = ''\n                            }\n                            if(item.icon && JSON.parse(item.icon ).length > 0){\n                                item.icon = JSON.parse(item.icon)[0].url\n                            }\n                            if(item.score){\n                                item.score = Math.round(item.score)\n                            }\n                            this.serverList.push(item);\n                        })\n                    }\n                    uni.stopPullDownRefresh();\n                    uni.hideNavigationBarLoading()\r\n\t\t\t\t})\t\r\n\t\t\t},\r\n\t\t\tclickMarkBtn:function() {\n                var item = this.serverList[this.selectIndex]\r\n\t\t\t\tapi.canceljoincommunity({\r\n\t\t\t\t\tcommunityId: item.id \r\n\t\t\t\t}).then(res=>{\n                    this.mask = false\r\n\t\t\t\t\tthis.getserverList()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgomain: function () {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/serverStation/main`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjoin(id) {\r\n\t\t\t\tapi.joincommunity({\r\n\t\t\t\t\tcommunityId: id\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.getserverList()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n    view{\n        line-height: 1.7;\n    }\r\n\t\r\n\t.cont{ background:rgba(239,241,246,1); height: 100vh;overflow: auto;box-sizing: border-box; }\r\n\t\r\n\t.btn{background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%); border-radius:40rpx; color:#fff; }\r\n\n    .guanjianame{white-space: nowrap;text-overflow: ellipsis;overflow: hidden;}\n    .gkfxbtn{\n        width:197upx;\n        height:67upx;\n        background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\n        box-shadow:0px 6upx 31upx 0px rgba(3,190,144,0.3);\n        border-radius:33upx;\n        line-height: 67upx;\n        text-align: center;\n        color: #FFFFFF;\n        // margin-right: 46upx;\n    }\n    .btnBox{\n        display: flex;\n        align-items: flex-start;\n        margin: 23upx 33upx;\n        width: calc(100% - 66upx);\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        margin-top: 130rpx;\n    }\n    .calendarBox{\n        background: #FFFFFF;\n        opacity: 1;\n        position:fixed;\n        top: 25%;\n        left: 94upx;\n        height: 313upx;\n        width: calc(100% - 188upx);\n        z-index: 100;  \n        border-radius: 30upx;\n        color: #6D7480;\n        font-size: 30upx;\n    }\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stationList.vue?vue&type=style&index=0&id=030dd8cc&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stationList.vue?vue&type=style&index=0&id=030dd8cc&scoped=true&lang=scss&\""],"sourceRoot":""}