{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue?c7bf","webpack:///E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue?1913","webpack:///E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue?fc4b","webpack:///E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue?efa9","uni-app:///pages/aldiscriminate/pages/alskin/faceRecognize.vue","webpack:///E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue?da3e"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,wE,mDACAA,EAAWC,a;;;;2DCHX,gSACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uEACZ,aAAAF,E;;;;2GCvBf,0zB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,8eAAgzB,eAAG,G;;;;0ICmBnzB,oDACA,0C,EACA,CAEE,KAFF,WAGI,MAAJ,CACA,kBACM,aAAN,EACM,IAAN,GACM,eAAN,EACM,aAAN,KACM,OAAN,SACM,SAAN,OACM,YAAN,GACM,WAAN,OAGE,OAfF,SAeA,cACI,KAAJ,UACI,KAAJ,0BACI,IAAJ,GACM,QAAN,cAEI,KAAJ,sBACM,KAAN,IACI,MAAJ,YACM,QAAN,uBACM,QAAN,OACM,EAAN,oBACM,EAAN,WAIE,QAAF,CACI,SAAJ,WACA,wBACQ,EAAR,YACU,IAAV,mDAGA,wBACQ,EAAR,cACU,MAAV,KAII,UAAJ,WACM,EAAN,cACQ,MAAR,KAGI,KAAJ,WACM,GAAN,mBAEQ,EAAR,aACU,MAAV,UAEQ,IAAR,OACQ,EAAR,YACU,IAAV,sBACU,SAAV,SACU,KAAV,aACU,SAAV,CACY,OAAZ,yBACY,UAAZ,6BAEU,QARV,SAQA,GACY,GAAZ,QACc,QAAd,YACc,IAAd,qBACc,GAAd,iBACgB,IAAhB,kCACgB,EAAhB,kBAGgB,EAAhB,WACkB,MAAlB,UACkB,KAAlB,OACkB,SAAlB,QAIA,KAxBA,aA0BA,SA1BA,SA0BA,GACY,EAAZ,cACA,oBACc,EAAd,WACgB,MAAhB,SACgB,KAAhB,OACgB,SAAhB,cAOQ,EAAR,WACU,MAAV,0BACU,KAAV,OACU,SAAV,OAII,UAAJ,uBAEA,GACQ,KAAR,EACQ,YAAR,kBAEM,KAAN,mBACQ,KAAR,IACM,MAAN,YACA,gBACU,EAAV,kBACU,EAAV,iBACU,EAAV,eACU,EAAV,kBAEU,EAAV,iBACU,EAAV,4BACU,EAAV,qBAKI,WAAJ,e;;;;2DCjJA,mrBAA4oC,eAAG,G","file":"pages/aldiscriminate/pages/alskin/faceRecognize.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/aldiscriminate/pages/alskin/faceRecognize.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./faceRecognize.vue?vue&type=template&id=115c5f76&\"\nvar renderjs\nimport script from \"./faceRecognize.vue?vue&type=script&lang=js&\"\nexport * from \"./faceRecognize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./faceRecognize.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/aldiscriminate/pages/alskin/faceRecognize.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./faceRecognize.vue?vue&type=template&id=115c5f76&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./faceRecognize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./faceRecognize.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"sssssss\" @touchmove.stop.prevent=\"moveHandle\" :style=\"{ height: screenHeight }\">\n        <view class=\"navigation\" :style=\"{ height: statusBarHeight }\">\n            <image @click=\"clickBack\" class=\"backBtn\" src=\"../../../../static/image/icon_left.png\" mode=\"\"></image>\n            \n        </view>\n        <view class=\"fenxizhong\">\n            {{slogan}}\n        </view>\n        <image class=\"quanquan\" src=\"https://coffer.bainuo.cn/mdt-pub/img_fxzwqqq.png\" mode=\"\"></image>\n        <image class=\"qqqqq\" src=\"/pages/aldiscriminate/static/img_zdqqqq.png\" mode=\"\"></image>\n        <image class=\"facePic\" :src=\"url\" mode=\"widthFix\"></image>\n        <view class=\"hole\"></view>\n        <view v-if=\"recognizeState != 0\" @click=\"clickBtn\" class=\"login-btn\">{{btnTitle}}</view>\n    </view>\n</template>\n\n<script>\n    \n    var statusBarHeight = uni.getSystemInfoSync().statusBarHeight + 44 + 'px'\n    var screenHeight = uni.getSystemInfoSync().screenHeight + 'px'\n    export default {\n        \n    \tdata() {\n    \t\treturn {\n    \t\t\tstatusBarHeight: statusBarHeight,\n                screenHeight:screenHeight,\n                url:'',\n                recognizeState:0,\n                uploadParams:null,\n                slogan:'分析中...',\n                btnTitle:'查看报告',\n                communityId:'',\n                faceRecord:null\n    \t\t}\n    \t},\n    \tonLoad(options) {\n            this.url = options.url\n            this.communityId = options.communityId\n            const data = {\n            \tpurpose: 'useravatar'\n            }\n            this.$api.getUploadParams({\n            \tdata: data\n            }).then(res => {\n            \tconsole.log('getUploadParams')\n            \tconsole.log(res)\n            \tthis.uploadParams = res.data\n                this.next()\n            })\n            \n    \t},\n    \tmethods: {\n            clickBtn:function(){\n                if(this.recognizeState == 1){        //跳转报告\n                    uni.navigateTo({    \n                        url:'../../../index/skinPos?sid='+this.faceRecord.id\n                    })\n                }\n                if(this.recognizeState == 2){\n                    uni.navigateBack({\n                        delta:2\n                    })\n                }\n            },\n            clickBack:function(){\n                uni.navigateBack({\n                    delta:2\n                })\n            },\n            next:function(){\n                if (this.uploadParams) {\n                  \n                \tuni.showLoading({\n                \t\ttitle: '图片上传中'\n                \t})\n                    var _self = this\n                \tuni.uploadFile({\n                \t\turl: this.uploadParams.url,\n                \t\tfilePath: this.url,\n                \t\tname: 'userAvatar',\n                \t\tformData: {\n                \t\t\tpolicy: this.uploadParams.policy,\n                \t\t\tSignature: this.uploadParams.Signature\n                \t\t},\n                        success(result) {\n                \t\t\tif (result.data) {\n                                console.log(result.data);\n                \t\t\t\tlet r = JSON.parse(result.data)\n                \t\t\t\tif (r.status === 'OK') {\n                                    var pic = r.data.location + r.data.filepath\n                                    _self.recognize(pic)\n                                    \n                        \t\t} else {\n                                    uni.showToast({\n                                        title: r.message,\n                                        icon: \"none\",\n                                        duration: 2000\n                                    })\n                                }\n                            }\n                        },fail() {\n                        \t\t                \n                        },complete(res) {\n                        \tuni.hideLoading()\n                        \tif (res.statusCode !== 200) {\n                        \t\tuni.showToast({\n                        \t\t\ttitle: res.errMsg,\n                        \t\t\ticon: \"none\",\n                        \t\t\tduration: 2000\n                        \t\t})\n                        \t}\n                        }\n                    })\n              \n                }else{\n                    uni.showToast({\n                        title: 'getUploadParams failed!',\n                        icon: \"none\",\n                        duration: 2000\n                    })\n                }\n            },\n            recognize:function(url){\n                \n                const data = {\n                \tpath: url,\n                    communityId:this.communityId\n                }\n                this.$api.faceAnalysis({\n                    data:data\n                }).then(res=>{\n                    if(res.status == 'OK'){\n                        this.faceRecord = res.data\n                        this.recognizeState = 1\n                        this.slogan = '分析完成！'\n                        this.btnTitle = '查看报告'\n                    }else{\n                        this.recognizeState = 2\n                        this.slogan = '图片拍摄不符合要求，请按照示例拍摄！'\n                        this.btnTitle = '重新拍摄'\n                    }\n                })\n                \n            },\n            moveHandle:function(){\n                \n            }\n        },\n    }\n</script>\n\n<style>\n    page{\n        background: #333;\n    }\n    \n    \n    .hole {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      z-index: 80;\n      /*overflow: hidden;*/\n    }\n    .hole:after {\n      position: absolute;\n      /* height: 520upx;\n      width: 520upx;\n     left: -48%;\n      top: -17%; \n      left: -736upx;\n      top: -509upx;*/\n        height: 595rpx;\n        width: 598rpx;\n        left: -773rpx;\n        top: -464rpx;\n\n      content: '';\n      border-radius: 50%;\n      border: 850upx solid #008A67;\n    }\n    .qqqqq{\n        left: 74rpx;\n        height: 616rpx;\n        width: 610rpx;\n        top: 374rpx;\n        position: absolute;\n        z-index: 100;\n    }\n    .fenxizhong{\n        top: 200upx;\n        width: 100%;\n        text-align: center;\n        position: absolute;\n        z-index: 100;\n        color: #FFFFFF;\n    }\n    .quanquan{\n        left: 34upx;\n        width: 684upx;\n        height: 684upx;\n        top: 340upx;\n        position: absolute;\n        z-index: 100;\n    }\n    .login-btn {\n        position: absolute;\n        z-index: 100;\n        left: 135upx;\n        right: 135upx;\n        top: 1086upx;\n        height: 104upx;\n        line-height: 104upx;\n        border-radius: 52upx;\n        color: #FFFFFF;\n        font-size: 31upx;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\n        box-shadow:0px 6upx 31upx 0px rgba(3,190,144,0.3);\n    }\n    .sssssss{\n        display: flex;\n        align-items: center;\n    }\n    .navigation{\n        position: absolute;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        top: 0upx;\n        z-index: 90;\n    }\n    .backBtn{\n        position: absolute;\n        width: 50upx;\n        height: 50upx;\n        bottom: 21upx;\n        left: 12upx;\n    }\n    .facePic{\n        /* position: absolute; */\n        width: 100%;\n        \n    }\n    .previousBtn{\n        position: absolute;\n        left: 0upx;\n        bottom: 0upx;\n        width: 120upx;\n        height: 120upx;\n        border-radius: 0upx 105upx 0upx 0upx ;\n        background: #FFFFFF;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 110;\n    }\n    .previousBtn image{\n        margin-top: 20upx;\n        margin-right: 20upx;\n        width: 34upx;\n        height: 34upx;\n        z-index: 111;\n    }\n    .nextBtn{\n        position: absolute;\n        right: 0upx;\n        bottom: 0upx;\n        width: 120upx;\n        height: 120upx;\n        border-radius: 105upx 0upx 0upx 0upx;\n        background: #148973;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 110;\n    }\n    .nextBtn image{\n        margin-top: 20upx;\n        margin-left: 20upx;\n        width: 34upx;\n        height: 34upx;\n        z-index: 111;\n    }\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./faceRecognize.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./faceRecognize.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}