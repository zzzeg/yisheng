{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?4b8b","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?e864","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?2b7e","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?591f","uni-app:///pages/service-record/makeMedical.vue","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?8a01"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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","file":"pages/service-record/makeMedical.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/service-record/makeMedical.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./makeMedical.vue?vue&type=template&id=dc0d6556&\"\nvar renderjs\nimport script from \"./makeMedical.vue?vue&type=script&lang=js&\"\nexport * from \"./makeMedical.vue?vue&type=script&lang=js&\"\nimport style0 from \"./makeMedical.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/service-record/makeMedical.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=template&id=dc0d6556&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"content\">\n        <view class=\"topBox\">\n            <image :src=\"kkPackage.icon\" mode=\"aspectFill\"></image>\n            <view style=\"flex: 1; margin-right: 30upx;\">\n                <view class=\"title\">{{kkPackage.packageName ? kkPackage.packageName : ''}}</view>\n                <view class=\"desc\">{{kkPackage.packageType ? kkPackage.packageType : ''}}</view>\n                <view class=\"price\">￥{{kkPackage.sealPrice ? kkPackage.sealPrice : ''}}</view>\n            </view>\n        </view>\n        <view class=\"infoBox\">\n            <view v-if=\"reserveStatus == 'DOING' || reserveStatus == 'FAIL' || isUpdate\" style=\"height: 82upx;line-height: 82upx;padding-left: 32upx; color: #D0021B; font-size: 25upx;background: #F9FAFB;\">\n                {{reserveStatus == 'FAIL' ? '由于您提交的预约时间名额已满，需另选合适的体检时间' : reserveStatus == 'DOING' ? '预约结果会以短信发送到您的手机或在明我公众号消息中查看。' : '已预约成功，如需修改预约时间，请至少提前两天修改。'}}\n            </view>\n            <view class=\"item\">\n                <view class=\"infoTitle\" >体检医院</view>\n                <view class=\"activate\" :class=\"{greyColor:reserveStatus != 'null'}\" >{{kkHospName}}</view>\n            </view>\n            <view class=\"line\"></view>\n            <view class=\"item\" @click=\"clickTime\">\n                <view class=\"infoTitle\">体检时间</view>\n                <view class=\"activate\" :class=\"{greyColor:((reserveStatus == 'SUCCESS' && !isUpdate) || (reserveStatus == 'DOING' ))}\" style=\"flex: 1;\">{{makeTime}}</view>\n                <image v-if=\"isUpdate || reserveStatus == 'FAIL' || reserveStatus == 'null'\" style=\"width: 46upx; height: 42upx; margin:0 32upx;\" src=\"../../static/image/riliriqi@2x.png\" mode=\"\"></image>\n            </view>\n            <view class=\"line\"></view>\n            <view class=\"item\">\n                <view class=\"infoTitle\">体检人</view>\n                <input type=\"text\" v-model=\"name\" class=\"activate\" :disabled=\"reserveStatus != 'null'\" :class=\"{greyColor:reserveStatus != 'null'}\" placeholder-class=\"greyColor\" placeholder=\"请输入体检人姓名\" />\n            </view>\n            <view class=\"line\"></view>\n            <view v-if=\"showSex\" class=\"item\">\n                <view class=\"infoTitle\">性别</view>\n                <image @click=\"clickSex(1)\" :class=\"{greyImage:reserveStatus != 'null'}\" style=\"width: 40upx; height: 40upx;\" :src=\"[sex==1 ? '../../static/image/icon_select.png' : '../../static/image/icon_noselect.png']\" mode=\"\"></image>\n                <view @click=\"clickSex(1)\" :class=\"{greyColor:reserveStatus != 'null'}\" class=\"activate\" style=\"width: 120upx;text-align: center;\">男</view>\n                <image @click=\"clickSex(2)\" :class=\"{greyImage:reserveStatus != 'null'}\" style=\"width: 40upx; height: 40upx;\" :src=\"[sex==2 ? '../../static/image/icon_select.png' : '../../static/image/icon_noselect.png']\" mode=\"\"></image>\n                <view @click=\"clickSex(2)\" class=\"activate\" :class=\"{greyColor:reserveStatus != 'null'}\" style=\"width: 120upx;text-align: center;\">女</view>\n            </view>\n            <view v-if=\"showSex\" class=\"line\"></view>\n            <view class=\"item\">\n                <view class=\"infoTitle\">婚姻状态</view>\n                <image @click=\"clickMarried(1)\" :class=\"{greyImage:reserveStatus != 'null'}\" style=\"width: 40upx; height: 40upx;\" :src=\"[married==1 ? '../../static/image/icon_select.png' : '../../static/image/icon_noselect.png']\" mode=\"\"></image>\n                <view @click=\"clickMarried(1)\" :class=\"{greyColor:reserveStatus != 'null'}\" class=\"activate\" style=\"width: 120upx;text-align: center;\">未婚</view>\n                <image @click=\"clickMarried(0)\" :class=\"{greyImage:reserveStatus != 'null'}\" style=\"width: 40upx; height: 40upx;\" :src=\"[married==0 ? '../../static/image/icon_select.png' : '../../static/image/icon_noselect.png']\" mode=\"\"></image>\n                <view @click=\"clickMarried(0)\" class=\"activate\" :class=\"{greyColor:reserveStatus != 'null'}\" style=\"width: 120upx;text-align: center;\">已婚</view>\n            </view>\n            <view class=\"line\"></view>\n            <view class=\"item\" @click=\"clickType\">\n                <view class=\"infoTitle\">证件类型</view>\n                <view :class=\"{greyColor:reserveStatus != 'null'}\" class=\"activate\" style=\"flex: 1;\">{{certificateTypes[cardType]}}</view>\n                <image v-if=\"reserveStatus == 'null'\" style=\"width: 26upx; height: 22upx; margin:0 50upx;\" src=\"../../static/image/icon_xxzk@2x.png\" mode=\"\"></image>\n            </view>\n            <view class=\"line\"></view>\n            <view class=\"item\">\n                <view class=\"infoTitle\">证件号码</view>\n                <input v-model=\"cardNumber\" type=\"text\" value=\"\" :disabled=\"reserveStatus != 'null'\" :class=\"{greyColor:reserveStatus != 'null'}\" class=\"activate\" placeholder-class=\"greyColor\" placeholder=\"请输入您的证件号码\" />\n            </view>\n            <view class=\"line\"></view>\n            <view class=\"item\">\n                <view class=\"infoTitle\">手机号码</view>\n                <input v-model=\"contactTel\" type=\"text\" value=\"\" :disabled=\"reserveStatus != 'null'\" :class=\"{greyColor:reserveStatus != 'null'}\" class=\"activate\" placeholder-class=\"greyColor\" placeholder=\"请输入手机号码\" />\n            </view>\n        </view>\n\n        <button v-if=\"isUpdate || reserveStatus == 'FAIL' || reserveStatus == 'null'\" @click=\"clickSubmit\" class=\"login-btn\" >提交</button>\n        \n        <view v-if=\"mask!=0\" class=\"cpt-mask\"></view>\n        <view v-if=\"mask!=0\" class=\"calendarBox\" :style=\"{height: boxHeight,top:topHeight}\">\n            <template v-if=\"mask==1\">\n                <view style=\"margin: 35upx 0upx; display: flex;flex-direction: row;flex: 1; align-items: center;justify-content: center;padding-left: 100upx; font-size:35upx;\" >\n                    <view style=\"flex: 1;text-align: center;\">查看体检日期</view>\n                    <image @click=\"clickClose\" style=\"opacity: 0.4;width: 33upx; height: 33upx;margin-right: 33upx;\" src=\"../../static/image/icon_md_gb@2x.png\" mode=\"\"></image>\n                </view>\n                <view class=\"line\"></view>\n                <v-calendar name=\"calendar\" :showText=\"showText\" :defaultTime=\"time\" :extraData=\"extraData\"  @calendarTap=\"calendarTap\" />\n                                \n            </template>\n            <template v-if=\"mask==2\">\n                <view style=\"font-size:35upx;color: #2A3441; display: flex;flex-direction: row;justify-content: space-between; height: 96upx;\">\n                    <view @click=\"clickClose\" style=\"width: 120upx;line-height: 96upx;text-align: center;\">取消</view>\n                    <view @click=\"clickSelectType\" style=\"width: 120upx;color: #03BE90;line-height: 96upx;text-align: center;\">确认</view>\n                </view>\n                <view class=\"line\"></view>\n                <picker-view :indicator-style=\"indicatorStyle\" :value=\"certificateTypes[cardType]\" @change=\"bindChange\">\n                    <picker-view-column>\n                        <view style=\"color: #4A4A4A;line-height: 100rpx;text-align: center;\" v-for=\"(item,index) in certificateTypes\" :key=\"index\">{{item}}</view>\n                    </picker-view-column>\n                </picker-view>\n            </template>\n        </view>\n    </view>\n</template>\n\n<script>\n    import calendar from '../../components/tale-calendar/tale-calendar.vue';\n    import util from '../../common/util.js'\n    export default {\n        components: {\n            'v-calendar': calendar\n        },\n    \tdata() {\n    \t\treturn {\n                boxHeight:0,\n                topHeight:0,\n                mask:0,\n                \n                visible: true,\n                indicatorStyle: `height: ${Math.round(uni.getSystemInfoSync().screenWidth/(750/100))}px;`,\n                certificateTypes:['身份证','港澳通行证/护照'],\n                showText:'#2A3441',\n                time: {year: 2020, month: 5},\n                extraData: [\n                    \n                ],\n                hospId:null,\n                reserveStatus:null,\n                procudtId:null,\n                orderId:null,\n                kkPackage:'',\n                kkHospName:'',\n                \n                makeTime:'请选择体检时间',\n                name:null,\n                cardNumber:null,\n                cardType:0,\n                contactTel:null,\n                married:1,\n                sex:null,\n                tempType:0,\n                reserveFormId:null,\n                kkReserveId:null,\n                \n                isUpdate:false,\n                showSex:false,\n                \n                backType:0\n            }\n        },\n        onLoad(options) {\n            this.hospId = options.hospId\n            this.reserveStatus = options.reserveStatus\n            \n            this.orderId = options.orderId\n            this.procudtId = options.procudtId\n            this.reserveFormId = options.reserveFormId\n            \n            if(options.backType == 1){\n                this.backType = 1\n            }\n            if(options.reserveFormId && options.reserveFormId != 'null'){\n                this.getKKReserve()\n            }else{\n                this.getKKHosp()\n                this.getKKPackage()\n                this.getHospitalDateService()\n            }\n        },\n        methods:{\n            clickSex:function(tag){\n                this.sex = tag\n            },\n            clickSubmit:function(){\n                if(this.makeTime == '请选择体检时间'){\n                    uni.showToast({\n                        title: '请选择体检时间',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(this.reserveStatus == 'FAIL' || this.isUpdate){\n                    if(this.kkReserveId==null){\n                        return\n                    }\n                    \n                    this.$api.updateKKReserve({\n                        data:{\n                            id:this.kkReserveId,\n                            checkupTime:this.makeTime\n                        },\n                        showHud:true\n                    }).then(res=>{\n                        console.log(res)\n                        if(res.status == 'OK'){\n                            this.getKKReserve()\n                        }\n                    })\n                }else{\n                    if(this.name == null){\n                        uni.showToast({\n                            title: '请输入体检人姓名',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    if(this.cardNumber == null){\n                        uni.showToast({\n                            title: '请输入证件号码',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    if(this.sex == null){\n                        uni.showToast({\n                            title: '请输入性别',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    if(!util.checkIDCard(this.cardNumber) && this.cardType == 0){\n                        uni.showToast({\n                            title: '请输入正确的证件号码',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    if(this.contactTel == null){\n                        uni.showToast({\n                            title: '请输入手机号码',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    if(!util.verifyMobile(this.contactTel)){\n                        uni.showToast({\n                            title: '请输入正确的手机号码',\n                            icon: 'none',\n                            duration: 2000\n                        })\n                        return\n                    }\n                    this.$api.addKKReserve({\n                        data:{\n                            cardNumber:this.cardNumber,\n                            cardType:this.cardType+1,\n                            checkupTime:this.makeTime,\n                            contactTel:this.contactTel,\n                            hospId:this.hospId,\n                            married:this.married,\n                            name:this.name,\n                            orderId:this.orderId,\n                            packageCode:this.procudtId,\n                            sex:this.sex\n                        }\n                    }).then(res=>{\n                        console.log(res)\n                        if(res.status == 'OK'){\n                            this.reserveFormId = res.data.id\n                            this.getKKReserve()\n                            // this.disposeKKReserveData(res.data)\n                        }\n                    })\n                }\n            },\n            disposeKKReserveData:function(data){\n                this.name = data.name\n                this.sex = data.sex\n                this.married = Number(data.married) \n                this.contactTel = data.contactTel\n                this.cardNumber = data.cardNumber\n                this.cardType = data.cardType\n                this.kkReserveId = data.id\n                this.reserveStatus = data.status\n                if(data.status == 'WAIT'){\n                    this.reserveStatus = 'null'\n                }\n                // this.reserveStatus = 'null'\n                var time = util.formatTimestamp(data.checkupTime, 'yyyy-MM-dd')\n       \n                time = time.replace(/-/g,\"\")\n                var date=new Date;\n                var y = date.getFullYear()\n                var m = date.getMonth() + 1\n                m = m < 10 ? '0' + m : m\n                var d = date.getDate()\n                d = d < 10 ? ('0' + d) : d\n                var dayNum = Number(y+m+d)\n                \n                if(this.reserveStatus == 'SUCCESS' || this.reserveStatus == \"DOING\"){\n                    this.makeTime = time\n                    console.log(Number(time) - Number(dayNum))\n                    if(Number(time) - dayNum > 2 && this.reserveStatus == 'SUCCESS'){\n                        this.isUpdate = true\n                    }\n                }\n                \n            },\n            getKKReserve:function(){\n                this.$api.findByIdkkReserve({\n                    data:{\n                        id:this.reserveFormId\n                    }\n                }).then(res=>{\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        this.getKKHosp()\n                        this.getKKPackage()\n                        this.getHospitalDateService()\n                        this.disposeKKReserveData(res.data)\n                    }\n                })\n            },\n            getKKHosp:function(){\n                this.$api.findByIdKKHospital({\n                    data:{\n                        hospId:this.hospId\n                    }\n                }).then(res=>{\n                    \n                    if(res.status == 'OK'){\n                        this.kkHospName = res.data.hospName\n                    }\n                })\n            },\n            getHospitalDateService:function(){\n                this.$api.getHospitalDateService({\n                    data:{\n                        hospId:this.hospId,\n                        packageCode:this.procudtId\n                    }\n                }).then(res=>{\n               \n                    if(res.status == 'OK'){\n                        res.data.forEach(item => {\n                            console.log(Number(item.maxNum) - Number(item.usedNum))\n                            if(Number(item.maxNum) - Number(item.usedNum)>0){\n                                var value = {date: item.date, value: '可约', dot: true, active: true,textColor:'#03BE90'}\n                                this.extraData.push(value)\n                            }\n                        })\n                        \n                    }\n                })\n            },\n            getKKPackage:function(){\n                this.$api.findByKKPackage({\n                    data:{\n                        code:this.procudtId\n                    }\n                }).then(res=>{\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        this.kkPackage = res.data\n                        if(res.data.snapshot && JSON.parse(res.data.snapshot)){\n                            this.kkPackage.icon = JSON.parse(res.data.snapshot).packageImage_0_thumb\n                            this.kkPackage.sealPrice = JSON.parse(res.data.snapshot).sealPrice\n                            this.kkPackage.packageSex = JSON.parse(res.data.snapshot).packageSex\n                            if(this.kkPackage.packageSex!=0){\n                                this.sex = this.kkPackage.packageSex\n                            }else{\n                                this.showSex = true\n                            }\n                        }\n                    }\n                })\n            },\n            bindChange:function (e) {\n                const val = e.detail.value\n                this.tempType = val[0]\n                console.log(this.tempType)\n            },\n            clickSelectType:function(){\n                this.cardType = this.tempType\n                this.mask = 0\n                console.log(this.cardType)\n            },\n            calendarTap:function(e){\n                console.log(e)\n                this.makeTime = e.year + '-' + ( Number(e.month)  + 1) + '-' + e.day \n                this.mask = 0\n            },\n            clickMarried:function(tag){\n                if(this.reserveStatus == 'null') {\n                    this.married = tag\n                }\n            },\n            clickType:function(){\n                if(this.reserveStatus == 'SUCCESS' || this.reserveStatus == 'DOING'){\n                    return\n                }\n                this.boxHeight = '30%'\n                this.topHeight = '70%'\n                this.mask = 2\n            },\n            clickTime:function(){\n                if(this.isUpdate || this.reserveStatus == 'FAIL' || this.reserveStatus == 'null'){\n                    this.boxHeight = '75%'\n                    this.topHeight = '25%'\n                    this.mask = 1\n                }\n            },\n            clickClose:function(){\n                this.mask = 0\n            }\n        }\n    }\n</script>\n\n<style>\n    page{\n        background: #EFF1F6;\n    }\n    picker-view {\n        width: 100%;\n        height: calc(100% - 120upx);\n        margin-top:20rpx;\n    }\n    .topBox{\n        margin: 30upx 0upx 20upx 0upx;\n        height: 244upx;\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        background: #FFFFFF;\n        align-items: center;\n    }\n    .topBox image{\n        width: 142upx;\n        height: 142upx;\n        margin: 50upx 20upx 50upx 30upx;\n        background: #C0C0C0;\n        border-radius: 15upx;\n    }\n    .topBox .title{\n        color: #434E5E;\n        font-size:29upx;\n    }\n    .topBox .desc{\n        color: #A2A9BA;\n        font-size:25upx;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n    }\n    .topBox .price{\n        color: #16202E;\n        font-size:29upx;\n    }\n    .infoBox{\n        font-size:31upx;\n        background: #FFFFFF;\n    }\n    .infoBox .item{\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        height: 108upx;\n    }\n    .activate{\n        color: #16202E;\n    }\n    .line{\n        background: #EAEDF4;\n        height: 2upx;\n        width: 100%;\n    }\n    .greyColor{\n        color: #C6CAD4;\n    }\n    .greyImage{\n        opacity: 0.4;\n    }\n    .infoTitle{\n        width: 160upx;\n        text-align: left;\n        padding-left: 32upx;\n    }\n    .login-btn {\n        margin: 146upx 125upx 100upx 125upx;\n        height: 88upx;\n        line-height: 88upx;\n        border-radius: 44upx;\n        color: #FFFFFF;\n        font-size: 31upx;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\n        box-shadow:0px 6upx 31upx 0px rgba(3,190,144,0.3);\n    }\n    .calendarBox{\n        background: #FFFFFF;\n        opacity: 1;\n        position:fixed;\n        top: 25%;\n        width: 100%;\n        z-index: 100;  \n        border-radius: 30upx 30upx 0upx 0upx;\n        color: #6D7480;\n        font-size: 30upx;\n    }\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}