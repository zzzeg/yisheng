{"version":3,"sources":["webpack:///E:/yisheng/trunk/main.js","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?4b8b","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?e864","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?2b7e","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?591f","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue","webpack:///E:/yisheng/trunk/pages/service-record/makeMedical.vue?8a01"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","calendar","data","boxHeight","topHeight","mask","visible","indicatorStyle","Math","round","uni","getSystemInfoSync","screenWidth","certificateTypes","showText","time","year","month","extraData","hospId","reserveStatus","procudtId","orderId","kkPackage","kkHospName","makeTime","name","cardNumber","cardType","contactTel","married","sex","tempType","reserveFormId","kkReserveId","isUpdate","showSex","backType","onLoad","getKKReserve","getKKHosp","getKKPackage","getHospitalDateService","methods","clickSex","tag","clickSubmit","$api","updateKKReserve","id","checkupTime","showHud","then","res","console","log","status","showToast","title","icon","duration","util","checkIDCard","verifyMobile","addKKReserve","packageCode","disposeKKReserveData","Number","formatTimestamp","replace","date","Date","y","getFullYear","m","getMonth","d","getDate","dayNum","findByIdkkReserve","findByIdKKHospital","hospName","forEach","item","maxNum","usedNum","value","dot","active","textColor","push","findByKKPackage","code","snapshot","JSON","parse","packageImage_0_thumb","sealPrice","packageSex","bindChange","e","val","detail","clickSelectType","calendarTap","day","clickMarried","clickType","clickTime","clickClose"],"mappings":";;;;wEAAA,qBACA,sBACA,yD,mDACAA,EAAWC,a;;;;2DCHX,0RACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wDACZ,aAAAF,E;;;;2GCvBf,wzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,4eAA8yB,eAAG,G;;;;0IC8FjzB,0C,4SACe,CACXV,WAAY,CACR,aAAcW,GAErBC,KAJc,WAKb,MAAO,CACGC,UAAU,EACVC,UAAU,EACVC,KAAK,EAELC,SAAS,EACTC,eAAgB,WAAF,OAAaC,KAAKC,MAAMC,EAAIC,oBAAoBC,YAAxB,KAAxB,OACdC,iBAAiB,CAAC,MAAM,YACxBC,SAAS,UACTC,KAAM,CAACC,KAAM,KAAMC,MAAO,GAC1BC,UAAW,GAGXC,OAAO,KACPC,cAAc,KACdC,UAAU,KACVC,QAAQ,KACRC,UAAU,GACVC,WAAW,GAEXC,SAAS,UACTC,KAAK,KACLC,WAAW,KACXC,SAAS,EACTC,WAAW,KACXC,QAAQ,EACRC,IAAI,KACJC,SAAS,EACTC,cAAc,KACdC,YAAY,KAEZC,UAAS,EACTC,SAAQ,EAERC,SAAS,IAGjBC,OA1CW,SA0CJlD,GACHK,KAAK0B,OAAS/B,EAAQ+B,OACtB1B,KAAK2B,cAAgBhC,EAAQgC,cAE7B3B,KAAK6B,QAAUlC,EAAQkC,QACvB7B,KAAK4B,UAAYjC,EAAQiC,UACzB5B,KAAKwC,cAAgB7C,EAAQ6C,cAEN,GAApB7C,EAAQiD,WACP5C,KAAK4C,SAAW,GAEjBjD,EAAQ6C,eAA0C,QAAzB7C,EAAQ6C,cAChCxC,KAAK8C,gBAEL9C,KAAK+C,YACL/C,KAAKgD,eACLhD,KAAKiD,2BAGbC,QAAQ,CACJC,SAAS,SAASC,GACdpD,KAAKsC,IAAMc,GAEfC,YAAY,WAAW,IAAD,OAClB,GAAoB,WAAjBrD,KAAKgC,SAQR,GAAyB,QAAtBhC,KAAK2B,eAA2B3B,KAAK0C,SAAS,CAC7C,GAAqB,MAAlB1C,KAAKyC,YACJ,OAGJzC,KAAKsD,KAAKC,gBAAgB,CACtB9C,KAAK,CACD+C,GAAGxD,KAAKyC,YACRgB,YAAYzD,KAAKgC,UAErB0B,SAAQ,IACTC,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACK,MAAdA,EAAIG,QACH,EAAKjB,sBAGZ,CACD,GAAgB,MAAb9C,KAAKiC,KAMJ,YALAhB,EAAI+C,UAAU,CACVC,MAAO,WACPC,KAAM,OACNC,SAAU,MAIlB,GAAsB,MAAnBnE,KAAKkC,WAMJ,YALAjB,EAAI+C,UAAU,CACVC,MAAO,UACPC,KAAM,OACNC,SAAU,MAIlB,GAAe,MAAZnE,KAAKsC,IAMJ,YALArB,EAAI+C,UAAU,CACVC,MAAO,QACPC,KAAM,OACNC,SAAU,MAIlB,IAAIC,UAAKC,YAAYrE,KAAKkC,aAAgC,GAAjBlC,KAAKmC,SAM1C,YALAlB,EAAI+C,UAAU,CACVC,MAAO,aACPC,KAAM,OACNC,SAAU,MAIlB,GAAsB,MAAnBnE,KAAKoC,WAMJ,YALAnB,EAAI+C,UAAU,CACVC,MAAO,UACPC,KAAM,OACNC,SAAU,MAIlB,IAAIC,UAAKE,aAAatE,KAAKoC,YAMvB,YALAnB,EAAI+C,UAAU,CACVC,MAAO,aACPC,KAAM,OACNC,SAAU,MAIlBnE,KAAKsD,KAAKiB,aAAa,CACnB9D,KAAK,CACDyB,WAAWlC,KAAKkC,WAChBC,SAASnC,KAAKmC,SAAS,EACvBsB,YAAYzD,KAAKgC,SACjBI,WAAWpC,KAAKoC,WAChBV,OAAO1B,KAAK0B,OACZW,QAAQrC,KAAKqC,QACbJ,KAAKjC,KAAKiC,KACVJ,QAAQ7B,KAAK6B,QACb2C,YAAYxE,KAAK4B,UACjBU,IAAItC,KAAKsC,OAEdqB,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACK,MAAdA,EAAIG,SACH,EAAKvB,cAAgBoB,EAAInD,KAAK+C,GAC9B,EAAKV,wBA1Fb7B,EAAI+C,UAAU,CACVC,MAAO,UACPC,KAAM,OACNC,SAAU,OA6FtBM,qBAAqB,SAAShE,GAC1BT,KAAKiC,KAAOxB,EAAKwB,KACjBjC,KAAKsC,IAAM7B,EAAK6B,IAChBtC,KAAKqC,QAAUqC,OAAOjE,EAAK4B,SAC3BrC,KAAKoC,WAAa3B,EAAK2B,WACvBpC,KAAKkC,WAAazB,EAAKyB,WACvBlC,KAAKmC,SAAW1B,EAAK0B,SACrBnC,KAAKyC,YAAchC,EAAK+C,GACxBxD,KAAK2B,cAAgBlB,EAAKsD,OACR,QAAftD,EAAKsD,SACJ/D,KAAK2B,cAAgB,QAGzB,IAAIL,EAAO8C,UAAKO,gBAAgBlE,EAAKgD,YAAa,cAElDnC,EAAOA,EAAKsD,QAAQ,KAAK,IACzB,IAAIC,EAAK,IAAIC,KACTC,EAAIF,EAAKG,cACTC,EAAIJ,EAAKK,WAAa,EAC1BD,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EACvB,IAAIE,EAAIN,EAAKO,UACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAASX,OAAOK,EAAEE,EAAEE,GAEC,WAAtBnF,KAAK2B,eAAoD,SAAtB3B,KAAK2B,gBACvC3B,KAAKgC,SAAWV,EAChBuC,QAAQC,IAAIY,OAAOpD,GAAQoD,OAAOW,IAC/BX,OAAOpD,GAAQ+D,EAAS,GAA2B,WAAtBrF,KAAK2B,gBACjC3B,KAAK0C,UAAW,KAK5BI,aAAa,WAAW,IAAD,OACnB9C,KAAKsD,KAAKgC,kBAAkB,CACxB7E,KAAK,CACD+C,GAAGxD,KAAKwC,iBAEbmB,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACK,MAAdA,EAAIG,SACH,EAAKhB,YACL,EAAKC,eACL,EAAKC,yBACL,EAAKwB,qBAAqBb,EAAInD,WAI1CsC,UAAU,WAAW,IAAD,OAChB/C,KAAKsD,KAAKiC,mBAAmB,CACzB9E,KAAK,CACDiB,OAAO1B,KAAK0B,UAEjBiC,MAAK,SAAAC,GAEa,MAAdA,EAAIG,SACH,EAAKhC,WAAa6B,EAAInD,KAAK+E,cAIvCvC,uBAAuB,WAAW,IAAD,OAC7BjD,KAAKsD,KAAKL,uBAAuB,CAC7BxC,KAAK,CACDiB,OAAO1B,KAAK0B,OACZ8C,YAAYxE,KAAK4B,aAEtB+B,MAAK,SAAAC,GAEa,MAAdA,EAAIG,QACHH,EAAInD,KAAKgF,SAAQ,SAAAC,GAEb,GADA7B,QAAQC,IAAIY,OAAOgB,EAAKC,QAAUjB,OAAOgB,EAAKE,UAC3ClB,OAAOgB,EAAKC,QAAUjB,OAAOgB,EAAKE,SAAS,EAAE,CAC5C,IAAIC,EAAQ,CAAChB,KAAMa,EAAKb,KAAMgB,MAAO,KAAMC,KAAK,EAAMC,QAAQ,EAAKC,UAAU,WAC7E,EAAKvE,UAAUwE,KAAKJ,WAOxC7C,aAAa,WAAW,IAAD,OACnBhD,KAAKsD,KAAK4C,gBAAgB,CACtBzF,KAAK,CACD0F,KAAKnG,KAAK4B,aAEf+B,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACK,MAAdA,EAAIG,SACH,EAAKjC,UAAY8B,EAAInD,KAClBmD,EAAInD,KAAK2F,UAAYC,KAAKC,MAAM1C,EAAInD,KAAK2F,YACxC,EAAKtE,UAAUoC,KAAOmC,KAAKC,MAAM1C,EAAInD,KAAK2F,UAAUG,qBACpD,EAAKzE,UAAU0E,UAAYH,KAAKC,MAAM1C,EAAInD,KAAK2F,UAAUI,UACzD,EAAK1E,UAAU2E,WAAaJ,KAAKC,MAAM1C,EAAInD,KAAK2F,UAAUK,WAC5B,GAA3B,EAAK3E,UAAU2E,WACd,EAAKnE,IAAM,EAAKR,UAAU2E,WAE1B,EAAK9D,SAAU,QAMnC+D,WAAW,SAAUC,GACjB,IAAMC,EAAMD,EAAEE,OAAOhB,MACrB7F,KAAKuC,SAAWqE,EAAI,GACpB/C,QAAQC,IAAI9D,KAAKuC,WAErBuE,gBAAgB,WACZ9G,KAAKmC,SAAWnC,KAAKuC,SACrBvC,KAAKY,KAAO,EACZiD,QAAQC,IAAI9D,KAAKmC,WAErB4E,YAAY,SAASJ,GACjB9C,QAAQC,IAAI6C,GACZ3G,KAAKgC,SAAW2E,EAAEpF,KAAO,KAAQmD,OAAOiC,EAAEnF,OAAU,GAAK,IAAMmF,EAAEK,IACjEhH,KAAKY,KAAO,GAEhBqG,aAAa,SAAS7D,GACO,QAAtBpD,KAAK2B,gBACJ3B,KAAKqC,QAAUe,IAGvB8D,UAAU,WACmB,WAAtBlH,KAAK2B,eAAoD,SAAtB3B,KAAK2B,gBAG3C3B,KAAKU,UAAY,MACjBV,KAAKW,UAAY,MACjBX,KAAKY,KAAO,IAEhBuG,UAAU,YACHnH,KAAK0C,UAAkC,QAAtB1C,KAAK2B,eAAiD,QAAtB3B,KAAK2B,iBACrD3B,KAAKU,UAAY,MACjBV,KAAKW,UAAY,MACjBX,KAAKY,KAAO,IAGpBwG,WAAW,WACPpH,KAAKY,KAAO,K;;;;2DC5YxB,irBAA0oC,eAAG,G","file":"pages/service-record/makeMedical.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/service-record/makeMedical.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./makeMedical.vue?vue&type=template&id=dc0d6556&\"\nvar renderjs\nimport script from \"./makeMedical.vue?vue&type=script&lang=js&\"\nexport * from \"./makeMedical.vue?vue&type=script&lang=js&\"\nimport style0 from \"./makeMedical.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/service-record/makeMedical.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=template&id=dc0d6556&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport calendar from '../../components/tale-calendar/tale-calendar.vue';\nimport util from '../../common/util.js'\nexport default {\n    components: {\n        'v-calendar': calendar\n    },\n\tdata() {\n\t\treturn {\n            boxHeight:0,\n            topHeight:0,\n            mask:0,\n            \n            visible: true,\n            indicatorStyle: `height: ${Math.round(uni.getSystemInfoSync().screenWidth/(750/100))}px;`,\n            certificateTypes:['身份证','港澳通行证/护照'],\n            showText:'#2A3441',\n            time: {year: 2020, month: 5},\n            extraData: [\n                \n            ],\n            hospId:null,\n            reserveStatus:null,\n            procudtId:null,\n            orderId:null,\n            kkPackage:'',\n            kkHospName:'',\n            \n            makeTime:'请选择体检时间',\n            name:null,\n            cardNumber:null,\n            cardType:0,\n            contactTel:null,\n            married:1,\n            sex:null,\n            tempType:0,\n            reserveFormId:null,\n            kkReserveId:null,\n            \n            isUpdate:false,\n            showSex:false,\n            \n            backType:0\n        }\n    },\n    onLoad(options) {\n        this.hospId = options.hospId\n        this.reserveStatus = options.reserveStatus\n        \n        this.orderId = options.orderId\n        this.procudtId = options.procudtId\n        this.reserveFormId = options.reserveFormId\n        \n        if(options.backType == 1){\n            this.backType = 1\n        }\n        if(options.reserveFormId && options.reserveFormId != 'null'){\n            this.getKKReserve()\n        }else{\n            this.getKKHosp()\n            this.getKKPackage()\n            this.getHospitalDateService()\n        }\n    },\n    methods:{\n        clickSex:function(tag){\n            this.sex = tag\n        },\n        clickSubmit:function(){\n            if(this.makeTime == '请选择体检时间'){\n                uni.showToast({\n                    title: '请选择体检时间',\n                    icon: 'none',\n                    duration: 2000\n                })\n                return\n            }\n            if(this.reserveStatus == 'FAIL' || this.isUpdate){\n                if(this.kkReserveId==null){\n                    return\n                }\n                \n                this.$api.updateKKReserve({\n                    data:{\n                        id:this.kkReserveId,\n                        checkupTime:this.makeTime\n                    },\n                    showHud:true\n                }).then(res=>{\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        this.getKKReserve()\n                    }\n                })\n            }else{\n                if(this.name == null){\n                    uni.showToast({\n                        title: '请输入体检人姓名',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(this.cardNumber == null){\n                    uni.showToast({\n                        title: '请输入证件号码',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(this.sex == null){\n                    uni.showToast({\n                        title: '请输入性别',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(!util.checkIDCard(this.cardNumber) && this.cardType == 0){\n                    uni.showToast({\n                        title: '请输入正确的证件号码',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(this.contactTel == null){\n                    uni.showToast({\n                        title: '请输入手机号码',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                if(!util.verifyMobile(this.contactTel)){\n                    uni.showToast({\n                        title: '请输入正确的手机号码',\n                        icon: 'none',\n                        duration: 2000\n                    })\n                    return\n                }\n                this.$api.addKKReserve({\n                    data:{\n                        cardNumber:this.cardNumber,\n                        cardType:this.cardType+1,\n                        checkupTime:this.makeTime,\n                        contactTel:this.contactTel,\n                        hospId:this.hospId,\n                        married:this.married,\n                        name:this.name,\n                        orderId:this.orderId,\n                        packageCode:this.procudtId,\n                        sex:this.sex\n                    }\n                }).then(res=>{\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        this.reserveFormId = res.data.id\n                        this.getKKReserve()\n                        // this.disposeKKReserveData(res.data)\n                    }\n                })\n            }\n        },\n        disposeKKReserveData:function(data){\n            this.name = data.name\n            this.sex = data.sex\n            this.married = Number(data.married) \n            this.contactTel = data.contactTel\n            this.cardNumber = data.cardNumber\n            this.cardType = data.cardType\n            this.kkReserveId = data.id\n            this.reserveStatus = data.status\n            if(data.status == 'WAIT'){\n                this.reserveStatus = 'null'\n            }\n            // this.reserveStatus = 'null'\n            var time = util.formatTimestamp(data.checkupTime, 'yyyy-MM-dd')\n   \n            time = time.replace(/-/g,\"\")\n            var date=new Date;\n            var y = date.getFullYear()\n            var m = date.getMonth() + 1\n            m = m < 10 ? '0' + m : m\n            var d = date.getDate()\n            d = d < 10 ? ('0' + d) : d\n            var dayNum = Number(y+m+d)\n            \n            if(this.reserveStatus == 'SUCCESS' || this.reserveStatus == \"DOING\"){\n                this.makeTime = time\n                console.log(Number(time) - Number(dayNum))\n                if(Number(time) - dayNum > 2 && this.reserveStatus == 'SUCCESS'){\n                    this.isUpdate = true\n                }\n            }\n            \n        },\n        getKKReserve:function(){\n            this.$api.findByIdkkReserve({\n                data:{\n                    id:this.reserveFormId\n                }\n            }).then(res=>{\n                console.log(res)\n                if(res.status == 'OK'){\n                    this.getKKHosp()\n                    this.getKKPackage()\n                    this.getHospitalDateService()\n                    this.disposeKKReserveData(res.data)\n                }\n            })\n        },\n        getKKHosp:function(){\n            this.$api.findByIdKKHospital({\n                data:{\n                    hospId:this.hospId\n                }\n            }).then(res=>{\n                \n                if(res.status == 'OK'){\n                    this.kkHospName = res.data.hospName\n                }\n            })\n        },\n        getHospitalDateService:function(){\n            this.$api.getHospitalDateService({\n                data:{\n                    hospId:this.hospId,\n                    packageCode:this.procudtId\n                }\n            }).then(res=>{\n           \n                if(res.status == 'OK'){\n                    res.data.forEach(item => {\n                        console.log(Number(item.maxNum) - Number(item.usedNum))\n                        if(Number(item.maxNum) - Number(item.usedNum)>0){\n                            var value = {date: item.date, value: '可约', dot: true, active: true,textColor:'#03BE90'}\n                            this.extraData.push(value)\n                        }\n                    })\n                    \n                }\n            })\n        },\n        getKKPackage:function(){\n            this.$api.findByKKPackage({\n                data:{\n                    code:this.procudtId\n                }\n            }).then(res=>{\n                console.log(res)\n                if(res.status == 'OK'){\n                    this.kkPackage = res.data\n                    if(res.data.snapshot && JSON.parse(res.data.snapshot)){\n                        this.kkPackage.icon = JSON.parse(res.data.snapshot).packageImage_0_thumb\n                        this.kkPackage.sealPrice = JSON.parse(res.data.snapshot).sealPrice\n                        this.kkPackage.packageSex = JSON.parse(res.data.snapshot).packageSex\n                        if(this.kkPackage.packageSex!=0){\n                            this.sex = this.kkPackage.packageSex\n                        }else{\n                            this.showSex = true\n                        }\n                    }\n                }\n            })\n        },\n        bindChange:function (e) {\n            const val = e.detail.value\n            this.tempType = val[0]\n            console.log(this.tempType)\n        },\n        clickSelectType:function(){\n            this.cardType = this.tempType\n            this.mask = 0\n            console.log(this.cardType)\n        },\n        calendarTap:function(e){\n            console.log(e)\n            this.makeTime = e.year + '-' + ( Number(e.month)  + 1) + '-' + e.day \n            this.mask = 0\n        },\n        clickMarried:function(tag){\n            if(this.reserveStatus == 'null') {\n                this.married = tag\n            }\n        },\n        clickType:function(){\n            if(this.reserveStatus == 'SUCCESS' || this.reserveStatus == 'DOING'){\n                return\n            }\n            this.boxHeight = '30%'\n            this.topHeight = '70%'\n            this.mask = 2\n        },\n        clickTime:function(){\n            if(this.isUpdate || this.reserveStatus == 'FAIL' || this.reserveStatus == 'null'){\n                this.boxHeight = '75%'\n                this.topHeight = '25%'\n                this.mask = 1\n            }\n        },\n        clickClose:function(){\n            this.mask = 0\n        }\n    }\n}\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./makeMedical.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}