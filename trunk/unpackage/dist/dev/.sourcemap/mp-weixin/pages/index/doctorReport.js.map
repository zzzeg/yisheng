{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yisheng/trunk/pages/index/doctorReport.vue?f525","webpack:///E:/yisheng/trunk/pages/index/doctorReport.vue?bda4","webpack:///E:/yisheng/trunk/pages/index/doctorReport.vue?0eb1","webpack:///E:/yisheng/trunk/pages/index/doctorReport.vue?35c5","uni-app:///pages/index/doctorReport.vue","webpack:///E:/yisheng/trunk/pages/index/doctorReport.vue?e176"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,iD,mDACAA,EAAWC,a;;;;2DCHX,8RACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,gDACZ,aAAAF,E;;;;2GCvBf,yzB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,6eAA+yB,eAAG,G;;;;0IC4LlzB,wCACA,sC,yDACA,CAEA,KAFA,WAGA,OACA,cACA,YACA,SACA,WACA,QACA,eACA,4CAIA,OAdA,SAcA,GACA,gBAIA,OAnBA,WAoBA,iBACA,yBAEA,SACA,mCACA,GACA,8BACA,aACA,qCAGA,6BACA,SACA,kBACA,gBACA,cACA,mFACA,+EAKA,+BACA,eACA,cACA,8DAGA,+BACA,yBAIA,SACA,sCACA,eACA,gDACA,GACA,eACA,aAEU,MAAV,EACA,kBACA,cAGA,aAQM,EAAN,YACA,cACA,OACA,mBAEA,cACA,2EAKA,uBACA,kCAGA,uCACA,GACA,SACA,OACA,mBAMA,yBACA,SACA,kBAEA,iCAEA,2BAKA,yCACA,OACA,wBACA,IACA,EACA,EAFA,8CAGA,IAEA,8BAEA,wBACA,qDAEA,4CAEA,aAkDA,CACA,SAGA,wBACA,GACA,eACA,QACA,cACA,mBACA,iBACA,6BACA,oBACA,gDACA,kDAEA,yBAlEA,CACA,IA0BA,EA1BA,KAeA,GAdA,cACA,SACA,cAEA,cACY,EAAZ,gBACA,cACY,EAAZ,eACA,kBACA,oBAGA,aACA,kBACA,qBAEY,EAAZ,mBACA,mCACA,sCAQA,gDACA,mCAEA,cACA,gBACA,eACA,iBACA,sCAIA,iBACA,cACY,EAAZ,2BACA,cACY,EAAZ,sBACA,kBACA,wBACA,gCAGA,qBAoBA,SACU,GAAV,MACA,KACA,gEACA,qBACA,SAGA,CACA,KAAU,IACV,yCACA,yCACA,MACY,EAAZ,8DACY,EAAZ,mBACY,EAAZ,IAGA,SACc,EAAd,8DACc,EAAd,oBAEY,EAAZ,OAMM,IAAN,+BACA,kDAMI,UAAJ,sBACM,EAAN,4BACQ,KAAR,CACU,WAAV,YAEM,MAAN,YACQ,QAAR,OACA,iBACU,EAAV,cACU,EAAV,4CACU,EAAV,iDAEc,EAAd,cADA,KACA,OAEA,8BAIU,EAAV,sCACA,gEACY,EAAZ,0DAGU,EAAV,iCACA,sCACc,EAAd,gCAEY,QAAZ,eAIU,EAAV,2F;;;;2DClcA,60BAAq8C,eAAG,G","file":"pages/index/doctorReport.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/doctorReport.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./doctorReport.vue?vue&type=template&id=58847308&\"\nvar renderjs\nimport script from \"./doctorReport.vue?vue&type=script&lang=js&\"\nexport * from \"./doctorReport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./doctorReport.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/index/doctorReport.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./doctorReport.vue?vue&type=template&id=58847308&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./doctorReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./doctorReport.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"\">\n        <view class=\"content\">\n            <view class=\"title\">\n                健康调理报告\n            </view>\n            <view class=\"line\" style=\"background: #434E5E;\"></view>\n            <view class=\"basicInfoBox\">\n                <view style=\"width: 33%;margin-top: 25upx;\">\n                    名字：{{report.userName}}\n                </view>\n                <view style=\"width: 33%;margin-top: 25upx;\">\n                    性别：{{report.gender == 'LADY' ? '女' : \"男\"}}\n                </view>\n                <view style=\"width: 33%;margin-top: 25upx;\">\n                    年龄：{{report.age?report.age:''}}\n                </view>\n                <view style=\"width: 33%;margin-top: 25upx;\">\n                    身高：{{report.height ? report.height : ''}}\n                </view>\n                <view style=\"width: 33%;margin-top: 25upx;\">\n                    体重：{{report.weight ? report.weight : ''}}\n                </view>\n            </view>\n            <view class=\"line\" style=\"background: #434E5E; margin-top: 20upx;\"></view>\n            <view class=\"childTitle\">\n                报告结论\n            </view>\n            <view class=\"line\" style=\"background: #434E5E;\"></view>\n            <view class=\"childContent\">\n                <view style=\"margin-top: 20upx;\">\n                    主诉：{{report.problem.symptom}}\n                </view>\n                <view style=\"margin-top: 20upx;\">\n                    结论：{{report.jielun}}\n                </view>\n                <view style=\"margin-top: 20upx;\">\n                    调理原则：{{report.remark}}\n                </view>\n               \n            </view>\n            <view class=\"childTitle\">\n                调理方案\n            </view>\n            <view class=\"line\" style=\"background: #434E5E; margin-top: 20upx;\"></view>\n            <view class=\"childContent\">\n                <view v-if=\"report && report.plan\" class=\"plan-box\" v-for=\"(item,index) in report.plan\" :key=\"index\">\n                    \n                    <view @click=\"clickProductDetail(item.productId)\" class=\"plan-box-title\">\n                 \n                        <image :src=\"item.icon\" mode=\"\"></image>\n                        <view class=\"plan-box-name\">\n                            <view style=\"margin-top: 10upx;\" >{{item.productType === 'SHIFANG' ? item.cfName : item.name}} </view>\n                            <!-- <view class=\"remarksBox\">\n                                {{item.efficacy}}  \n                            </view> -->\n                            <view class=\"moneyBox\" style=\"margin-top: 10upx;\" >\n                                <text>￥{{item.price/100}}</text>\n                                <view class=\"countBox\">\n                                    <text style=\"margin-left: 20upx; margin-right: 20upx;\" >X {{item.num}}</text>\n                                </view>\n                            </view>\n                        </view>\n                    </view>\n                </view>\n                <button v-if=\"report && report.plan && report.plan.length>0\" @click=\"clickBuy\" :class=\"{'disabledBtn': report.orderId }\"  class=\"login-btn\" >{{report.orderId ? '已购买' : '点击购买'}}</button>\n                <view class=\"childTitle\">\n                    问诊记录\n                </view>\n                <view class=\"line\" style=\"background: #434E5E; margin-top: 20upx;\"></view>\n                <view v-if=\"showRecord\" class=\"\">\n                    <scroll-view class=\"msg-list\" style=\"position: static;\" scroll-y=\"true\" :show-scrollbar='0' :scroll-with-animation=\"scrollAnimation\" :scroll-top=\"scrollTop\" :scroll-into-view=\"scrollToView\" @scrolltoupper=\"loadHistory\" upper-threshold=\"50\">\n                    \t\n                        <view class=\"row\" v-for=\"(row,index) in msgList\" :key=\"index\" :id=\"'msg'+row.msg.id\">\n                        \t<block v-if=\"row.type=='suggest'\" >\n                                <view class=\"other\" >\n                                \t<!-- 左-头像 -->\n                                \t<view class=\"left\">\n                                \t\t<image :src=\"row.msg.expertPics\"></image>\n                                \t</view>\n                                \t<!-- 右-用户名称-时间-消息 -->\n                                \t<view class=\"right\">\n                                        <view class=\"text bubble\">\n                                        \t健康调理报告已发送，请到查看报告里查看\n                                        </view>\n                                    </view>\n                                </view>\n                                <view class=\"system\">\n                                \t<!-- 文字消息 -->\n                                \t<view style=\"margin-top: 20upx;\" class=\"text\">\n                                \t\t本次问诊已完成\n                                \t</view>\n                                \n                                </view>\n                                <button style=\"color: #03BE90;background: #FFFFFF;border-radius: 20upx;box-shadow:0 0 0 0;\" @click=\"clickWenzhen\" class=\"login-btn\" >再次问诊</button>\n                            </block>\n                            <!-- 系统消息 -->\n                        \t<block v-if=\"row.type=='system'\" >\n                        \t\t<view class=\"system\">\n                        \t\t\t<!-- 文字消息 -->\n                        \t\t\t<view v-if=\"row.msg.type=='text'\" class=\"text\">\n                        \t\t\t\t{{row.msg.content.text}}\n                        \t\t\t</view>\n                        \t\t\n                        \t\t</view>\n                        \t</block>\n                        \t<!-- 用户消息 -->\n                        \t<block v-if=\"row.type=='user'\">\n                        \t\t<!-- 自己发出的消息 -->\n                        \t\t<view class=\"my\" v-if=\"row.msg.userinfo.uid==myuid\">\n                        \t\t\t<!-- 左-消息 -->\n                        \t\t\t<view class=\"left\">\n                        \t\t\t\t<!-- 文字消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='text'\" class=\"bubble\">\n                        \t\t\t\t\t<rich-text :nodes=\"row.msg.content.text\"></rich-text>\n                        \t\t\t\t</view>\n                        \t\t\t\t<!-- 语言消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='voice'\" :style=\"{'width': row.msg.content.length/60*70+15 +'%' }\" class=\"bubble voice\" @tap=\"playVoice(row.msg)\" :class=\"playMsgid == row.msg.id?'play':''\">\n                        \t\t\t\t\t<view class=\"length\">{{row.msg.content.length+'\"'}} </view>\n                        \t\t\t\t\t<view class=\"icon my-voice\"></view>\n                        \t\t\t\t</view>\n                        \t\t\t\t<!-- 图片消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='img'\" class=\"bubble img\" @tap=\"showPic(row.msg)\">\n                        \t\t\t\t\t<image :src=\"row.msg.content.url\" :style=\"{'width': row.msg.content.w+'px','height': row.msg.content.h+'px'}\"></image>\n                        \t\t\t\t</view>\n                        \t\t\t\t\n                        \t\t\t</view>\n                        \t\t\t<!-- 右-头像 -->\n                                    \n                        \t\t\t<view class=\"right\">\n                        \t\t\t\t<image :src=\"row.msg.userinfo.face\"></image>\n                        \t\t\t</view>\n                        \t\t</view>\n                        \t\t<!-- 别人发出的消息 -->\n                        \t\t<view class=\"other\" v-if=\"row.msg.userinfo.uid!=myuid\">\n                        \t\t\t<!-- 左-头像 -->\n                        \t\t\t<view class=\"left\">\n                        \t\t\t\t<image :src=\"row.msg.userinfo.face\"></image>\n                        \t\t\t</view>\n                        \t\t\t<!-- 右-用户名称-时间-消息 -->\n                        \t\t\t<view class=\"right\">\n                        \t\t\t\t<!-- <view class=\"username\">\n                        \t\t\t\t\t<view class=\"name\">{{row.msg.userinfo.username}}</view> <view class=\"time\">{{row.msg.time}}</view>\n                        \t\t\t\t</view> -->\n                        \t\t\t\t<!-- 文字消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='text'\" class=\"bubble\">\n                        \t\t\t\t\t<rich-text :nodes=\"row.msg.content.text\"></rich-text>\n                        \t\t\t\t</view>\n                        \t\t\t\t<!-- 语音消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='voice'\" class=\"bubble voice\" @tap=\"playVoice(row.msg)\" :class=\"playMsgid == row.msg.id?'play':''\">\n                        \t\t\t\t\t<view class=\"icon other-voice\"></view>\n                        \t\t\t\t\t<view class=\"length\">{{row.msg.content.length}}</view>\n                        \t\t\t\t</view>\n                        \t\t\t\t<!-- 图片消息 -->\n                        \t\t\t\t<view v-if=\"row.msg.type=='img'\" class=\"bubble img\" @tap=\"showPic(row.msg)\">\n                        \t\t\t\t\t<image :src=\"row.msg.content.url\" :style=\"{'width': row.msg.content.w+'px','height': row.msg.content.h+'px'}\"></image>\n                        \t\t\t\t</view>\n                        \t\t\t\t\n                        \t\t\t</view>\n                        \t\t</view>\n                        \t</block>\n                        </view>\n                        \n                    </scroll-view>\n                            \n                </view>\n                \n                <view class=\"recordBtn\" @click=\"cliskRecord\">\n                    <view v-if=\"!showRecord\" class=\"\">查看详细</view> \n                    <image src=\"../../static/image/icon_md_xzcs.png\" :class=\"{diandao: showRecord}\" mode=\"\"></image>\n                    <view v-if=\"showRecord\" class=\"\">收起</view>\n                </view>\n            </view>\n            <view style=\"text-align: right; color: #16202E; position: relative;;\">\n                <image class=\"expertSign\" :src=\"report.expertSign\" mode=\"widthFix\"></image>\n                <view style=\"margin-top: 50upx\">\n                    医生_____________\n                </view> \n            </view>\n            <view style=\"color: #A2A9BA;text-align: right;margin-top: 50upx\">\n                报告时间：{{report.reportTime}}\n            </view>\n        </view>\n        \n    </view>\n</template>        \n\n<script>\n    import api from '../../common/api.js';\n    import util from '../../common/util.js'\n    export default {\n      \n        data () {\n            return {\n                showRecord:false,\n                report:null,\n                rid:null,\n                msgList:[],\n                myuid:0,\n                expertPic:null,\n                userinfo:uni.getStorageInfoSync('userinfo'),\n    \n            }\n        },\n        onLoad(options) {\n            this.rid = options.rid\n            \n            \n        },\n        onShow() {\n            this.getReport()\n            this.getExpertMessage()\n        },\n        methods:{\n            clickWenzhen:function(){\n                var data = {\n                    expertId:this.report.expertId,\n                    type:'IMAGE',\n                    communityId:this.report.communityId\n                }\n                \n                api.addAdvisoryRecord({\n                    data:data\n                }).then(res=>{\n                    if(res.status == 'OK'){\n                        uni.navigateTo({\n                            url:\"chatRoom?chatType=2&recordId=\" + this.rid +\"&to=\" + this.report.expertId+\"&communityId=\"\n                            + this.report.communityId +\"&title=\" + this.report.expertName+\"&topic=\" + this.expertPic\n                        })\n                    }\n                })\n            },\n            clickProductDetail:function(id){\n                console.log(id)\n                uni.navigateTo({\n                    url:\"../health-product-detail/health-product-detail?id=\"+id\n                })\n            },\n            clickBuy:function(){\n                if(this.report.orderId){\n                    return\n                }\n                \n                var cartList = []\n                this.report.plan.forEach(item => {\n                    console.log(item)\n                    var name = item.productType === 'SHIFANG' ? item.cfName : item.name\n                \tvar obj = {\n                        id:item.productId,\n                        image:item.icon,\n                        // attr_val:item.tagName,\n                        title:name,\n                        price:item.price/100,\n                        number:item.num\n                    }\n                    \n                    cartList.push(obj)\n                })\n                // uni.setStorageSync('community_cartList',cartList)\n                // uni.navigateTo({\n                // \turl:'../cart/cart?type=community&instanceId=' + this.report.id\n                // })\n       \n                \n                uni.setStorage({\n                    key: 'buylist',\n                    data: cartList,\n                    success: () => {\n                        \n                        uni.navigateTo({\n                            url: '../pay/confirm/confirm?type=community&instanceId=' + this.report.id\n                        })\n                    }\n                })\n            },\n            cliskRecord:function(){\n                this.showRecord = !this.showRecord\n                \n            },\n            getExpertMessage:function(){\n                var data = {\n                    size: 999,\n                    page: 1,\n                    recordId:this.rid,\n                    // expertId:this.expertId\n                }\n                let _self = this;\n                var list = []\n                var currentDate = ''\n                api.expertMessage({\n                    data: data\n                }).then(listRes => {\n                \n                    if(listRes.status=='OK' && listRes.list.length>0 ){\n                        \n                        this.formattingMessage(listRes)\n                        \n                    }\n                })\n            },\n            formattingMessage:function(listRes){\n                let _self = this;\n                this.messageList = listRes.list\n                var today = util.formatDate(new Date, 'yyyy-MM-dd')\n                var tempDate\n                var tempHhhh \n                var tempMmmm = 0\n               \n                listRes.list.forEach((item,index)=>{\n                    \n                    console.log(item.expertId)\n                    var date = util.formatTimestamp(item.time, 'yyyy-MM-dd')\n                                            \n                    var time = util.formatTimestamp(item.time,'hh:mm')\n                    \n                    if(!item.extJson){\n                        var message = {}\n                        message.type = 'user'\n                        message.msg = {}\n                        message.msg.id = item.id\n                        \n                        if(item.type=='txt'){       //文字类型\n                            message.msg.type = \"text\"\n                        }else if(item.type=='img'){     //图片类型\n                            message.msg.type = \"img\"\n                        }else if(item.type=='audio'){\n                            message.msg.type = \"voice\"\n                        }\n                        \n                        message.msg.time = time\n                        message.msg.userinfo = {}\n                        if(item.fromId!=item.expertId){\n                            //自己发的消息\n                            message.msg.userinfo.uid = 0\n                            message.msg.userinfo.username = item.userName\n                            message.msg.userinfo.face = item.userAvatar\n                            \n                        }else{\n                            //对方发的消息\n                            // message.msg.userinfo.uid = item.expertId\n                            // message.msg.userinfo.username = item.expertName\n                            // message.msg.userinfo.face = JSON.parse(item.expertPics)[0].url\n                            var expertPics\n                            if(item.expertPics && JSON.parse(item.expertPics).length){\n                                expertPics = JSON.parse(item.expertPics)[0].url\n                            }\n                            this.expertPic = expertPics\n                            message.msg.userinfo = {\n                                uid:item.expertId,\n                                username:_self.title,\n                                face:JSON.parse(item.expertPics)[0].url\n                            }\n                            \n                        }\n                        message.msg.content = {}\n                        if(item.type=='txt'){       //文字类型\n                            message.msg.content.text = item.content\n                        }else if(item.type=='img'){     //图片类型\n                            message.msg.content.url = item.url\n                        }else if(item.type=='audio'){\n                            message.msg.content.url = item.url\n                            message.msg.content.length = item.content\n                        }\n                        \n                        _self.msgList.unshift(message)\n                    }else{\n                        var message = {}\n                \n                        \n                        var extContent = JSON.parse(item.extJson)\n                        var message = {}\n                        message.type = 'suggest'\n                        message.msg = {}\n                        message.msg.id = item.id\n                        message.msg.time = date + ' ' + time\n                        message.msg.content = {}\n                        message.msg.content.text = extContent.content\n                        message.msg.score = extContent.score\n                        if(item.expertPics && JSON.parse(item.expertPics).length){\n                            message.msg.expertPics = JSON.parse(item.expertPics)[0].url\n                        }\n                        _self.msgList.unshift(message)\n                    }\n                    \n                    if(today!=date ){     //日期不一样加时间消息\n                        if( tempDate != date){\n                            var message = {}\n                            message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:date+' '+time}}}\n                            _self.msgList.unshift(message)\n                            tempDate = date\n                        }\n                        \n                    }else{          //今天\n                        var message = {}\n                        var hhhhh = util.formatTimestamp(item.time,'hh')\n                        var mmmm = util.formatTimestamp(item.time,'mm')\n                        if(tempHhhh!=hhhhh){        //不同小时\n                            message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:hhhhh+':'+mmmm}}}\n                            _self.msgList.unshift(message)\n                            tempHhhh = hhhhh\n                        }else{      //同一个小时\n                            \n                            if(mmmm - tempMmmm <-2 ){\n                                message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:hhhhh+':'+mmmm}}}\n                                _self.msgList.unshift(message)\n                            }\n                            tempMmmm = mmmm\n                        }\n                        \n                    }\n                    \n                })\n                for(let i=0;i<_self.msgList.length;i++){\n                \tif(_self.msgList[i].type=='user'&&_self.msgList[i].msg.type==\"img\"){\n                \t\t// _self.msgList[i].msg.content = _self.setPicSize(_self.msgList[i].msg.content);\n                \t\t// _self.msgImgList.push(_self.msgList[i].msg.content.url);\n                \t}\n                }\n            },\n            getReport:function(){\n                api.findAdvisoryReport({\n                    data:{\n                        advisoryId:this.rid\n                    }\n                }).then(res=>{\n                    console.log(res)\n                    if(res.status =='OK' ){\n                        this.report = res.data\n                        this.report.problem = JSON.parse(this.report.problem)\n                        this.report.problem.conclusion.forEach((item,index) => {\n                            if(index == 0){\n                                this.report.jielun = item.name\n                            }else{\n                                this.report.jielun = this.report.jielun + ',' + item.name\n                            }\n                            \n                        })\n                        this.report.plan = JSON.parse(this.report.plan)\n                        if(this.report.expertSign && JSON.parse(this.report.expertSign).length>0){\n                            this.report.expertSign = JSON.parse(this.report.expertSign)[0].url\n                        }\n                     \n                        this.report.plan.forEach(item => {\n                            if(item.icon && JSON.parse(item.icon).length>0){\n                                item.icon = JSON.parse(item.icon)[0].url\n                            }\n                            console.log(item.icon)\n                        })\n                        \n                        \n                        this.report.reportTime =  util.formatTimestamp(this.report.reportTime, 'yyyy-MM-dd hh:mm')\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    @import \"@/static/HM-chat/css/style.scss\"; \n    page{\n        background: #F6F7FA;\n    }\n    .content{\n        padding: 46upx 66upx;\n        width: calc(100% - 132upx);\n    }\n    .expertSign{\n        width:300upx;\n        position: absolute;\n        right: -50upx;\n        top: -110upx;\n    }\n    .recordBtn{\n        margin-top: 30upx;\n        text-align: center;\n        color: #03BE90;\n        font-size: 28upx;\n    }\n    .diandao{\n        transform:rotate(180deg);\n    }\n    .recordBtn image{\n        width: 33upx;\n        height: 21upx;\n    }\n    .title{\n        font-size:43upx;\n        text-align: center;\n        color: #16202E;\n        margin-bottom: 28upx;\n    }\n    .login-btn {\n        margin-left: 178upx;\n        margin-right: 178upx;\n        margin-top: 50upx;\n        height: 74upx;\n        line-height: 74upx;\n        border-radius: 37upx;\n        color: #FFFFFF;\n        font-size: 31upx;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\n        box-shadow:0px 6upx 31upx 0px rgba(3,190,144,0.3);\n    }\n    .basicInfoBox{\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n        font-size:28upx;\n        color: #16202E;\n    }\n    .childTitle{\n        margin-top: 62upx;\n        margin-left: 6upx;\n        font-size:36upx;\n        color: #16202E;\n    }\n    .childContent{\n        margin-top: 33upx;\n        color: #434E5E;\n        font-size: 26upx;\n        \n    }\n    \n    .plan-box{\n        display: flex;\n        flex-direction: row;\n        \n        font-size:29upx;\n        font-family:NotoSansCJKsc-Regular,NotoSansCJKsc;\n        font-weight:400;\n        color:rgba(67,78,94,1);\n        flex-wrap: wrap;\n        \n    }\n    .plan-box-title{\n        display: flex;\n        flex-direction: row;\n        margin-left: 33upx;\n        margin-right: 33upx;\n        margin-top: 30upx;\n        margin-bottom: 30upx;\n        width: calc(100% - 66upx);\n    }\n    .plan-box-title image{\n        width: 118upx;\n        height: 118upx;\n        border-radius:10upx;\n    \n    }\n    .plan-box-name{\n        margin-left: 12upx;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n    }\n    .remarksBox{\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        font-size:24upx;\n        font-family:PingFangSC-Regular,PingFang SC;\n        font-weight:400;\n        color:rgba(162,169,186,1);\n        line-height:34upx;\n        /* width: 100%; */\n    }\n    .remarksText{\n        height:32upx;\n        background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\n        border-radius:32upx;\n        font-size:20upx;\n        font-family:PingFangSC-Regular,PingFang SC;\n        font-weight:400;\n        color:rgba(255,255,255,1);\n        line-height:28upx;\n        padding: 10upx;\n        margin-right: 10upx;\n    }\n    .moneyBox{\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n    }\n    .disabledBtn{\n        box-shadow:0px 0upx 0upx 0px rgba(3,190,144,0.3);\n        background: #E4E7F2;\n    }\n</style>","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./doctorReport.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./doctorReport.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}