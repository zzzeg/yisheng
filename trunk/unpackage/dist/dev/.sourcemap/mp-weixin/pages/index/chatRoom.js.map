{"version":3,"sources":["webpack:///E:/yisheng/trunk/main.js","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?889f","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?d002","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?5881","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?a0b0","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?a8ce","webpack:///E:/yisheng/trunk/pages/index/chatRoom.vue?1b93"],"names":["createPage","Page","msgStorage","require","msgType","disp","data","jianpanicon","showPlaceholder","isRequest","dialogtype","score","draft","content","lastMsgTime","page","size","userId","instanceId","recordId","expertId","expertPics","uploadParams","messageList","isFinish","isload","textMsg","isHistoryLoading","scrollAnimation","scrollTop","scrollToView","msgList","msgImgList","myuid","RECORDER","uni","getRecorderManager","isVoice","voiceTis","recordTis","recording","willStop","initPoint","identifier","Y","recordTimer","recordLength","AUDIO","createInnerAudioContext","playMsgid","VoiceTimer","popupLayerClass","hideMore","hideEmoji","communityId","title","userinfo","chatType","onHide","onUnload","onReady","create_or_onready","onLoad","option","getStorageSync","to","findCommunity","topic","setNavigationBarTitle","purpose","api","getUploadParams","then","res","console","log","initMsgList","_self","onEnded","onStart","e","recordBegin","onStop","recordEnd","methods","clickWenzhen","type","addAdvisoryRecord","status","navigateTo","url","id","community","expert","name","pics","findCommunityById","mangerName","JSON","parse","mangerAvatar","me","on","err","renderableMsg","curChatMsg","sesskey","info","from","nowDate","Date","lastid","length","msg","message","text","push","time","getHours","getMinutes","uid","username","face","$nextTick","clickReport","extContent","switchVoice","hideDrawer","sendText","sendMsg","textareaFocus","showPic","previewImage","indicator","current","urls","addVoiceMsg","addTextMsg","addImgMsg","setPicSize","toId","sec","addCommunityMessage","addRes","accountinfo","headUrl","avatarPath","addByExpert","getImage","chooseImage","count","sourceType","sizeType","success","i","tempFilePaths","getImageInfo","src","image","showLoading","uploadFile","filePath","formData","policy","Signature","result","r","location","filepath","showToast","icon","duration","fail","complete","hideLoading","statusCode","errMsg","screenMsg","addSystemTextMsg","addSystemRedEnvelopeMsg","addRedEnvelopeMsg","vibrateLong","getMsgList","Viewid","list","currentDate","getCommunityMessage","listRes","formattingMessage","expertMessage","today","util","formatDate","tempDate","tempHhhh","tempMmmm","forEach","item","index","date","formatTimestamp","extJson","fromId","userName","unshift","hhhhh","mmmm","maxW","upx2px","maxH","w","h","scale","loadHistory","voiceBegin","touches","clientY","start","format","playVoice","paused","stop","play","setInterval","voiceCancel","voiceIng","touche","voiceEnd","clearInterval","uploadTask","tempFilePath","min","parseInt","stringify","openDrawer","setTimeout","discard"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AAC0M;AAC1M,gBAAgB,kNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2xB,CAAgB,2yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsJ3yB;AACA,wF,8FAvJJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAII;AACA,IAAIC,UAAU,GAAGC,mBAAO,CAAC,qCAAD,CAAxB,CACA,IAAIC,OAAO,GAAGD,mBAAO,CAAC,kCAAD,CAArB,CACA,IAAIE,IAAI,GAAGF,mBAAO,CAAC,+BAAD,CAAlB,C,eAEe,EACX;AACA;AACA;AACHG,MAJc,kBAIP,CACN,OAAO,EACGC,WAAW,EAAC,kCADf,EAEGC,eAAe,EAAC,IAFnB,EAGGC,SAAS,EAAC,KAHb,EAIGC,UAAU,EAAC,CAJd,EAKGC,KAAK,EAAC,IALT,EAMGC,KAAK,EAAC,IANT,EAOGC,OAAO,EAAC,EAPX,EAQGC,WAAW,EAAC,EARf,EASGC,IAAI,EAAC,CATR,EAUGC,IAAI,EAAC,EAVR,EAWGC,MAAM,EAAC,IAXV,EAYGC,UAAU,EAAC,IAZd,EAaGC,QAAQ,EAAC,EAbZ,EAcGC,QAAQ,EAAC,IAdZ,EAeGC,UAAU,EAAC,IAfd,EAgBGC,YAAY,EAAC,IAhBhB,EAkBGC,WAAW,EAAC,EAlBf,EAoBGC,QAAQ,EAAC,IApBZ,EAqBGC,MAAM,EAAC,KArBV,EAsBN;AACAC,aAAO,EAAC,EAvBF,EAwBN;AACAC,sBAAgB,EAAC,KAzBX,EA0BNC,eAAe,EAAC,KA1BV,EA2BNC,SAAS,EAAC,CA3BJ,EA4BNC,YAAY,EAAC,EA5BP,EA6BNC,OAAO,EAAC,EA7BF,EA8BNC,UAAU,EAAC,EA9BL,EA+BNC,KAAK,EAAC,CA/BA,EAiCN;AAEA;AACAC,cAAQ,EAACC,GAAG,CAACC,kBAAJ,EApCH,EAsCNC,OAAO,EAAC,KAtCF,EAuCNC,QAAQ,EAAC,OAvCH,EAwCNC,SAAS,EAAC,WAxCJ,EAyCNC,SAAS,EAAC,KAzCJ,EA0CNC,QAAQ,EAAC,KA1CH,EA2CNC,SAAS,EAAC,EAACC,UAAU,EAAC,CAAZ,EAAcC,CAAC,EAAC,CAAhB,EA3CJ,EA4CNC,WAAW,EAAC,IA5CN,EA6CNC,YAAY,EAAC,CA7CP,EA8CN;AACAC,WAAK,EAACZ,GAAG,CAACa,uBAAJ,EA/CA,EAgDNC,SAAS,EAAC,IAhDJ,EAiDNC,UAAU,EAAC,IAjDL,EAkDN;AACAC,qBAAe,EAAC,EAnDV,EAoDN;AACAC,cAAQ,EAAC,IArDH,EAsDN;AACAC,eAAS,EAAC,IAvDJ,EAwDGC,WAAW,EAAC,IAxDf,EAyDGC,KAAK,EAAC,EAzDT,EA0DGC,QAAQ,EAAC,IA1DZ,EA2DGC,QAAQ,EAAC,CA3DZ,EAAP,CA6DA,CAlEa,EAmEXC,MAnEW,oBAmEF,CAER,CArEU,EAsEXC,QAtEW,sBAsED,CAET,CAxEU,EAyEXC,OAzEW,qBAyED,CACN,KAAKC,iBAAL,GACH,CA3EU,EA4EdC,MA5Ec,kBA4EPC,MA5EO,EA4EC,kBACR,KAAKN,QAAL,GAAgBM,MAAM,CAACN,QAAvB,CAEA,KAAKD,QAAL,GAAgBrB,GAAG,CAAC6B,cAAJ,CAAmB,UAAnB,CAAhB,CAEA,KAAK/C,MAAL,GAAc,KAAKuC,QAAL,CAAcvC,MAA5B,CACA,KAAKG,QAAL,GAAgB2C,MAAM,CAACE,EAAvB,CACA,KAAK9C,QAAL,GAAgB4C,MAAM,CAAC5C,QAAvB,CACA,KAAKmC,WAAL,GAAmBS,MAAM,CAACT,WAA1B,CACT,KAAKY,aAAL,CAAmB,KAAKZ,WAAxB,EACS,KAAK9B,QAAL,GAAgBuC,MAAM,CAACvC,QAAvB,CACA,KAAK+B,KAAL,GAAaQ,MAAM,CAACR,KAAP,GAAeQ,MAAM,CAACR,KAAtB,GAA8B,EAA3C,CACA,KAAKlC,UAAL,GAAkB0C,MAAM,CAACI,KAAzB,CACAhC,GAAG,CAACiC,qBAAJ,CAA0B,EACtBb,KAAK,EAAC,KAAKA,KADW,EAA1B,EAGA,IAAMjD,IAAI,GAAG,EACZ+D,OAAO,EAAE,YADG,EAAb,CAGAC,aAAIC,eAAJ,CAAoB,EACnBjE,IAAI,EAAEA,IADa,EAApB,EAEGkE,IAFH,CAEQ,UAAAC,GAAG,EAAI,CACdC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,KAAI,CAACnD,YAAL,GAAoBmD,GAAG,CAACnE,IAAxB,CACA,CAND,EAQA,KAAKsE,WAAL,GACA,IAAIC,KAAK,GAAG,IAAZ,CA5BQ,CA6BR;AACA;AACA;AAEA;AACA,SAAK9B,KAAL,CAAW+B,OAAX,CAAmB,UAACL,GAAD,EAAO,CACzB,KAAI,CAACxB,SAAL,GAAe,IAAf,CACA,CAFD,EAlCQ,CAsCR;AACA,SAAKf,QAAL,CAAc6C,OAAd,CAAsB,UAACC,CAAD,EAAK,CAC1B,KAAI,CAACC,WAAL,CAAiBD,CAAjB,EACA,CAFD,EAvCQ,CA0CR;AACA,SAAK9C,QAAL,CAAcgD,MAAd,CAAqB,UAACF,CAAD,EAAK,CACzB,KAAI,CAACG,SAAL,CAAeH,CAAf,EACA,CAFD,EAIN,CA3Ha,EA4HdI,OAAO,EAAE,EACFC,YAAY,EAAC,wBAAU,mBACnB,IAAI/E,IAAI,GAAG,EACPc,QAAQ,EAAC,KAAKA,QADP,EAEPkE,IAAI,EAAC,OAFE,EAGPhC,WAAW,EAAC,KAAKA,WAHV,EAAX,CAMAgB,aAAIiB,iBAAJ,CAAsB,EAClBjF,IAAI,EAACA,IADa,EAAtB,EAEGkE,IAFH,CAEQ,UAAAC,GAAG,EAAE,CACT,IAAGA,GAAG,CAACe,MAAJ,IAAc,IAAjB,EAAsB,CAClBrD,GAAG,CAACsD,UAAJ,CAAe,EACXC,GAAG,EAAC,uBAAuBjB,GAAG,CAACnE,IAAJ,CAASqF,EAAhC,GAAoC,MAApC,GAA6C,MAAI,CAACrC,WAAlD,GAA8D,eAA9D,GACF,MAAI,CAACsC,SAAL,CAAeD,EADb,GACiB,SADjB,GAC6B,MAAI,CAACC,SAAL,CAAeC,MAAf,CAAsBC,IADnD,GACwD,SADxD,GACoE,MAAI,CAACF,SAAL,CAAeC,MAAf,CAAsBE,IAFnF,EAAf,EAIH,CACJ,CATD,EAUH,CAlBC,EAmBX7B,aAAa,EAAC,uBAASyB,EAAT,EAAY,mBACzB,IAAG,CAACA,EAAJ,EAAO,CACN,OACA,CACE,IAAMrF,IAAI,GAAG,EACTqF,EAAE,EAACA,EADM,EAAb,CAGArB,aAAI0B,iBAAJ,CAAsB,EAClB1F,IAAI,EAACA,IADa,EAAtB,EAEGkE,IAFH,CAEQ,UAAAC,GAAG,EAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,IAAGA,GAAG,CAACe,MAAJ,IAAc,IAAjB,EAAsB,CAC3B,IAAG,MAAI,CAACjC,KAAL,KAAa,EAAhB,EAAmB,CAClB,MAAI,CAACA,KAAL,GAAakB,GAAG,CAACnE,IAAJ,CAAS2F,UAAtB,CACA,MAAI,CAAC5E,UAAL,GAAkB6E,IAAI,CAACC,KAAL,CAAW1B,GAAG,CAACnE,IAAJ,CAAS8F,YAApB,KAAmCF,IAAI,CAACC,KAAL,CAAW1B,GAAG,CAACnE,IAAJ,CAAS8F,YAApB,EAAkC,CAAlC,CAAnC,IAAyEF,IAAI,CAACC,KAAL,CAAW1B,GAAG,CAACnE,IAAJ,CAAS8F,YAApB,EAAkC,CAAlC,EAAqCV,GAAhI,CACA,CAED,CACD,CAXE;AAYH,KAtCU;AAuCF7B,qBAvCE,+BAuCkB;AAChB,UAAIwC,EAAE,GAAG,IAAT;AACAhG,UAAI,CAACiG,EAAL,CAAQ,0BAAR,EAAoC,UAASC,GAAT,EAAc;AAC9C7B,eAAO,CAACC,GAAR,CAAY4B,GAAZ;AACH;AACA;AACA;AACA,OALD;;AAOArG,gBAAU,CAACoG,EAAX,CAAc,YAAd,EAA4B,UAASE,aAAT,EAAwBlB,IAAxB,EAA8BmB,UAA9B,EAA0CC,OAA1C,EAAkD;;AAE7EhC,eAAO,CAACC,GAAR,CAAY6B,aAAZ;;AAEG,YAAGA,aAAa,CAACG,IAAd,CAAmBC,IAAnB,IAA2BP,EAAE,CAACjF,QAA9B,IAA0CoF,aAAa,CAACG,IAAd,CAAmB1C,EAAnB,IAAyBoC,EAAE,CAACpF,MAAzE,EAAgF;AAC5E,cAAI4F,OAAO,GAAG,IAAIC,IAAJ,EAAd;AACA,cAAIC,MAAM,GAAG,CAAb;AACA,cAAGV,EAAE,CAACtE,OAAH,IAAcsE,EAAE,CAACtE,OAAH,CAAWiF,MAAX,GAAkB,CAAnC,EAAqC;AACjCD,kBAAM,GAAGV,EAAE,CAACtE,OAAH,CAAWsE,EAAE,CAACtE,OAAH,CAAWiF,MAAX,GAAkB,CAA7B,EAAgCC,GAAhC,CAAoCtB,EAA7C;AACH;AACDoB,gBAAM,GAAGA,MAAM,GAAG,CAAlB;;AAEA,cAAIG,OAAO,GAAG,EAAd;AACAA,iBAAO,CAAC5B,IAAR,GAAe,MAAf;AACA4B,iBAAO,CAACD,GAAR,GAAc,EAAd;AACAC,iBAAO,CAACD,GAAR,CAAYtB,EAAZ,GAAiBoB,MAAjB;AACAG,iBAAO,CAACD,GAAR,CAAYpG,OAAZ,GAAsB,EAAtB;AACA,cAAG2F,aAAa,CAACS,GAAd,CAAkB3B,IAAlB,IAAwB,KAA3B,EAAiC,CAAQ;AACrC4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,MAAnB;AACA4B,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBsG,IAApB,GAA2BX,aAAa,CAACS,GAAd,CAAkB3G,IAAlB,CAAuB,CAAvB,EAA0BA,IAArD;AACH,WAHD,MAGM,IAAGkG,aAAa,CAACS,GAAd,CAAkB3B,IAAlB,IAAwB,KAA3B,EAAiC,CAAM;AACzC4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,KAAnB;AACA4B,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoB6E,GAApB,GAA0Bc,aAAa,CAACS,GAAd,CAAkBvB,GAA5C;AACH,WAHK,MAGA,IAAGc,aAAa,CAACS,GAAd,CAAkB3B,IAAlB,IAAwB,OAA3B,EAAmC;AACrC4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,OAAnB;AACA4B,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBmG,MAApB,GAA6BR,aAAa,CAACS,GAAd,CAAkBpG,OAA/C;AACAqG,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoB6E,GAApB,GAA0Bc,aAAa,CAACS,GAAd,CAAkBvB,GAA5C;AACAW,cAAE,CAACrE,UAAH,CAAcoF,IAAd,CAAmBF,OAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoB6E,GAAvC;AACH;;AAEDwB,iBAAO,CAACD,GAAR,CAAYI,IAAZ,GAAmBR,OAAO,CAACS,QAAR,KAAmB,GAAnB,GAAuBT,OAAO,CAACU,UAAR,EAA1C;AACAL,iBAAO,CAACD,GAAR,CAAYzD,QAAZ,GAAuB,EAAvB;;AAEA0D,iBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBgE,GAArB,GAA2BnB,EAAE,CAACjF,QAA9B;AACA8F,iBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBiE,QAArB,GAAgCpB,EAAE,CAAC9C,KAAnC;AACA2D,iBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBkE,IAArB,GAA4BrB,EAAE,CAAChF,UAA/B;AACAgF,YAAE,CAACtE,OAAH,CAAWqF,IAAX,CAAgBF,OAAhB;;AAEAb,YAAE,CAACsB,SAAH,CAAa,YAAW;AACvB;;AAEAtB,cAAE,CAACvE,YAAH,GAAkB,QAAMoF,OAAO,CAACD,GAAR,CAAYtB,EAApC;AACA,WAJD;AAKH;;AAEJ,OA7CD;AA8CH,KA9FC;AA+FFiC,eAAW,EAAC,qBAASC,UAAT,EAAoB;AAC5B1F,SAAG,CAACsD,UAAJ,CAAe;AACXC,WAAG,EAAC,sBAAqBmC,UAAU,CAAC1G,QADzB,EAAf;;AAGH,KAnGC;;AAqGF;AACA2G,eAtGE,yBAsGW;AACZ,WAAKC,UAAL;AACA,WAAK1F,OAAL,GAAe,KAAKA,OAAL,GAAa,KAAb,GAAmB,IAAlC;AACG,UAAG,CAAC,KAAKA,OAAT,EAAiB;AACb,aAAK9B,WAAL,GAAmB,kCAAnB;AACH,OAFD,MAEK;AACD,aAAKA,WAAL,GAAmB,kCAAnB;AACH;AACJ,KA9GC;AA+GF;AACAyH,YAhHE,sBAgHQ;AACT,WAAKD,UAAL,GADS,CACS;AAClB,UAAG,CAAC,KAAKrG,OAAT,EAAiB;AAChB;AACA;AACD,UAAIb,OAAO,GAAG,KAAKa,OAAnB;AACA,UAAIuF,GAAG,GAAG,EAACE,IAAI,EAACtG,OAAN,EAAV;AACA,WAAKoH,OAAL,CAAahB,GAAb,EAAiB,MAAjB;AACA,WAAKvF,OAAL,GAAe,EAAf,CARS,CAQS;AAClB,KAzHC;AA0HF;AACAwG,iBA3HE,2BA2Ha;AACXxD,aAAO,CAACC,GAAR,CAAY,eAAZ;AACH,UAAG,KAAKxB,eAAL,IAAsB,WAAtB,IAAqC,KAAKC,QAAL,IAAiB,KAAzD,EAA+D;AAC9D,aAAK2E,UAAL;AACA;AACE;AACH,KAjIC;AAkIF;AACAI,WAnIE,mBAmIMlB,GAnIN,EAmIU;AACRvC,aAAO,CAACC,GAAR,CAAYsC,GAAZ;AACH9E,SAAG,CAACiG,YAAJ,CAAiB;AAChBC,iBAAS,EAAC,MADM;AAEhBC,eAAO,EAACrB,GAAG,CAACpG,OAAJ,CAAY6E,GAFJ;AAGhB6C,YAAI,EAAE,KAAKvG,UAHK,EAAjB;;AAKA,KA1IC;AA2IF;AACAwG,eA5IE,uBA4IUvB,GA5IV,EA4Ic;AACf,WAAKlF,OAAL,CAAaqF,IAAb,CAAkBH,GAAlB;AACA,KA9IC;AA+IF;AACAwB,cAhJE,sBAgJSxB,GAhJT,EAgJa;AACd,WAAKlF,OAAL,CAAaqF,IAAb,CAAkBH,GAAlB;AACA,KAlJC;AAmJF;AACAyB,aApJE,qBAoJQzB,GApJR,EAoJY;AACbA,SAAG,CAACA,GAAJ,CAAQpG,OAAR,GAAkB,KAAK8H,UAAL,CAAgB1B,GAAG,CAACA,GAAJ,CAAQpG,OAAxB,CAAlB;AACA,WAAKmB,UAAL,CAAgBoF,IAAhB,CAAqBH,GAAG,CAACA,GAAJ,CAAQpG,OAAR,CAAgB6E,GAArC;AACA,WAAK3D,OAAL,CAAaqF,IAAb,CAAkBH,GAAlB;AACA,KAxJC;AAyJF;AACAgB,WA1JE,mBA0JMpH,OA1JN,EA0JcyE,IA1Jd,EA0JmB;AACpB;AACA,UAAIuB,OAAO,GAAG,IAAIC,IAAJ,EAAd;;AAEA,UAAIC,MAAM,GAAG,CAAb;AACG,UAAG,KAAKhF,OAAL,IAAgB,KAAKA,OAAL,CAAaiF,MAAb,GAAoB,CAAvC,EAAyC;AACrCD,cAAM,GAAG,KAAKhF,OAAL,CAAa,KAAKA,OAAL,CAAaiF,MAAb,GAAoB,CAAjC,EAAoCC,GAApC,CAAwCtB,EAAjD;AACH;AACJoB,YAAM,GAAGA,MAAM,GAAG,CAAlB;AACG,UAAIzG,IAAJ;AACA,UAAGgF,IAAI,IAAI,MAAX,EAAkB;;AAEdhF,YAAI,GAAG;AACHc,kBAAQ,EAAC,KAAKA,QADX;AAEHwH,cAAI,EAAC,KAAKxH,QAFP;AAGHkE,cAAI,EAAC,KAHF;AAIHzE,iBAAO,EAACA,OAAO,CAACsG,IAJb;AAKH7D,qBAAW,EAAC,KAAKA,WALd,EAAP;;AAOH,OATD,MASM,IAAGgC,IAAI,IAAG,KAAV,EAAgB;;AAElBhF,YAAI,GAAG;AACHc,kBAAQ,EAAC,KAAKA,QADX;AAEHwH,cAAI,EAAC,KAAKxH,QAFP;AAGHkE,cAAI,EAAC,KAHF;AAIHzE,iBAAO,EAAC,MAJL;AAKH6E,aAAG,EAAC7E,OAAO,CAAC6E,GALT;AAMHpC,qBAAW,EAAC,KAAKA,WANd,EAAP;;AAQH,OAVK,MAUA,IAAGgC,IAAI,IAAG,OAAV,EAAkB;AACpBA,YAAI,IAAI,OAAR;AACAhF,YAAI,GAAG;AACHc,kBAAQ,EAAC,KAAKA,QADX;AAEHwH,cAAI,EAAC,KAAKxH,QAFP;AAGHkE,cAAI,EAAC,OAHF;AAIHzE,iBAAO,EAACA,OAAO,CAACgI,GAJb;AAKHnD,aAAG,EAAC7E,OAAO,CAAC6E,GALT;AAMHpC,qBAAW,EAAC,KAAKA,WANd,EAAP;;AAQH;;AAED,UAAIuB,KAAK,GAAG,IAAZ;AACAH,aAAO,CAACC,GAAR,CAAYrE,IAAZ;AACA,UAAG,KAAKmD,QAAL,IAAiB,CAApB,EAAsB;AAClBa,qBAAIwE,mBAAJ,CAAwB;AACnBxI,cAAI,EAAEA,IADa,EAAxB;AAEGkE,YAFH,CAEQ,UAAAuE,MAAM,EAAI;AACdrE,iBAAO,CAACC,GAAR,CAAYoE,MAAZ;AACA,cAAGA,MAAM,CAACvD,MAAP,IAAiB,IAApB,EAAyB;AACrB,gBAAIwD,WAAW,GAAG7G,GAAG,CAAC6B,cAAJ,CAAmB,UAAnB,CAAlB;AACA,gBAAIiF,OAAO,GAAGD,WAAW,CAACE,UAA1B;AACA,gBAAIjC,GAAG,GAAG,EAAC3B,IAAI,EAAC,MAAN,EAAa2B,GAAG,EAAC,EAACtB,EAAE,EAACoB,MAAJ,EAAWM,IAAI,EAACR,OAAO,CAACS,QAAR,KAAmB,GAAnB,GAAuBT,OAAO,CAACU,UAAR,EAAvC,EAA4DjC,IAAI,EAACA,IAAjE,EAAsE9B,QAAQ,EAAC,EAACgE,GAAG,EAAC,CAAL,EAAOC,QAAQ,EAACuB,WAAW,CAAClD,IAA5B,EAAiC4B,IAAI,EAACuB,OAAtC,EAA/E,EAA8HpI,OAAO,EAACA,OAAtI,EAAjB,EAAV;AACAgE,iBAAK,CAAC9C,OAAN,CAAcqF,IAAd,CAAmBH,GAAnB;AACA,gBAAG3B,IAAI,IAAG,KAAV,EAAgB;AACZT,mBAAK,CAAC7C,UAAN,CAAiBoF,IAAjB,CAAsBH,GAAG,CAACA,GAAJ,CAAQpG,OAAR,CAAgB6E,GAAtC;AACH;AACDb,iBAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B;AACA9C,mBAAK,CAAC/C,YAAN,GAAqB,QAAMmF,GAAG,CAACA,GAAJ,CAAQtB,EAAnC;AACA,aAHD;AAIH;;AAEJ,SAlBD;AAmBH,OApBD,MAoBK;AACDrB,qBAAI6E,WAAJ,CAAgB;AACZ7I,cAAI,EAAEA,IADM,EAAhB;AAEGkE,YAFH,CAEQ,UAAAuE,MAAM,EAAI;AACdrE,iBAAO,CAACC,GAAR,CAAYoE,MAAZ;AACA,cAAGA,MAAM,CAACvD,MAAP,IAAiB,IAApB,EAAyB;AACrB,gBAAIwD,WAAW,GAAG7G,GAAG,CAAC6B,cAAJ,CAAmB,UAAnB,CAAlB;AACA,gBAAIiF,OAAO,GAAGD,WAAW,CAACE,UAA1B;AACA,gBAAIjC,GAAG,GAAG,EAAC3B,IAAI,EAAC,MAAN,EAAa2B,GAAG,EAAC,EAACtB,EAAE,EAACoB,MAAJ,EAAWM,IAAI,EAACR,OAAO,CAACS,QAAR,KAAmB,GAAnB,GAAuBT,OAAO,CAACU,UAAR,EAAvC,EAA4DjC,IAAI,EAACA,IAAjE,EAAsE9B,QAAQ,EAAC,EAACgE,GAAG,EAAC,CAAL,EAAOC,QAAQ,EAACuB,WAAW,CAAClD,IAA5B,EAAiC4B,IAAI,EAACuB,OAAtC,EAA/E,EAA8HpI,OAAO,EAACA,OAAtI,EAAjB,EAAV;AACAgE,iBAAK,CAAC9C,OAAN,CAAcqF,IAAd,CAAmBH,GAAnB;AACA,gBAAG3B,IAAI,IAAG,KAAV,EAAgB;AACZT,mBAAK,CAAC7C,UAAN,CAAiBoF,IAAjB,CAAsBH,GAAG,CAACA,GAAJ,CAAQpG,OAAR,CAAgB6E,GAAtC;AACH;AACDb,iBAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B;AACA9C,mBAAK,CAAC/C,YAAN,GAAqB,QAAMmF,GAAG,CAACA,GAAJ,CAAQtB,EAAnC;AACA,aAHD;AAIH;;AAEJ,SAlBD;AAmBH;;;AAGJ,KAhPC;AAiPF;AACAyD,YAlPE,oBAkPO9D,IAlPP,EAkPY;AACb,WAAKyC,UAAL;AACG,UAAIlD,KAAK,GAAG,IAAZ;AACH1C,SAAG,CAACkH,WAAJ,CAAgB;AACTC,aAAK,EAAE,CADE;AAEfC,kBAAU,EAAC,CAACjE,IAAD,CAFI;AAGfkE,gBAAQ,EAAE,CAAC,UAAD,EAAa,YAAb,CAHK,EAGuB;AACtCC,eAAO,EAAE,iBAAChF,GAAD,EAAO;AACf,eAAI,IAAIiF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACjF,GAAG,CAACkF,aAAJ,CAAkB3C,MAAhC,EAAuC0C,CAAC,EAAxC,EAA2C;AAC1CvH,eAAG,CAACyH,YAAJ,CAAiB;AAChBC,iBAAG,EAAEpF,GAAG,CAACkF,aAAJ,CAAkBD,CAAlB,CADW;AAEhBD,qBAAO,EAAE,iBAACK,KAAD,EAAS;;AAEC,oBAAIjF,KAAK,CAACvD,YAAV,EAAwB;AACvBa,qBAAG,CAAC4H,WAAJ,CAAgB;AACfxG,yBAAK,EAAE,OADQ,EAAhB;;AAGApB,qBAAG,CAAC6H,UAAJ,CAAe;AACdtE,uBAAG,EAAEb,KAAK,CAACvD,YAAN,CAAmBoE,GADV;AAEduE,4BAAQ,EAAExF,GAAG,CAACkF,aAAJ,CAAkB,CAAlB,CAFI;AAGd7D,wBAAI,EAAE,YAHQ;AAIdoE,4BAAQ,EAAE;AACTC,4BAAM,EAAEtF,KAAK,CAACvD,YAAN,CAAmB6I,MADlB;AAETC,+BAAS,EAAEvF,KAAK,CAACvD,YAAN,CAAmB8I,SAFrB,EAJI;;AAQdX,2BARc,mBAQNY,MARM,EAQE;AACf,0BAAIA,MAAM,CAAC/J,IAAX,EAAiB;;AAEhB,4BAAIgK,CAAC,GAAGpE,IAAI,CAACC,KAAL,CAAWkE,MAAM,CAAC/J,IAAlB,CAAR;AACA,4BAAIgK,CAAC,CAAC9E,MAAF,KAAa,IAAjB,EAAuB;AACtB,8BAAIyB,GAAG,GAAG,EAACvB,GAAG,EAAC4E,CAAC,CAAChK,IAAF,CAAOiK,QAAP,GAAkBD,CAAC,CAAChK,IAAF,CAAOkK,QAA9B,EAAV;AACA3F,+BAAK,CAACoD,OAAN,CAAchB,GAAd,EAAkB,KAAlB;AACA,yBAHD,MAGO;AACN9E,6BAAG,CAACsI,SAAJ,CAAc;AACblH,iCAAK,EAAE+G,CAAC,CAACpD,OADI;AAEbwD,gCAAI,EAAE,MAFO;AAGbC,oCAAQ,EAAE,IAHG,EAAd;;AAKA;AACD;AACD,qBAvBa;AAwBdC,wBAxBc,kBAwBP;;AAEN,qBA1Ba;AA2BdC,4BA3Bc,oBA2BLpG,GA3BK,EA2BA;AACbtC,yBAAG,CAAC2I,WAAJ;AACA,0BAAIrG,GAAG,CAACsG,UAAJ,KAAmB,GAAvB,EAA4B;AAC3B5I,2BAAG,CAACsI,SAAJ,CAAc;AACblH,+BAAK,EAAEkB,GAAG,CAACuG,MADE;AAEbN,8BAAI,EAAE,MAFO;AAGbC,kCAAQ,EAAE,IAHG,EAAd;;AAKA;AACD,qBApCa,EAAf;;AAsCA,iBA1CD,MA0CO;AACNxI,qBAAG,CAACsI,SAAJ,CAAc;AACblH,yBAAK,EAAE,yBADM;AAEbmH,wBAAI,EAAE,MAFO;AAGbC,4BAAQ,EAAE,IAHG,EAAd;;AAKA;;;AAGnB,eAvDe,EAAjB;;AAyDA;AACD,SAhEc,EAAhB;;AAkEA,KAvTC;AAwTF;AACAM,aAzTE,qBAyTQhE,GAzTR,EAyTY;AACb;AACA,UAAGA,GAAG,CAAC3B,IAAJ,IAAU,QAAb,EAAsB;AACrB;AACA,gBAAQ2B,GAAG,CAACA,GAAJ,CAAQ3B,IAAhB;AACC,eAAK,MAAL;AACC,iBAAK4F,gBAAL,CAAsBjE,GAAtB;AACA;AACD,eAAK,aAAL;AACC,iBAAKkE,uBAAL,CAA6BlE,GAA7B;AACA,kBANF;;AAQA,OAVD,MAUM,IAAGA,GAAG,CAAC3B,IAAJ,IAAU,MAAb,EAAoB;AACzB;AACA,gBAAQ2B,GAAG,CAACA,GAAJ,CAAQ3B,IAAhB;AACC,eAAK,MAAL;AACC,iBAAKmD,UAAL,CAAgBxB,GAAhB;AACA;AACD,eAAK,OAAL;AACC,iBAAKuB,WAAL,CAAiBvB,GAAjB;AACA;AACD,eAAK,KAAL;AACC,iBAAKyB,SAAL,CAAezB,GAAf;AACA;AACD,eAAK,aAAL;AACC,iBAAKmE,iBAAL,CAAuBnE,GAAvB;AACA,kBAZF;;AAcAvC,eAAO,CAACC,GAAR,CAAY,MAAZ;AACA;AACA,YAAGsC,GAAG,CAACA,GAAJ,CAAQzD,QAAR,CAAiBgE,GAAjB,IAAsB,KAAKvF,KAA9B,EAAoC;AACnCyC,iBAAO,CAACC,GAAR,CAAY,IAAZ;AACAxC,aAAG,CAACkJ,WAAJ;AACA;AACD;AACD,WAAK1D,SAAL,CAAe,YAAW;AACzB;AACA,aAAK7F,YAAL,GAAoB,QAAMmF,GAAG,CAACA,GAAJ,CAAQtB,EAAlC;AACA,OAHD;AAIA,KAhWC;AAiWFf,eAjWE,yBAiWW;AACT,WAAK7D,IAAL,GAAY,CAAZ;AACA,WAAKgB,OAAL,GAAe,EAAf;AACA,WAAKuJ,UAAL,CAAgB,IAAhB;AACH,KArWC;AAsWF;AACAA,cAvWE,sBAuWSC,MAvWT,EAuWgB;;AAEd,UAAG,KAAK9H,QAAL,IAAiB,CAApB,EAAsB;AAClB,YAAInD,IAAI,GAAG;AACPS,cAAI,EAAC,KAAKA,IADH;AAEPC,cAAI,EAAC,KAAKA,IAFH;AAGPsC,qBAAW,EAAC,KAAKA,WAHV,EAAX;;AAKA,YAAIuB,KAAK,GAAG,IAAZ;AACA,YAAI2G,IAAI,GAAG,EAAX;AACA,YAAIC,WAAW,GAAG,EAAlB;AACAnH,qBAAIoH,mBAAJ,CAAwB;AACpBpL,cAAI,EAACA,IADe,EAAxB;AAEGkE,YAFH,CAEQ,UAAAmH,OAAO,EAAE;AACbjH,iBAAO,CAACC,GAAR,CAAYgH,OAAZ;AACA,cAAGA,OAAO,CAACnG,MAAR,IAAgB,IAAhB,IAAwBmG,OAAO,CAACH,IAAR,CAAaxE,MAAb,GAAoB,CAA/C,EAAkD;;AAE9C,kBAAI,CAAC4E,iBAAL,CAAuBD,OAAvB,EAA+BJ,MAA/B;;AAEH;AACD1G,eAAK,CAAClD,gBAAN,GAAyB,KAAzB;AACH,SAVD;AAWH,OApBD,MAoBK;AACD,YAAIrB,IAAI,GAAG;AACPS,cAAI,EAAC,KAAKA,IADH;AAEPC,cAAI,EAAC,KAAKA,IAFH;AAGPsC,qBAAW,EAAC,KAAKA,WAHV;AAIPlC,kBAAQ,EAAC,KAAKA,QAJP,EAAX;;AAMA,YAAIyD,MAAK,GAAG,IAAZ;AACA,YAAI2G,IAAI,GAAG,EAAX;AACA,YAAIC,WAAW,GAAG,EAAlB;AACAnH,qBAAIuH,aAAJ,CAAkB;AACdvL,cAAI,EAAEA,IADQ,EAAlB;AAEGkE,YAFH,CAEQ,UAAAmH,OAAO,EAAI;;AAEf,cAAGA,OAAO,CAACnG,MAAR,IAAgB,IAAhB,IAAwBmG,OAAO,CAACH,IAAR,CAAaxE,MAAb,GAAoB,CAA/C,EAAkD;;AAE9C,kBAAI,CAAC4E,iBAAL,CAAuBD,OAAvB,EAA+BJ,MAA/B;;AAEH;AACD1G,gBAAK,CAAClD,gBAAN,GAAyB,KAAzB;AACH,SAVD;AAWH;;;AAGJ,KArZC;AAsZFiK,qBAAiB,EAAC,2BAASD,OAAT,EAAiBJ,MAAjB,EAAwB;AACtC,UAAI1G,KAAK,GAAG,IAAZ;AACA,WAAKtD,WAAL,GAAmBoK,OAAO,CAACH,IAA3B;AACA,UAAIM,KAAK,GAAGC,cAAKC,UAAL,CAAgB,IAAIlF,IAAJ,EAAhB,EAA0B,YAA1B,CAAZ;AACA,UAAImF,QAAJ;AACA,UAAIC,QAAJ;AACA,UAAIC,QAAQ,GAAG,CAAf;;AAEAR,aAAO,CAACH,IAAR,CAAaY,OAAb,CAAqB,UAACC,IAAD,EAAMC,KAAN,EAAc;;AAE/B5H,eAAO,CAACC,GAAR,CAAYE,KAAK,CAACzD,QAAlB;AACA,YAAImL,IAAI,GAAGR,cAAKS,eAAL,CAAqBH,IAAI,CAAChF,IAA1B,EAAgC,YAAhC,CAAX;;AAEA,YAAIA,IAAI,GAAG0E,cAAKS,eAAL,CAAqBH,IAAI,CAAChF,IAA1B,EAA+B,OAA/B,CAAX;;AAEA,YAAG,CAACgF,IAAI,CAACI,OAAT,EAAiB;AACb,cAAIvF,OAAO,GAAG,EAAd;AACAA,iBAAO,CAAC5B,IAAR,GAAe,MAAf;AACA4B,iBAAO,CAACD,GAAR,GAAc,EAAd;AACAC,iBAAO,CAACD,GAAR,CAAYtB,EAAZ,GAAiB0G,IAAI,CAAC1G,EAAtB;;AAEA,cAAG0G,IAAI,CAAC/G,IAAL,IAAW,KAAd,EAAoB,CAAQ;AACxB4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,MAAnB;AACH,WAFD,MAEM,IAAG+G,IAAI,CAAC/G,IAAL,IAAW,KAAd,EAAoB,CAAM;AAC5B4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,KAAnB;AACH,WAFK,MAEA,IAAG+G,IAAI,CAAC/G,IAAL,IAAW,OAAd,EAAsB;AACxB4B,mBAAO,CAACD,GAAR,CAAY3B,IAAZ,GAAmB,OAAnB;AACH;;AAED4B,iBAAO,CAACD,GAAR,CAAYI,IAAZ,GAAmBA,IAAnB;AACAH,iBAAO,CAACD,GAAR,CAAYzD,QAAZ,GAAuB,EAAvB;AACA,cAAG6I,IAAI,CAACK,MAAL,IAAa7H,KAAK,CAACzD,QAAtB,EAA+B;AAC3B;AACA8F,mBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBgE,GAArB,GAA2B,CAA3B;AACAN,mBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBiE,QAArB,GAAgC4E,IAAI,CAACM,QAArC;AACAzF,mBAAO,CAACD,GAAR,CAAYzD,QAAZ,CAAqBkE,IAArB,GAA4B7C,KAAK,CAACrB,QAAN,CAAe0F,UAA3C;;AAEH,WAND,MAMK;;AAEDhC,mBAAO,CAACD,GAAR,CAAYzD,QAAZ,GAAuB;AACnBgE,iBAAG,EAAC3C,KAAK,CAACzD,QADS;AAEnBqG,sBAAQ,EAAC5C,KAAK,CAACtB,KAFI;AAGnBmE,kBAAI,EAAC,MAAI,CAACrG,UAHS,EAAvB;;;AAMH;AACD6F,iBAAO,CAACD,GAAR,CAAYpG,OAAZ,GAAsB,EAAtB;AACA,cAAGwL,IAAI,CAAC/G,IAAL,IAAW,KAAd,EAAoB,CAAQ;AACxB4B,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBsG,IAApB,GAA2BkF,IAAI,CAACxL,OAAhC;AACH,WAFD,MAEM,IAAGwL,IAAI,CAAC/G,IAAL,IAAW,KAAd,EAAoB,CAAM;AAC5BZ,mBAAO,CAACC,GAAR,CAAY0H,IAAI,CAAC3G,GAAjB;AACAwB,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoB6E,GAApB,GAA0B2G,IAAI,CAAC3G,GAA/B;AACH,WAHK,MAGA,IAAG2G,IAAI,CAAC/G,IAAL,IAAW,OAAd,EAAsB;AACxB4B,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoB6E,GAApB,GAA0B2G,IAAI,CAAC3G,GAA/B;AACAwB,mBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBmG,MAApB,GAA6BqF,IAAI,CAACxL,OAAlC;AACH;;AAEDgE,eAAK,CAAC9C,OAAN,CAAc6K,OAAd,CAAsB1F,OAAtB;AACH,SA3CD,MA2CK;AACD,cAAIA,OAAO,GAAG,EAAd;;;AAGA,cAAIW,UAAU,GAAG3B,IAAI,CAACC,KAAL,CAAWkG,IAAI,CAACI,OAAhB,CAAjB;AACA,cAAIvF,OAAO,GAAG,EAAd;AACAA,iBAAO,CAAC5B,IAAR,GAAe,SAAf;AACA4B,iBAAO,CAACD,GAAR,GAAc,EAAd;AACAC,iBAAO,CAACD,GAAR,CAAYtB,EAAZ,GAAiB0G,IAAI,CAAC1G,EAAtB;AACAuB,iBAAO,CAACD,GAAR,CAAYI,IAAZ,GAAmBkF,IAAI,GAAG,GAAP,GAAalF,IAAhC;AACAH,iBAAO,CAACD,GAAR,CAAYpG,OAAZ,GAAsB,EAAtB;AACAqG,iBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBsG,IAApB,GAA2BU,UAAU,CAAChH,OAAtC;AACAqG,iBAAO,CAACD,GAAR,CAAYpG,OAAZ,CAAoBgH,UAApB,GAAiCA,UAAjC;AACAX,iBAAO,CAACD,GAAR,CAAYtG,KAAZ,GAAoBkH,UAAU,CAAClH,KAA/B;AACAkE,eAAK,CAAC9C,OAAN,CAAc6K,OAAd,CAAsB1F,OAAtB;AACH;;AAED,YAAG4E,KAAK,IAAES,IAAV,EAAgB,CAAM;AAClB,cAAIN,QAAQ,IAAIM,IAAhB,EAAqB;AACjB,gBAAIrF,OAAO,GAAG,EAAd;AACAA,mBAAO,GAAG,EAAC5B,IAAI,EAAC,QAAN,EAAe2B,GAAG,EAAC,EAACtB,EAAE,EAAC,CAAJ,EAAML,IAAI,EAAC,MAAX,EAAkBzE,OAAO,EAAC,EAACsG,IAAI,EAACoF,IAAI,GAAC,GAAL,GAASlF,IAAf,EAA1B,EAAnB,EAAV;AACAxC,iBAAK,CAAC9C,OAAN,CAAc6K,OAAd,CAAsB1F,OAAtB;AACA+E,oBAAQ,GAAGM,IAAX;AACH;;AAEJ,SARD,MAQK,CAAW;AACZ,cAAIrF,OAAO,GAAG,EAAd;AACA,cAAI2F,KAAK,GAAGd,cAAKS,eAAL,CAAqBH,IAAI,CAAChF,IAA1B,EAA+B,IAA/B,CAAZ;AACA,cAAIyF,IAAI,GAAGf,cAAKS,eAAL,CAAqBH,IAAI,CAAChF,IAA1B,EAA+B,IAA/B,CAAX;AACA,cAAG6E,QAAQ,IAAEW,KAAb,EAAmB,CAAS;AACxB3F,mBAAO,GAAG,EAAC5B,IAAI,EAAC,QAAN,EAAe2B,GAAG,EAAC,EAACtB,EAAE,EAAC,CAAJ,EAAML,IAAI,EAAC,MAAX,EAAkBzE,OAAO,EAAC,EAACsG,IAAI,EAAC0F,KAAK,GAAC,GAAN,GAAUC,IAAhB,EAA1B,EAAnB,EAAV;AACAjI,iBAAK,CAAC9C,OAAN,CAAc6K,OAAd,CAAsB1F,OAAtB;AACAgF,oBAAQ,GAAGW,KAAX;AACH,WAJD,MAIK,CAAO;;AAER,gBAAGC,IAAI,GAAGX,QAAP,GAAiB,CAAC,CAArB,EAAwB;AACpBjF,qBAAO,GAAG,EAAC5B,IAAI,EAAC,QAAN,EAAe2B,GAAG,EAAC,EAACtB,EAAE,EAAC,CAAJ,EAAML,IAAI,EAAC,MAAX,EAAkBzE,OAAO,EAAC,EAACsG,IAAI,EAAC0F,KAAK,GAAC,GAAN,GAAUC,IAAhB,EAA1B,EAAnB,EAAV;AACAjI,mBAAK,CAAC9C,OAAN,CAAc6K,OAAd,CAAsB1F,OAAtB;AACH;AACDiF,oBAAQ,GAAGW,IAAX;AACH;;AAEJ;;AAEJ,OA9FD;AA+FA,WAAI,IAAIpD,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC7E,KAAK,CAAC9C,OAAN,CAAciF,MAA5B,EAAmC0C,CAAC,EAApC,EAAuC;AACtC,YAAG7E,KAAK,CAAC9C,OAAN,CAAc2H,CAAd,EAAiBpE,IAAjB,IAAuB,MAAvB,IAA+BT,KAAK,CAAC9C,OAAN,CAAc2H,CAAd,EAAiBzC,GAAjB,CAAqB3B,IAArB,IAA2B,KAA7D,EAAmE;AAClET,eAAK,CAAC9C,OAAN,CAAc2H,CAAd,EAAiBzC,GAAjB,CAAqBpG,OAArB,GAA+BgE,KAAK,CAAC8D,UAAN,CAAiB9D,KAAK,CAAC9C,OAAN,CAAc2H,CAAd,EAAiBzC,GAAjB,CAAqBpG,OAAtC,CAA/B;AACAgE,eAAK,CAAC7C,UAAN,CAAiBoF,IAAjB,CAAsBvC,KAAK,CAAC9C,OAAN,CAAc2H,CAAd,EAAiBzC,GAAjB,CAAqBpG,OAArB,CAA6B6E,GAAnD;AACA;AACD;;AAED;AACAb,WAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B;AACA9C,aAAK,CAAChD,SAAN,GAAkB,IAAlB;AACAgD,aAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B9C,eAAK,CAACjD,eAAN,GAAwB,IAAxB;AACA,SAFD;;AAIA,OAPD;AAQA,UAAG2J,MAAM,IAAI,IAAb,EAAkB;AACd;AACA1G,aAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B9C,eAAK,CAAC/C,YAAN,GAAqB,QAAMyJ,MAA3B,CAD0B,CACQ;AAClC1G,eAAK,CAAC8C,SAAN,CAAgB,YAAW;AAC1B9C,iBAAK,CAACjD,eAAN,GAAwB,IAAxB,CAD0B,CACG;AAC7B,WAFD;;AAIA,SAND;;AAQH;AACJ,KAxhBC;AAyhBF;AACA+G,cA1hBE,sBA0hBS9H,OA1hBT,EA0hBiB;AAClB;AACA,UAAIkM,IAAI,GAAG5K,GAAG,CAAC6K,MAAJ,CAAW,GAAX,CAAX,CAFkB,CAES;AAC3B,UAAIC,IAAI,GAAG9K,GAAG,CAAC6K,MAAJ,CAAW,GAAX,CAAX,CAHkB,CAGS;AAC3B,UAAGnM,OAAO,CAACqM,CAAR,GAAUH,IAAV,IAAgBlM,OAAO,CAACsM,CAAR,GAAUF,IAA7B,EAAkC;AACjC,YAAIG,KAAK,GAAGvM,OAAO,CAACqM,CAAR,GAAUrM,OAAO,CAACsM,CAA9B;AACAtM,eAAO,CAACqM,CAAR,GAAYE,KAAK,GAAC,CAAN,GAAQL,IAAR,GAAaE,IAAI,GAACG,KAA9B;AACAvM,eAAO,CAACsM,CAAR,GAAYC,KAAK,GAAC,CAAN,GAAQL,IAAI,GAACK,KAAb,GAAmBH,IAA/B;AACA;AACD,aAAOpM,OAAP;AACA,KApiBC;AAqiBF;AACAwM,eAtiBE,uBAsiBUrI,CAtiBV,EAsiBY;AACb,UAAG,KAAKrD,gBAAR,EAAyB;AACxB;AACA;AACE,WAAKZ,IAAL;;;AAGH,WAAKY,gBAAL,GAAwB,IAAxB,CAPa,CAOgB;AAC7B,WAAKC,eAAL,GAAuB,KAAvB,CARa,CAQgB;AAC7B,UAAI2J,MAAM,GAAG,KAAKxJ,OAAL,CAAa,CAAb,EAAgBkF,GAAhB,CAAoBtB,EAAjC,CATa,CASuB;;AAEjC,WAAK2F,UAAL,CAAgBC,MAAhB;AACH,KAljBC;AAmjBF;AACA+B,cApjBE,sBAojBStI,CApjBT,EAojBW;AACTN,aAAO,CAACC,GAAR,CAAY,YAAZ;AACH,UAAGK,CAAC,CAACuI,OAAF,CAAUvG,MAAV,GAAiB,CAApB,EAAsB;AACrB;AACA;AACE,WAAKxE,SAAL,GAAiB,IAAjB;AACH,WAAKE,SAAL,CAAeE,CAAf,GAAmBoC,CAAC,CAACuI,OAAF,CAAU,CAAV,EAAaC,OAAhC;AACA,WAAK9K,SAAL,CAAeC,UAAf,GAA4BqC,CAAC,CAACuI,OAAF,CAAU,CAAV,EAAa5K,UAAzC;AACA,WAAKT,QAAL,CAAcuL,KAAd,CAAoB,EAACC,MAAM,EAAC,KAAR,EAApB,EARY,CAQwB;AACpC,KA7jBC;AA8jBF;AACAC,aA/jBE,qBA+jBQ1G,GA/jBR,EA+jBY;AACVvC,aAAO,CAACC,GAAR,CAAY,KAAK5B,KAAL,CAAW6K,MAAvB;;AAEA,UAAG,KAAK3K,SAAL,IAAkB,KAAKF,KAAL,CAAW6K,MAA7B,IAAuC,KAAK7K,KAAL,CAAW8G,GAAX,IAAkB5C,GAAG,CAACpG,OAAJ,CAAY6E,GAAxE,EAA4E;AACxE,aAAK3C,KAAL,CAAW8K,IAAX;AACA,aAAK5K,SAAL,GAAe,IAAf;AACH,OAHD,MAGK;AACD,aAAKA,SAAL,GAAegE,GAAG,CAACtB,EAAnB;AACA,aAAK5C,KAAL,CAAW8G,GAAX,GAAiB5C,GAAG,CAACpG,OAAJ,CAAY6E,GAA7B;AACA,aAAKiC,SAAL,CAAe,YAAW;AACzB,eAAK5E,KAAL,CAAW+K,IAAX;AACA,SAFD;AAGH;;AAEJ,KA7kBC;AA8kBF;AACA7I,eA/kBE,uBA+kBUD,CA/kBV,EA+kBY;AACb,UAAG,CAAC,KAAKxC,SAAT,EAAmB;AAClB;AACA;AACD,WAAKF,QAAL,GAAc,OAAd;AACA,WAAKQ,YAAL,GAAoB,CAApB;AACA,WAAKD,WAAL,GAAmBkL,WAAW,CAAC,YAAI;AAClC,cAAI,CAACjL,YAAL;AACA,OAF6B,EAE5B,IAF4B,CAA9B;AAGA,KAxlBC;AAylBF;AACAkL,eA1lBE,yBA0lBW;AACTtJ,aAAO,CAACC,GAAR,CAAY,aAAZ;AACH,WAAKnC,SAAL,GAAiB,KAAjB;AACA,WAAKF,QAAL,GAAc,OAAd;AACA,WAAKC,SAAL,GAAiB,WAAjB;AACA,WAAKE,QAAL,GAAgB,IAAhB,CALY,CAKS;AACrB,WAAKP,QAAL,CAAc2L,IAAd,GANY,CAMS;AACrB,KAjmBC;AAkmBF;AACAI,YAnmBE,oBAmmBOjJ,CAnmBP,EAmmBS;AACPN,aAAO,CAACC,GAAR,CAAY,UAAZ;AACH,UAAG,CAAC,KAAKnC,SAAT,EAAmB;AAClB;AACA;AACD,UAAI0L,MAAM,GAAGlJ,CAAC,CAACuI,OAAF,CAAU,CAAV,CAAb;AACA;AACA,UAAG,KAAK7K,SAAL,CAAeE,CAAf,GAAmBsL,MAAM,CAACV,OAA1B,IAAmCrL,GAAG,CAAC6K,MAAJ,CAAW,GAAX,CAAtC,EAAsD;AACrD,aAAKvK,QAAL,GAAgB,IAAhB;AACA,aAAKF,SAAL,GAAiB,WAAjB;AACA,OAHD,MAGK;AACJ,aAAKE,QAAL,GAAgB,KAAhB;AACA,aAAKF,SAAL,GAAiB,WAAjB;AACA;AACD,KAjnBC;AAknBF;AACA4L,YAnnBE,oBAmnBOnJ,CAnnBP,EAmnBS;AACPN,aAAO,CAACC,GAAR,CAAY,cAAY,KAAKnC,SAA7B;AACH,UAAG,CAAC,KAAKA,SAAT,EAAmB;AAClB;AACA;;AAED,WAAKA,SAAL,GAAiB,KAAjB;AACA,WAAKF,QAAL,GAAc,OAAd;AACA,WAAKC,SAAL,GAAiB,WAAjB;AACA,WAAKL,QAAL,CAAc2L,IAAd,GATU,CASW;AAClBnJ,aAAO,CAACC,GAAR,CAAY,WAAZ;AACH,KA9nBC;AA+nBF;AACAQ,aAhoBE,qBAgoBQH,CAhoBR,EAgoBU;AACXoJ,mBAAa,CAAC,KAAKvL,WAAN,CAAb;AACA,UAAG,CAAC,KAAKJ,QAAT,EAAkB;;AAEX,YAAG,KAAKK,YAAL,GAAkB,CAArB,EAAuB;AACnBX,aAAG,CAACsI,SAAJ,CAAc;AACVlH,iBAAK,EAAE,QADG;AAEVmH,gBAAI,EAAE,MAFI;AAGVC,oBAAQ,EAAE,IAHA,EAAd;;AAKA;AACH;;AAEDxI,WAAG,CAAC4H,WAAJ,CAAgB;AACfxG,eAAK,EAAE,OADQ,EAAhB;;AAGA,YAAIsB,KAAK,GAAG,IAAZ;AACA,YAAIwJ,UAAU,GAAGlM,GAAG,CAAC6H,UAAJ,CAAe;AAC/BtE,aAAG,EAAEb,KAAK,CAACvD,YAAN,CAAmBoE,GADO;AAE/BuE,kBAAQ,EAAEjF,CAAC,CAACsJ,YAFmB;AAG/BxI,cAAI,EAAE,YAHyB;AAI/BoE,kBAAQ,EAAE;AACTC,kBAAM,EAAEtF,KAAK,CAACvD,YAAN,CAAmB6I,MADlB;AAETC,qBAAS,EAAEvF,KAAK,CAACvD,YAAN,CAAmB8I,SAFrB,EAJqB;;AAQ/BX,iBAR+B,mBAQvBY,MARuB,EAQf;AACf,gBAAIA,MAAM,CAAC/J,IAAX,EAAiB;AACPoE,qBAAO,CAACC,GAAR,CAAY0F,MAAM,CAAC/J,IAAnB;AACT,kBAAIgK,CAAC,GAAGpE,IAAI,CAACC,KAAL,CAAWkE,MAAM,CAAC/J,IAAlB,CAAR;AACA,kBAAIgK,CAAC,CAAC9E,MAAF,KAAa,IAAjB,EAAuB;;AAEV,oBAAI+I,GAAG,GAAGC,QAAQ,CAAC3J,KAAK,CAAC/B,YAAN,GAAmB,EAApB,CAAlB;AACA,oBAAI+F,GAAG,GAAGhE,KAAK,CAAC/B,YAAN,GAAmB,EAA7B;AACAyL,mBAAG,GAAGA,GAAG,GAAC,EAAJ,GAAO,MAAIA,GAAX,GAAeA,GAArB;AACA1F,mBAAG,GAAGA,GAAG,GAAC,EAAJ,GAAO,MAAIA,GAAX,GAAeA,GAArB;AACAnE,uBAAO,CAACC,GAAR,CAAY,QAAQuB,IAAI,CAACuI,SAAL,CAAezJ,CAAf,CAApB;AACA,oBAAIiC,GAAG,GAAG;AACTD,wBAAM,EAACuH,GAAG,GAAC,GAAJ,GAAQ1F,GADN;AAENnD,qBAAG,EAAC4E,CAAC,CAAChK,IAAF,CAAOiK,QAAP,GAAkBD,CAAC,CAAChK,IAAF,CAAOkK,QAFvB;AAGN3B,qBAAG,EAAC0F,GAAG,GAAC,GAAJ,GAAQ1F,GAHN,EAAV;;;AAMZhE,qBAAK,CAACoD,OAAN,CAAchB,GAAd,EAAkB,OAAlB;AACA,eAdD,MAcO;AACN9E,mBAAG,CAACsI,SAAJ,CAAc;AACblH,uBAAK,EAAE+G,CAAC,CAACpD,OADI;AAEbwD,sBAAI,EAAE,MAFO;AAGbC,0BAAQ,EAAE,IAHG,EAAd;;AAKA;AACD;AACD,WAlC8B;AAmC/BC,cAnC+B,kBAmCxB;;AAEN,WArC8B;AAsC/BC,kBAtC+B,oBAsCtBpG,GAtCsB,EAsCjB;AACbtC,eAAG,CAAC2I,WAAJ;AACA,gBAAIrG,GAAG,CAACsG,UAAJ,KAAmB,GAAvB,EAA4B;AAC3B5I,iBAAG,CAACsI,SAAJ,CAAc;AACblH,qBAAK,EAAEkB,GAAG,CAACuG,MADE;AAEbN,oBAAI,EAAE,MAFO;AAGbC,wBAAQ,EAAE,IAHG,EAAd;;AAKA;AACD,WA/C8B,EAAf,CAAjB;;;AAkDN;AACA,OAlED,MAkEK;AACJjG,eAAO,CAACC,GAAR,CAAY,QAAZ;AACA;AACD,WAAKlC,QAAL,GAAgB,KAAhB;AACA,KAxsBC;;AA0sBF;AACAiM,cA3sBE,wBA2sBU;AACX,WAAKvL,eAAL,GAAuB,WAAvB;AACA,KA7sBC;AA8sBF;AACA4E,cA/sBE,wBA+sBU;AACX,WAAK5E,eAAL,GAAuB,EAAvB;AACAwL,gBAAU,CAAC,YAAI;AACd,cAAI,CAACvL,QAAL,GAAgB,IAAhB;AACA,cAAI,CAACC,SAAL,GAAiB,IAAjB;AACA,OAHS,EAGR,GAHQ,CAAV;AAIA,KArtBC;AAstBFuL,WAttBE,qBAstBO;AACR;AACA,KAxtBC,EA5HK,E;;;;;;;;;;;;;AC7JnB;AAAA;AAAA;AAAA;AAAi7C,CAAgB,y4CAAG,EAAC,C;;;;;;;;;;;ACAr8C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/chatRoom.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/chatRoom.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chatRoom.vue?vue&type=template&id=0a56b2b0&\"\nvar renderjs\nimport script from \"./chatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./chatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatRoom.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/index/chatRoom.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatRoom.vue?vue&type=template&id=0a56b2b0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatRoom.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import api from '../../common/api.js';\n    import util from '../../common/util.js';\n    // import xyDialog from '../../components/xy-dialog/xy-dialog.vue'\n    let msgStorage = require(\"../../comps/chat/msgstorage\");\n    let msgType = require(\"../../comps/chat/msgtype\");\n    let disp = require(\"../../utils/broadcast\");\n    \n    export default {\n        // components: {\n        //     xyDialog\n        // },\n    \tdata() {\n    \t\treturn {\n                jianpanicon:'../../static/image/icon_yysr.png',\n                showPlaceholder:true,\n                isRequest:false,\n                dialogtype:1,\n                score:null,\n                draft:null,\n                content:'',\n                lastMsgTime:'',\n                page:1,\n                size:10,\n                userId:null,\n                instanceId:null,\n                recordId:'',\n                expertId:null,\n                expertPics:null,\n                uploadParams:null,\n                \n                messageList:[],\n                \n                isFinish:null,\n                isload:false,\n    \t\t\t//文字消息\n    \t\t\ttextMsg:'',\n    \t\t\t//消息列表\n    \t\t\tisHistoryLoading:false,\n    \t\t\tscrollAnimation:false,\n    \t\t\tscrollTop:0,\n    \t\t\tscrollToView:'',\n    \t\t\tmsgList:[],\n    \t\t\tmsgImgList:[],\n    \t\t\tmyuid:0,\n    \t\t\t\n    \t\t\t//录音相关参数\n\n    \t\t\t//H5不能录音\n    \t\t\tRECORDER:uni.getRecorderManager(),\n\n    \t\t\tisVoice:false,\n    \t\t\tvoiceTis:'按住 说话',\n    \t\t\trecordTis:\"手指上滑 取消发送\",\n    \t\t\trecording:false,\n    \t\t\twillStop:false,\n    \t\t\tinitPoint:{identifier:0,Y:0},\n    \t\t\trecordTimer:null,\n    \t\t\trecordLength:0,\n    \t\t\t//播放语音相关参数\n    \t\t\tAUDIO:uni.createInnerAudioContext(),\n    \t\t\tplayMsgid:null,\n    \t\t\tVoiceTimer:null,\n    \t\t\t// 抽屉参数\n    \t\t\tpopupLayerClass:'',\n    \t\t\t// more参数\n    \t\t\thideMore:true,\n    \t\t\t//表情定义\n    \t\t\thideEmoji:true,\n                communityId:null,\n                title:'',\n                userinfo:null,\n                chatType:2\n    \t\t}\n    \t},\n        onHide() {\n            \n        },\n        onUnload(){\n            \n        },\n        onReady() {\n            this.create_or_onready();\n        },\n    \tonLoad(option) {\n            this.chatType = option.chatType\n            \n            this.userinfo = uni.getStorageSync('userinfo');\n            \n            this.userId = this.userinfo.userId\n            this.expertId = option.to\n            this.recordId = option.recordId\n            this.communityId = option.communityId\n\t\t\tthis.findCommunity(this.communityId );\n            this.isFinish = option.isFinish\n            this.title = option.title ? option.title : '';\n            this.expertPics = option.topic\n            uni.setNavigationBarTitle({\n                title:this.title\n            });\n            const data = {\n            \tpurpose: 'useravatar'\n            }\n            api.getUploadParams({\n            \tdata: data\n            }).then(res => {\n            \tconsole.log('getUploadParams')\n            \tconsole.log(res)\n            \tthis.uploadParams = res.data\n            })\n            \n            this.initMsgList();\n            var _self = this\n            // this.interval = setInterval(function(){ \n            //     _self.updateLastMsg()\n            // }, 10000);\n            \n            //语音自然播放结束\n            this.AUDIO.onEnded((res)=>{\n            \tthis.playMsgid=null;\n            });\n\n            //录音开始事件\n            this.RECORDER.onStart((e)=>{\n            \tthis.recordBegin(e);\n            })\n            //录音结束事件\n            this.RECORDER.onStop((e)=>{\n            \tthis.recordEnd(e);\n            })\n\n    \t},\n    \tmethods: {\n            clickWenzhen:function(){\n                var data = {\n                    expertId:this.expertId,\n                    type:'IMAGE',\n                    communityId:this.communityId\n                }\n                \n                api.addAdvisoryRecord({\n                    data:data\n                }).then(res=>{\n                    if(res.status == 'OK'){\n                        uni.navigateTo({\n                            url:\"chatRoom?recordId=\" + res.data.id +\"&to=\" + this.communityId+\"&communityId=\"\n                            + this.community.id +\"&title=\" + this.community.expert.name+\"&topic=\" + this.community.expert.pics\n                        })\n                    }\n                })\n            },\n\t\t\tfindCommunity:function(id){\n\t\t\t\tif(!id){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t    const data = {\n\t\t\t        id:id\n\t\t\t    }\n\t\t\t    api.findCommunityById({\n\t\t\t        data:data\n\t\t\t    }).then(res => {\n\t\t\t        console.log(res)\n\t\t\t        if(res.status == 'OK'){\n\t\t\t\t\t\tif(this.title===''){\n\t\t\t\t\t\t\tthis.title = res.data.mangerName;\n\t\t\t\t\t\t\tthis.expertPics = JSON.parse(res.data.mangerAvatar)&&JSON.parse(res.data.mangerAvatar)[0]&&JSON.parse(res.data.mangerAvatar)[0].url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n            create_or_onready() {\n                let me = this;\n                disp.on('em.xmpp.error.sendMsgErr', function(err) {\n                    console.log(err)\n                \t// curMsgMid = err.data.mid\n                \t// isFail = true\n                \treturn\n                });\n                \n                msgStorage.on(\"newChatMsg\", function(renderableMsg, type, curChatMsg, sesskey){\n                    \n                \tconsole.log(renderableMsg)\n                    \n                    if(renderableMsg.info.from == me.expertId && renderableMsg.info.to == me.userId){\n                        var nowDate = new Date();\n                        let lastid = 1\n                        if(me.msgList && me.msgList.length>0){\n                            lastid = me.msgList[me.msgList.length-1].msg.id;\n                        }\n                        lastid = lastid + 1;\n                        \n                        var message = {}\n                        message.type = 'user'\n                        message.msg = {}\n                        message.msg.id = lastid\n                        message.msg.content = {}\n                        if(renderableMsg.msg.type=='txt'){       //文字类型\n                            message.msg.type = \"text\"\n                            message.msg.content.text = renderableMsg.msg.data[0].data\n                        }else if(renderableMsg.msg.type=='img'){     //图片类型\n                            message.msg.type = \"img\"\n                            message.msg.content.url = renderableMsg.msg.url\n                        }else if(renderableMsg.msg.type=='audio'){\n                            message.msg.type = \"voice\"\n                            message.msg.content.length = renderableMsg.msg.content\n                            message.msg.content.url = renderableMsg.msg.url\n                            me.msgImgList.push(message.msg.content.url);\n                        }\n                        \n                        message.msg.time = nowDate.getHours()+\":\"+nowDate.getMinutes()\n                        message.msg.userinfo = {}\n                                      \n                        message.msg.userinfo.uid = me.expertId\n                        message.msg.userinfo.username = me.title\n                        message.msg.userinfo.face = me.expertPics\n                        me.msgList.push(message)\n                       \n                        me.$nextTick(function() {\n                        \t// 滚动到底\n                            \n                        \tme.scrollToView = 'msg'+message.msg.id\n                        });\n                    }\n                    \n                });\n            },\n            clickReport:function(extContent){\n                uni.navigateTo({\n                    url:'doctorReport?rid='+ extContent.recordId\n                })\n            },\n          \n            // 切换语音/文字输入\n            switchVoice(){\n            \tthis.hideDrawer();\n            \tthis.isVoice = this.isVoice?false:true;\n                if(!this.isVoice){\n                    this.jianpanicon = '../../static/image/icon_yysr.png'\n                }else{\n                    this.jianpanicon = '../../static/image/icon_sxsr.png'\n                }\n            },\n            // 发送文字消息\n            sendText(){\n            \tthis.hideDrawer();//隐藏抽屉\n            \tif(!this.textMsg){\n            \t\treturn;\n            \t}\n            \tlet content = this.textMsg;\n            \tlet msg = {text:content}\n            \tthis.sendMsg(msg,'text');\n            \tthis.textMsg = '';//清空输入框\n            },\n            //获取焦点，如果不是选表情ing,则关闭抽屉\n            textareaFocus(){\n                console.log('textareaFocus')\n            \tif(this.popupLayerClass=='showLayer' && this.hideMore == false){\n            \t\tthis.hideDrawer()\n            \t}\n                // this.sendText()\n            },\n            // 预览图片\n            showPic(msg){\n                console.log(msg)\n            \tuni.previewImage({\n            \t\tindicator:\"none\",\n            \t\tcurrent:msg.content.url,\n            \t\turls: this.msgImgList\n            \t});\n            },\n            // 添加语音消息到列表\n            addVoiceMsg(msg){\n            \tthis.msgList.push(msg);\n            },\n            // 添加文字消息到列表\n            addTextMsg(msg){\n            \tthis.msgList.push(msg);\n            },\n            // 添加图片消息到列表\n            addImgMsg(msg){\n            \tmsg.msg.content = this.setPicSize(msg.msg.content);\n            \tthis.msgImgList.push(msg.msg.content.url);\n            \tthis.msgList.push(msg);\n            },\n            // 发送消息\n            sendMsg(content,type){\n            \t//实际应用中，此处应该提交长连接，模板仅做本地处理。\n            \tvar nowDate = new Date();\n                \n            \tlet lastid = 1\n                if(this.msgList && this.msgList.length>0){\n                    lastid = this.msgList[this.msgList.length-1].msg.id;\n                }\n            \tlastid = lastid + 1;\n                var data \n                if(type == 'text'){\n          \n                    data = {\n                        expertId:this.expertId,\n                        toId:this.expertId,\n                        type:'txt',\n                        content:content.text,\n                        communityId:this.communityId\n                    }\n                }else if(type== 'img'){\n                          \n                    data = {\n                        expertId:this.expertId,\n                        toId:this.expertId,\n                        type:'img',\n                        content:'[图片]',\n                        url:content.url,\n                        communityId:this.communityId\n                    }\n                }else if(type== 'voice'){\n                    type == 'audio'\n                    data = {\n                        expertId:this.expertId,\n                        toId:this.expertId,\n                        type:'audio',\n                        content:content.sec,\n                        url:content.url,\n                        communityId:this.communityId\n                    }\n                }\n                \n                var _self = this\n                console.log(data)\n                if(this.chatType == 1){\n                    api.addCommunityMessage({\n                         data: data\n                    }).then(addRes => {\n                        console.log(addRes)\n                        if(addRes.status == 'OK'){\n                            var accountinfo = uni.getStorageSync('userinfo');\n                            var headUrl = accountinfo.avatarPath\n                            let msg = {type:'user',msg:{id:lastid,time:nowDate.getHours()+\":\"+nowDate.getMinutes(),type:type,userinfo:{uid:0,username:accountinfo.name,face:headUrl},content:content}}\n                            _self.msgList.push(msg)\n                            if(type== 'img'){\n                                _self.msgImgList.push(msg.msg.content.url);\n                            }\n                            _self.$nextTick(function() {\n                            \t// 滚动到底\n                            \t_self.scrollToView = 'msg'+msg.msg.id\n                            });\n                        }\n                        \n                    })\n                }else{\n                    api.addByExpert({\n                        data: data\n                    }).then(addRes => {\n                        console.log(addRes)\n                        if(addRes.status == 'OK'){\n                            var accountinfo = uni.getStorageSync('userinfo');\n                            var headUrl = accountinfo.avatarPath\n                            let msg = {type:'user',msg:{id:lastid,time:nowDate.getHours()+\":\"+nowDate.getMinutes(),type:type,userinfo:{uid:0,username:accountinfo.name,face:headUrl},content:content}}\n                            _self.msgList.push(msg)\n                            if(type== 'img'){\n                                _self.msgImgList.push(msg.msg.content.url);\n                            }\n                            _self.$nextTick(function() {\n                            \t// 滚动到底\n                            \t_self.scrollToView = 'msg'+msg.msg.id\n                            });\n                        }\n                        \n                    })\n                }\n                \n                \n            },\n            //选照片 or 拍照\n            getImage(type){\n            \tthis.hideDrawer();\n                var _self = this\n            \tuni.chooseImage({\n                    count: 1,\n            \t\tsourceType:[type],\n            \t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n            \t\tsuccess: (res)=>{\n            \t\t\tfor(let i=0;i<res.tempFilePaths.length;i++){\n            \t\t\t\tuni.getImageInfo({\n            \t\t\t\t\tsrc: res.tempFilePaths[i],\n            \t\t\t\t\tsuccess: (image)=>{\n            \t\t\t\t\t\t\n                                    if (_self.uploadParams) {\n                                    \tuni.showLoading({\n                                    \t\ttitle: '图片上传中'\n                                    \t})\n                                    \tuni.uploadFile({\n                                    \t\turl: _self.uploadParams.url,\n                                    \t\tfilePath: res.tempFilePaths[0],\n                                    \t\tname: 'userAvatar',\n                                    \t\tformData: {\n                                    \t\t\tpolicy: _self.uploadParams.policy,\n                                    \t\t\tSignature: _self.uploadParams.Signature\n                                    \t\t},\n                                    \t\tsuccess(result) {\n                                    \t\t\tif (result.data) {\n                                                    \n                                    \t\t\t\tlet r = JSON.parse(result.data)\n                                    \t\t\t\tif (r.status === 'OK') {\n                                    \t\t\t\t\tlet msg = {url:r.data.location + r.data.filepath};\n                                    \t\t\t\t\t_self.sendMsg(msg,'img');\n                                    \t\t\t\t} else {\n                                    \t\t\t\t\tuni.showToast({\n                                    \t\t\t\t\t\ttitle: r.message,\n                                    \t\t\t\t\t\ticon: \"none\",\n                                    \t\t\t\t\t\tduration: 2000\n                                    \t\t\t\t\t})\n                                    \t\t\t\t}\n                                    \t\t\t}\n                                    \t\t},\n                                    \t\tfail() {\n                                                    \n                                    \t\t},\n                                    \t\tcomplete(res) {\n                                    \t\t\tuni.hideLoading()\n                                    \t\t\tif (res.statusCode !== 200) {\n                                    \t\t\t\tuni.showToast({\n                                    \t\t\t\t\ttitle: res.errMsg,\n                                    \t\t\t\t\ticon: \"none\",\n                                    \t\t\t\t\tduration: 2000\n                                    \t\t\t\t})\n                                    \t\t\t}\n                                    \t\t}\n                                    \t})\n                                    } else {\n                                    \tuni.showToast({\n                                    \t\ttitle: 'getUploadParams failed!',\n                                    \t\ticon: \"none\",\n                                    \t\tduration: 2000\n                                    \t})\n                                    }\n                                    \n            \t\t\t\t\t\t\n            \t\t\t\t\t}\n            \t\t\t\t});\n            \t\t\t}\n            \t\t}\n            \t});\n            },\n            // 接受消息(筛选处理)\n            screenMsg(msg){\n            \t//从长连接处转发给这个方法，进行筛选处理\n            \tif(msg.type=='system'){\n            \t\t// 系统消息\n            \t\tswitch (msg.msg.type){\n            \t\t\tcase 'text':\n            \t\t\t\tthis.addSystemTextMsg(msg);\n            \t\t\t\tbreak;\n            \t\t\tcase 'redEnvelope':\n            \t\t\t\tthis.addSystemRedEnvelopeMsg(msg);\n            \t\t\t\tbreak;\n            \t\t}\n            \t}else if(msg.type=='user'){\n            \t\t// 用户消息\n            \t\tswitch (msg.msg.type){\n            \t\t\tcase 'text':\n            \t\t\t\tthis.addTextMsg(msg);\n            \t\t\t\tbreak;\n            \t\t\tcase 'voice':\n            \t\t\t\tthis.addVoiceMsg(msg);\n            \t\t\t\tbreak;\n            \t\t\tcase 'img':\n            \t\t\t\tthis.addImgMsg(msg);\n            \t\t\t\tbreak;\n            \t\t\tcase 'redEnvelope':\n            \t\t\t\tthis.addRedEnvelopeMsg(msg);\n            \t\t\t\tbreak;\n            \t\t}\n            \t\tconsole.log('用户消息');\n            \t\t//非自己的消息震动\n            \t\tif(msg.msg.userinfo.uid!=this.myuid){\n            \t\t\tconsole.log('振动');\n            \t\t\tuni.vibrateLong();\n            \t\t}\n            \t}\n            \tthis.$nextTick(function() {\n            \t\t// 滚动到底\n            \t\tthis.scrollToView = 'msg'+msg.msg.id\n            \t});\n            },\n            initMsgList(){\n                this.page = 1\n                this.msgList = []\n                this.getMsgList(null)\n            },\n            // 加载初始页面消息\n            getMsgList(Viewid){\n                \n                if(this.chatType == 1){\n                    var data = {\n                        page:this.page,\n                        size:this.size,\n                        communityId:this.communityId,\n                    }\n                    let _self = this;\n                    var list = []\n                    var currentDate = ''\n                    api.getCommunityMessage({\n                        data:data\n                    }).then(listRes=>{\n                        console.log(listRes)\n                        if(listRes.status=='OK' && listRes.list.length>0 ){\n                            \n                            this.formattingMessage(listRes,Viewid)\n                            \n                        }\n                        _self.isHistoryLoading = false;\n                    })\n                }else{\n                    var data = {\n                        page:this.page,\n                        size:this.size,\n                        communityId:this.communityId,\n                        expertId:this.expertId\n                    }\n                    let _self = this;\n                    var list = []\n                    var currentDate = ''\n                    api.expertMessage({\n                        data: data\n                    }).then(listRes => {\n                    \n                        if(listRes.status=='OK' && listRes.list.length>0 ){\n                            \n                            this.formattingMessage(listRes,Viewid)\n                            \n                        }\n                        _self.isHistoryLoading = false;\n                    })\n                }\n                \n                \n            },\n            formattingMessage:function(listRes,Viewid){\n                let _self = this;\n                this.messageList = listRes.list\n                var today = util.formatDate(new Date, 'yyyy-MM-dd')\n                var tempDate\n                var tempHhhh \n                var tempMmmm = 0\n                \n                listRes.list.forEach((item,index)=>{\n                    \n                    console.log(_self.expertId)\n                    var date = util.formatTimestamp(item.time, 'yyyy-MM-dd')\n                                            \n                    var time = util.formatTimestamp(item.time,'hh:mm')\n                    \n                    if(!item.extJson){\n                        var message = {}\n                        message.type = 'user'\n                        message.msg = {}\n                        message.msg.id = item.id\n                        \n                        if(item.type=='txt'){       //文字类型\n                            message.msg.type = \"text\"\n                        }else if(item.type=='img'){     //图片类型\n                            message.msg.type = \"img\"\n                        }else if(item.type=='audio'){\n                            message.msg.type = \"voice\"\n                        }\n                        \n                        message.msg.time = time\n                        message.msg.userinfo = {}\n                        if(item.fromId!=_self.expertId){\n                            //自己发的消息\n                            message.msg.userinfo.uid = 0\n                            message.msg.userinfo.username = item.userName\n                            message.msg.userinfo.face = _self.userinfo.avatarPath\n                            \n                        }else{\n                            \n                            message.msg.userinfo = {\n                                uid:_self.expertId,\n                                username:_self.title,\n                                face:this.expertPics\n                            }\n                            \n                        }\n                        message.msg.content = {}\n                        if(item.type=='txt'){       //文字类型\n                            message.msg.content.text = item.content\n                        }else if(item.type=='img'){     //图片类型\n                            console.log(item.url)\n                            message.msg.content.url = item.url\n                        }else if(item.type=='audio'){\n                            message.msg.content.url = item.url\n                            message.msg.content.length = item.content\n                        }\n                        \n                        _self.msgList.unshift(message)\n                    }else{\n                        var message = {}\n                \n                        \n                        var extContent = JSON.parse(item.extJson)\n                        var message = {}\n                        message.type = 'suggest'\n                        message.msg = {}\n                        message.msg.id = item.id\n                        message.msg.time = date + ' ' + time\n                        message.msg.content = {}\n                        message.msg.content.text = extContent.content\n                        message.msg.content.extContent = extContent\n                        message.msg.score = extContent.score\n                        _self.msgList.unshift(message)\n                    }\n                    \n                    if(today!=date ){     //日期不一样加时间消息\n                        if( tempDate != date){\n                            var message = {}\n                            message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:date+' '+time}}}\n                            _self.msgList.unshift(message)\n                            tempDate = date\n                        }\n                        \n                    }else{          //今天\n                        var message = {}\n                        var hhhhh = util.formatTimestamp(item.time,'hh')\n                        var mmmm = util.formatTimestamp(item.time,'mm')\n                        if(tempHhhh!=hhhhh){        //不同小时\n                            message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:hhhhh+':'+mmmm}}}\n                            _self.msgList.unshift(message)\n                            tempHhhh = hhhhh\n                        }else{      //同一个小时\n                            \n                            if(mmmm - tempMmmm <-2 ){\n                                message = {type:\"system\",msg:{id:0,type:\"text\",content:{text:hhhhh+':'+mmmm}}}\n                                _self.msgList.unshift(message)\n                            }\n                            tempMmmm = mmmm\n                        }\n                        \n                    }\n                    \n                })\n                for(let i=0;i<_self.msgList.length;i++){\n                \tif(_self.msgList[i].type=='user'&&_self.msgList[i].msg.type==\"img\"){\n                \t\t_self.msgList[i].msg.content = _self.setPicSize(_self.msgList[i].msg.content);\n                \t\t_self.msgImgList.push(_self.msgList[i].msg.content.url);\n                \t}\n                }\n                \n                // 滚动到底部     \n                _self.$nextTick(function() {\n                \t//进入页面滚动到底部\n                \t_self.scrollTop = 9999;\n                \t_self.$nextTick(function() {\n                \t\t_self.scrollAnimation = true;\n                \t});\n                \t\n                });\n                if(Viewid != null){\n                    //这段代码很重要，不然每次加载历史数据都会跳到顶部\n                    _self.$nextTick(function() {\n                    \t_self.scrollToView = 'msg'+Viewid;//跳转上次的第一行信息位置\n                    \t_self.$nextTick(function() {\n                    \t\t_self.scrollAnimation = true;//恢复滚动动画\n                    \t});\n                    \t\n                    });\n                    \n                }\n            },\n            //处理图片尺寸，如果不处理宽高，新进入页面加载图片时候会闪\n            setPicSize(content){\n            \t// 让图片最长边等于设置的最大长度，短边等比例缩小，图片控件真实改变，区别于aspectFit方式。\n            \tlet maxW = uni.upx2px(350);//350是定义消息图片最大宽度\n            \tlet maxH = uni.upx2px(350);//350是定义消息图片最大高度\n            \tif(content.w>maxW||content.h>maxH){\n            \t\tlet scale = content.w/content.h;\n            \t\tcontent.w = scale>1?maxW:maxH*scale;\n            \t\tcontent.h = scale>1?maxW/scale:maxH;\n            \t}\n            \treturn content;\n            },\n            //触发滑动到顶部(加载历史信息记录)\n            loadHistory(e){\n            \tif(this.isHistoryLoading){\n            \t\treturn ;\n            \t}\n                this.page++\n                \n                \n            \tthis.isHistoryLoading = true;//参数作为进入请求标识，防止重复请求\n            \tthis.scrollAnimation = false;//关闭滑动动画\n            \tvar Viewid = this.msgList[0].msg.id;//记住第一个信息ID\n                \n                this.getMsgList(Viewid)\n            },\n            // 录音开始\n            voiceBegin(e){\n                console.log('voiceBegin')\n            \tif(e.touches.length>1){\n            \t\treturn ;\n            \t}\n                this.recording = true;\n            \tthis.initPoint.Y = e.touches[0].clientY;\n            \tthis.initPoint.identifier = e.touches[0].identifier;\n            \tthis.RECORDER.start({format:\"mp3\"});//录音开始,\n            },\n            // 播放语音\n            playVoice(msg){\n                console.log(this.AUDIO.paused)\n                \n                if(this.playMsgid && this.AUDIO.paused && this.AUDIO.src == msg.content.url){\n                    this.AUDIO.stop()\n                    this.playMsgid=null\n                }else{\n                    this.playMsgid=msg.id;\n                    this.AUDIO.src = msg.content.url;\n                    this.$nextTick(function() {\n                    \tthis.AUDIO.play();\n                    });\n                }\n            \t\n            },\n            //录音开始UI效果\n            recordBegin(e){\n            \tif(!this.recording){\n            \t\treturn;\n            \t}\n            \tthis.voiceTis='松开 结束';\n            \tthis.recordLength = 0;\n            \tthis.recordTimer = setInterval(()=>{\n            \t\tthis.recordLength++;\n            \t},1000)\n            },\n            // 录音被打断\n            voiceCancel(){\n                console.log('voiceCancel')\n            \tthis.recording = false;\n            \tthis.voiceTis='按住 说话';\n            \tthis.recordTis = '手指上滑 取消发送'\n            \tthis.willStop = true;//不发送录音\n            \tthis.RECORDER.stop();//录音结束\n            },\n            // 录音中(判断是否触发上滑取消发送)\n            voiceIng(e){\n                console.log('voiceIng')\n            \tif(!this.recording){\n            \t\treturn;\n            \t}\n            \tlet touche = e.touches[0];\n            \t//上滑一个导航栏的高度触发上滑取消发送\n            \tif(this.initPoint.Y - touche.clientY>=uni.upx2px(100)){\n            \t\tthis.willStop = true;\n            \t\tthis.recordTis = '松开手指 取消发送'\n            \t}else{\n            \t\tthis.willStop = false;\n            \t\tthis.recordTis = '手指上滑 取消发送'\n            \t}\n            },\n            // 结束录音\n            voiceEnd(e){\n                console.log('voiceEnd：'+this.recording)\n            \tif(!this.recording){\n            \t\treturn;\n            \t}\n                \n            \tthis.recording = false;\n            \tthis.voiceTis='按住 说话';\n            \tthis.recordTis = '手指上滑 取消发送'\n            \tthis.RECORDER.stop();//录音结束\n                console.log('recordTis')\n            },\n            //录音结束(回调文件)\n            recordEnd(e){\n            \tclearInterval(this.recordTimer);\n            \tif(!this.willStop){\n            \t\t\n                    if(this.recordLength<2){\n                        uni.showToast({\n                            title: '录音时间太短',\n                            icon: \"none\",\n                            duration: 2000\n                        })\n                        return\n                    }\n                    \n                    uni.showLoading({\n                    \ttitle: '语音发送中'\n                    })\n                    var _self = this\n                    var uploadTask = uni.uploadFile({\n                    \turl: _self.uploadParams.url,\n                    \tfilePath: e.tempFilePath,\n                    \tname: 'userAvatar',\n                    \tformData: {\n                    \t\tpolicy: _self.uploadParams.policy,\n                    \t\tSignature: _self.uploadParams.Signature\n                    \t},\n                    \tsuccess(result) {\n                    \t\tif (result.data) {\n                                console.log(result.data);\n                    \t\t\tlet r = JSON.parse(result.data)\n                    \t\t\tif (r.status === 'OK') {\n                                    \n                                    let min = parseInt(_self.recordLength/60);\n                                    let sec = _self.recordLength%60;\n                                    min = min<10?'0'+min:min;\n                                    sec = sec<10?'0'+sec:sec;\n                                    console.log(\"e: \" + JSON.stringify(e));\n                                    let msg = {\n                                    \tlength:min+':'+sec,\n                                        url:r.data.location + r.data.filepath,\n                                        sec:min+':'+sec\n                                    }\n                                    \n                    \t\t\t\t_self.sendMsg(msg,'voice');\n                    \t\t\t} else {\n                    \t\t\t\tuni.showToast({\n                    \t\t\t\t\ttitle: r.message,\n                    \t\t\t\t\ticon: \"none\",\n                    \t\t\t\t\tduration: 2000\n                    \t\t\t\t})\n                    \t\t\t}\n                    \t\t}\n                    \t},\n                    \tfail() {\n                                \n                    \t},\n                    \tcomplete(res) {\n                    \t\tuni.hideLoading()\n                    \t\tif (res.statusCode !== 200) {\n                    \t\t\tuni.showToast({\n                    \t\t\t\ttitle: res.errMsg,\n                    \t\t\t\ticon: \"none\",\n                    \t\t\t\tduration: 2000\n                    \t\t\t})\n                    \t\t}\n                    \t}\n                    })\n                    \n            \t\t// this.sendMsg(msg,'voice');\n            \t}else{\n            \t\tconsole.log('取消发送录音');\n            \t}\n            \tthis.willStop = false;\n            },\n            \n            // 打开抽屉\n            openDrawer(){\n            \tthis.popupLayerClass = 'showLayer';\n            },\n            // 隐藏抽屉\n            hideDrawer(){\n            \tthis.popupLayerClass = '';\n            \tsetTimeout(()=>{\n            \t\tthis.hideMore = true;\n            \t\tthis.hideEmoji = true;\n            \t},150);\n            },\n            discard(){\n            \treturn;\n            }\n    \t}\n    }\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatRoom.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatRoom.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591149991847\n      var cssReload = require(\"D:/soft/HBuilderX.2.4.2.20191115.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}