{"version":3,"sources":["webpack:///E:/yisheng/trunk/main.js","webpack:///E:/yisheng/trunk/pages/index/auth.vue?db63","webpack:///E:/yisheng/trunk/pages/index/auth.vue?b886","webpack:///E:/yisheng/trunk/pages/index/auth.vue?1e20","webpack:///E:/yisheng/trunk/pages/index/auth.vue?32ba","webpack:///E:/yisheng/trunk/pages/index/auth.vue","webpack:///E:/yisheng/trunk/pages/index/auth.vue?127e","webpack:///E:/yisheng/trunk/pages/index/auth.vue?da3e"],"names":["createPage","Page","data","formData","login","testCode","onLoad","option","getTestCode","type","_self","uni","checkSession","success","console","log","wxlogin","fail","methods","clickMask","e","provider","loginRes","obj","code","api","getUnionid","then","res","session_key","setStorageSync","openid","unionid","bingPhone","sk","getStorageSync","getPhone","sessionKey","iv","detail","encryptedData","status","timestamp","Date","parse","date","util","formatTimestamp","split","reverse","join","week","getDay","phoneNumber","createUser","showHud","userRes","showToast","title","icon","duration","tips","message","getTempAccount","aes","sessionId","getUserById","id","userObj","userId","findUserById","followCommunityId","length","emchatLogin","reLaunch","url","navigateTo","getphonenumber","clickReport","bought","clickHealth","userstatisticsInfo","getAccount","communityId","getApp","globalData","scene","getAccountInfo","accountRes","bnUserInfo","removeStorageSync","wxUserInfo","phone","findUser","avatarPath","onPhoneLogin","getUserList","errMsg","$conn","target","showModal","content","confirm","openSetting","openRes","authSetting","cancel"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC0M;AAC1M,gBAAgB,kNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAuxB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8E1yB;AACG,wF,8FA/EJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAIe,EACbC,IADa,kBACN,CACN,OAAO,EACNC,QAAQ,EAAE,EADJ,EAENC,KAAK,EAAC,CAFA,EAGNC,QAAQ,EAAC,GAHH,EAAP,CAKA,CAPY,EAQbC,MARa,kBAQNC,MARM,EAQE,CACd,KAAKC,WAAL,GACS,IAAGD,MAAM,CAACE,IAAV,EAAe,CACX,KAAKL,KAAL,GAAaG,MAAM,CAACE,IAApB,CA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","file":"pages/index/auth.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/auth.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./auth.vue?vue&type=template&id=731bdbfd&scoped=true&\"\nvar renderjs\nimport script from \"./auth.vue?vue&type=script&lang=js&\"\nexport * from \"./auth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"731bdbfd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/index/auth.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=template&id=731bdbfd&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport api from '../../common/api.js';\n    import util from '../../common/util.js'\n\texport default{\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tformData: {},\n\t\t\t\tlogin:0,\n\t\t\t\ttestCode:'1'\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tthis.getTestCode()\n            if(option.type){\n                this.login = option.type\n            }\n            \n            var _self = this\n            uni.checkSession({\n                success() {\n                    // session_key 未过期，并且在本生命周期一直有效\n                    console.log(\"未过期\");\n                    _self.wxlogin('')\n                },\n                fail() {\n                    console.log(\"过期\");\n                    _self.wxlogin('')\n                }\n            })\n            \n\t\t},\n\t\tmethods: {\n            clickMask:function(){\n                this.login = 0\n            },\n            wxlogin:function(e){\n                var _self = this\n                uni.login({\n                    provider: 'weixin',\n                    success: function(loginRes) {\n                        console.log(loginRes)\n                        const obj = {\n                            code: loginRes.code\n                        }\n                        api.getUnionid({\n                            data: obj\n                        }).then(res => {\n                            console.log(res)\n                            console.log('sk:' + res.data.session_key)\n                            uni.setStorageSync('sk', res.data.session_key);\n                            uni.setStorageSync('openid', res.data.openid);\n                            uni.setStorageSync('unionid', res.data.unionid);\n                            if(e != ''){\n                                this.bingPhone(e)\n                            }\n                            \n                        })\n                    }\n                });\n            },\n            bingPhone:function(e){\n                var sk = uni.getStorageSync('sk');\n                if(sk){\n                    api.getPhone({\n                        data:{\n                            sessionKey:sk,\n                            iv:e.detail.iv,\n                            encryptedData:e.detail.encryptedData\n                        }\n                    }).then(res=>{\n                        console.log(res)\n                        if(res.status == 'OK'){\n                            var timestamp = Date.parse(new Date());\n                            var date = util.formatTimestamp(timestamp,'yyMMdd')\n                            date = date.split(\"\").reverse().join(\"\")\n                            console.log(date)\n                            var week = new Date().getDay(); \n                            console.log(week)\n                            \n                            var unionid = uni.getStorageSync('unionid');\n                            var obj = {\n                                'verifycode': date - week,\n                                'phone': res.data.phoneNumber,\n                                'unionid':unionid\n                            }\n                            api.createUser({\n                                data: obj,\n                                showHud:true\n                            }).then(userRes => {\n                                console.log('userRes:')\n                                console.log(userRes)\n                                if (userRes.status == \"OK\") {\n                                    uni.showToast({\n                                        title: '绑定成功',\n                                        icon: \"success\",\n                                        duration: 2000\n                                    })\n                                }else{\n                                    this.tips = userRes.message\n                                    return\n                                }\n                                const sessionKey = uni.getStorageSync('sessionId');\n                                if(!sessionKey){\n                                    api.getTempAccount({\n                                        data: {\n                                            code: unionid\n                                        }\n                                    }).then(aes => {\n                                        console.log(aes)\n                                        if (aes.status == 'OK') {\n                                            uni.setStorageSync('sessionId', aes.data.sessionId)\n                                            this.getUserById(userRes.data.id)\n                                        }\n                                    })\n                                }else{\n                                    this.getUserById(userRes.data.id)\n                                }\n                                \n                            })\n                        }else{\n                            uni.showToast({\n                                title:res.message\n                            })\n                        }\n                        \n                        \n                    })\n                }else{\n                    this.wxlogin(e)\n                }\n            },\n            getUserById:function(id){\n                const userObj = {\n                    userId: id,\n                }\n                api.findUserById({\n                    data:userObj\n                }).then(res => {\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        uni.setStorageSync('userinfo', res.data)\n                        if( res.data && res.data.followCommunityId && res.data.followCommunityId.length > 3 ){\n                            this.emchatLogin(id)\n                            \n                            uni.reLaunch({\n                                url:'index?communityid='+res.data.followCommunityId\n                            })\n                            // var pages = getCurrentPages();\n                            // var prevPage = pages[pages.length - 2];\n                            // prevPage.searchCommunityid = res.data.followCommunityId\n                        }else{      //跳转加入服务站\n                            uni.navigateTo({\n                            \turl: '/pages/serverStation/main'\n                            })\n                        }\n                    }\n                })\n            },\n            getphonenumber:function(e){\n                console.log(\"phone:\",e)\n                \n                this.bingPhone(e)\n                \n            },\n            clickReport:function(type,title,bought){\n\t\t\t\t// this.login = true;\n            },\n            clickHealth:function(){\n                if(this.login == 0){\n                    this.login = 1;\n                }\n            },\n\t\t\tuserstatisticsInfo() {\n\t\t\t\t// this.login = true;\n\t\t\t},\n\t\t\tnavigateTo(url) {\n\t\t\t\t// this.login = true;\n\t\t\t},\n            getAccount: function(res) {\n                const sessionKey = uni.getStorageSync('sk');\n          \n                const data = {\n                    encryptedData: res.encryptedData,\n                    iv: res.iv,\n                    sessionKey: sessionKey,\n            \t\tcommunityId:getApp().globalData.scene?getApp().globalData.scene:''\n                }\n                var _self = this\n                api.getAccountInfo({\n                    data: data\n                }).then(accountRes => {\n                    console.log(\"accountRes:\")\n                    console.log(accountRes)\n                    if (!accountRes.data.bnUserInfo) {\n                        uni.removeStorageSync('sk');\n                        return;\n                    }\n                    if(accountRes.data.wxUserInfo && accountRes.data.wxUserInfo.unionid ){\n                        uni.setStorageSync('unionid', accountRes.data.wxUserInfo.unionid);\n                    }\n                    if(accountRes.data.bnUserInfo && accountRes.data.bnUserInfo.sessionId ){\n                        const sessionId = accountRes.data.bnUserInfo.sessionId\n                        uni.setStorageSync('sessionId', sessionId)\n                    }\n                    // this.login = 2\n                    if (accountRes.data.bnUserInfo.phone == \"\" || accountRes.data.bnUserInfo.phone == null) { //未绑定\n                        this.login = 2\n                    }else{\n                        getApp().findUser(accountRes.data.bnUserInfo.id,accountRes.data.bnUserInfo.avatarPath);\n                        // this.findUser(accountRes.data.bnUserInfo.id,accountRes.data.bnUserInfo.avatarPath);\n                    }\n                })\n            },\n\t\t\tgetTestCode: function() {\n                api.getTestCode().then(res => {\n                    console.log(res)\n                    if (res.data == '' || res.data == null) {\n                        this.testCode = ''\n                    } else {\n                        this.testCode = res.data\n                    }\n                })\n            },\n            onPhoneLogin: function(){\n                uni.reLaunch({\n                    url: '../index/login?from=phone&testCode=' + this.testCode\n                });\n            },\n            getUserList: function(res) {\n                console.log(res)\n                \n                if (res.detail.errMsg == \"getUserInfo:ok\") {\n                    //授权\n                    console.log(this.$conn) \n                    if (res.iv) {\n                        this.getAccount(res)\n                       \n                        // this.getAccount(res)\n                    } else {\n                        this.getAccount(res.target)\n                        // this.getAccount(res.target)\n                    }\n                \n                } else {\n                    //拒绝授权\n                    uni.showModal({\n                        title: '提示',\n                        content: '允许授权后放可使用',\n                        success: function(res) {\n                            if (res.confirm) {\n                                uni.openSetting({\n                                    success(openRes) {\n                                        console.log(res.authSetting)\n                                    }\n                                });\n                            } else if (res.cancel) {\n                \n                            }\n                        }\n                    });\n                \n                }\n            }\n\t\t}\n\t}\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591149986142\n      var cssReload = require(\"D:/soft/HBuilderX.2.4.2.20191115.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}