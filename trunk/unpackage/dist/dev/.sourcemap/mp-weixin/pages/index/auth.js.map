{"version":3,"sources":["webpack:///E:/yisheng/trunk/main.js","webpack:///E:/yisheng/trunk/pages/index/auth.vue?db63","webpack:///E:/yisheng/trunk/pages/index/auth.vue?b886","webpack:///E:/yisheng/trunk/pages/index/auth.vue?1e20","webpack:///E:/yisheng/trunk/pages/index/auth.vue?32ba","webpack:///E:/yisheng/trunk/pages/index/auth.vue","webpack:///E:/yisheng/trunk/pages/index/auth.vue?127e"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","formData","login","testCode","onLoad","option","getTestCode","type","uni","checkSession","success","console","log","wxlogin","fail","methods","clickMask","e","provider","loginRes","obj","code","api","getUnionid","then","res","session_key","setStorageSync","openid","unionid","bingPhone","sk","getStorageSync","getPhone","sessionKey","iv","detail","encryptedData","status","timestamp","Date","parse","date","util","formatTimestamp","split","reverse","join","week","getDay","phoneNumber","createUser","showHud","userRes","showToast","title","icon","duration","getUserById","id","getTempAccount","aes","sessionId","tips","message","avatarPath","userObj","userId","findUserById","getApp","globalData","pageUrl","search","qu","index","key","param","getCurrentRoute","navigateTo","url","followCommunityId","length","emchatLogin","reLaunch","getphonenumber","clickReport","bought","clickHealth","userstatisticsInfo","getAccount","communityId","scene","getAccountInfo","accountRes","bnUserInfo","wxUserInfo","phone","removeStorageSync","onPhoneLogin","userid","pwd","substring","$conn","open","apiUrl","$im","config","apiURL","user","grant_type","appKey","appkey","getUserList","errMsg","target","showModal","content","confirm","openSetting","openRes","authSetting","cancel"],"mappings":"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","file":"pages/index/auth.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/auth.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./auth.vue?vue&type=template&id=731bdbfd&scoped=true&\"\nvar renderjs\nimport script from \"./auth.vue?vue&type=script&lang=js&\"\nexport * from \"./auth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"731bdbfd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/index/auth.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=template&id=731bdbfd&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport api from '../../common/api.js';\n    import util from '../../common/util.js'\n\texport default{\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tformData: {},\n\t\t\t\tlogin:0,\n\t\t\t\ttestCode:''\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tthis.getTestCode()\n            if(option.type){\n                this.login = option.type\n            }\n            \n            var _self = this\n            uni.checkSession({\n                success() {\n                    // session_key 未过期，并且在本生命周期一直有效\n                    console.log(\"未过期\");\n                    _self.wxlogin('')\n                },\n                fail() {\n                    console.log(\"过期\");\n                    _self.wxlogin('')\n                }\n            })\n            \n\t\t},\n\t\tmethods: {\n            clickMask:function(){\n                this.login = 0\n            },\n            wxlogin:function(e){\n                var _self = this\n                uni.login({\n                    provider: 'weixin',\n                    success: function(loginRes) {\n                        console.log(loginRes)\n                        const obj = {\n                            code: loginRes.code\n                        }\n                        api.getUnionid({\n                            data: obj\n                        }).then(res => {\n                            console.log(res)\n                            console.log('sk:' + res.data.session_key)\n                            uni.setStorageSync('sk', res.data.session_key);\n                            uni.setStorageSync('openid', res.data.openid);\n                            uni.setStorageSync('unionid', res.data.unionid);\n                            if(e != ''){\n                                this.bingPhone(e)\n                            }\n                            \n                        })\n                    }\n                });\n            },\n            bingPhone:function(e){\n                var sk = uni.getStorageSync('sk');\n                if(sk){\n                    api.getPhone({\n                        data:{\n                            sessionKey:sk,\n                            iv:e.detail.iv,\n                            encryptedData:e.detail.encryptedData\n                        }\n                    }).then(res=>{\n                        console.log(res)\n                        if(res.status == 'OK'){\n                            var timestamp = Date.parse(new Date());\n                            var date = util.formatTimestamp(timestamp,'yyMMdd')\n                            date = date.split(\"\").reverse().join(\"\")\n                            console.log(date)\n                            var week = new Date().getDay(); \n                            console.log(week)\n                            \n                            var unionid = uni.getStorageSync('unionid');\n                            var obj = {\n                                'verifycode': date - week,\n                                'phone': res.data.phoneNumber,\n                                'unionid':unionid\n                            }\n                            api.createUser({\n                                data: obj,\n                                showHud:true\n                            }).then(userRes => {\n                                console.log('userRes:')\n                                console.log(userRes)\n                                if (userRes.status == \"OK\") {\n                                    uni.showToast({\n                                        title: '绑定成功',\n                                        icon: \"success\",\n                                        duration: 2000\n                                    })\n                                }else{\n                                    this.tips = userRes.message\n                                    return\n                                }\n                                const sessionKey = uni.getStorageSync('sessionId');\n                                if(!sessionKey){\n                                    api.getTempAccount({\n                                        data: {\n                                            code: unionid\n                                        }\n                                    }).then(aes => {\n                                        console.log(\"getTempAccount:\",aes)\n                                        if (aes.status == 'OK') {\n                                            uni.setStorageSync('sessionId', aes.data.sessionId)\n                                            this.getUserById(userRes.data.id)\n                                        }\n                                    })\n                                }else{\n                                    this.getUserById(userRes.data.id)\n                                }\n                                \n                            })\n                        }else{\n                            uni.showToast({\n                                title:res.message\n                            })\n                        }\n                        \n                        \n                    })\n                }else{\n                    this.wxlogin(e)\n                }\n            },\n            getUserById:function(id,avatarPath){\n                const userObj = {\n                    userId: id,\n                }\n                api.findUserById({\n                    data:userObj\n                }).then(res => {\n                    console.log(res)\n                    if(res.status == 'OK'){\n                        uni.setStorageSync('userinfo', res.data)\n                        \n                        if(getApp().globalData.pageUrl && getApp().globalData.pageUrl.search('index/index') == -1){\n                            //是否有指定路径\n                            console.log(getApp().globalData.pageUrl)\n                            var qu = ''\n                            var index = 0\n                            for(var key in getApp().globalData.param){\n                            \tconsole.log(key+\":\"+getApp().globalData.param[key]);//json对象中属性的名字：对象中属性的值\n                                if(index==0){\n                                    qu = qu + '?' +key + '=' + getApp().globalData.param[key]\n                                }else{\n                                    qu = qu +'&' + key + '=' + getApp().globalData.param[key]\n                                }\n                                \n                                index++\n                            }\n                            console.log(getApp().getCurrentRoute())\n                            if(getApp().getCurrentRoute() != getApp().globalData.pageUrl){\n                                console.log('好纠结近近景近景',getApp().globalData.pageUrl + qu + \"&backHome=1\")\n                                uni.navigateTo({\n                                    url:'/'+getApp().globalData.pageUrl + qu + \"&backHome=1\"\n                                });\n                            }\n                        }else{\n                            if( res.data && res.data.followCommunityId && res.data.followCommunityId.length > 3 ){\n                                this.emchatLogin(id)\n                                \n                                uni.reLaunch({\n                                    url:'index?communityid='+res.data.followCommunityId\n                                })\n                                \n                            }else{      //跳转加入服务站\n                                this.login = 0\n                                uni.navigateTo({\n                                \turl: '/pages/serverStation/main'\n                                })\n                            }\n                        }\n                        \n                    }\n                })\n            },\n            getphonenumber:function(e){\n                console.log(\"phone:\",e)\n                \n                this.bingPhone(e)\n                \n            },\n            clickReport:function(type,title,bought){\n\t\t\t\t// this.login = true;\n            },\n            clickHealth:function(){\n                if(this.login == 0){\n                    this.login = 1;\n                }\n            },\n\t\t\tuserstatisticsInfo() {\n\t\t\t\t// this.login = true;\n\t\t\t},\n\t\t\tnavigateTo(url) {\n\t\t\t\t// this.login = true;\n\t\t\t},\n            getAccount: function(res) {\n                const sessionKey = uni.getStorageSync('sk');\n                // if(!sessionKey){\n                //     this.wxlogin('')\n                //     return\n                // }\n                var communityId = ''\n                \n                if(getApp().globalData.param['communityId']){\n                    \n                    communityId = getApp().globalData.param['communityId']\n                }else if(getApp().globalData.scene){\n                    communityId = getApp().globalData.scene\n                }\n                console.log(\"communityId:\",communityId)\n                const data = {\n                    encryptedData: res.encryptedData,\n                    iv: res.iv,\n                    sessionKey: sessionKey,\n            \t\tcommunityId:communityId\n                }\n                var _self = this\n                api.getAccountInfo({\n                    data: data\n                }).then(accountRes => {\n                    console.log(\"accountRes:\")\n                    console.log(accountRes)\n                    if (!accountRes.data.bnUserInfo) {\n                        uni.removeStorageSync('sk');\n                        return;\n                    }\n                    if(accountRes.data.wxUserInfo && accountRes.data.wxUserInfo.unionid ){\n                        uni.setStorageSync('unionid', accountRes.data.wxUserInfo.unionid);\n                    }\n                    if(accountRes.data.bnUserInfo && accountRes.data.bnUserInfo.sessionId ){\n                        const sessionId = accountRes.data.bnUserInfo.sessionId\n                        uni.setStorageSync('sessionId', sessionId)\n                    }\n                    // this.login = 2\n                    if (accountRes.data.bnUserInfo.phone == \"\" || accountRes.data.bnUserInfo.phone == null) { //未绑定\n                        this.login = 2\n                    }else{\n                        this.getUserById(accountRes.data.bnUserInfo.id,accountRes.data.bnUserInfo.avatarPath);\n                        // this.findUser(accountRes.data.bnUserInfo.id,accountRes.data.bnUserInfo.avatarPath);\n                    }\n                })\n            },\n\t\t\tgetTestCode: function() {\n                api.getTestCode().then(res => {\n                    console.log(res)\n                    if (res.data == '' || res.data == null) {\n                        this.testCode = ''\n                    } else {\n                        this.testCode = res.data\n                        getApp().globalData.testCode = res.data\n                    }\n                })\n            },\n            onPhoneLogin: function(){\n                uni.reLaunch({\n                    url: '../index/login?from=phone&testCode=' + this.testCode\n                });\n            },\n            emchatLogin:function(userid){\n                \n                var pwd = userid.substring(1,userid.length-1)\n                this.$conn.open({\n                \tapiUrl: this.$im.config.apiURL,\n                \tuser: userid,\n                \tpwd: pwd,\n                \tgrant_type: \"password\",\n                \tappKey: this.$im.config.appkey\n                });\n            },\n            getUserList: function(res) {\n                console.log(res)\n                \n                if (res.detail.errMsg == \"getUserInfo:ok\") {\n                    //授权\n                    console.log(this.$conn) \n                    if (res.iv) {\n                        this.getAccount(res)\n                       \n                        // this.getAccount(res)\n                    } else {\n                        this.getAccount(res.target)\n                        // this.getAccount(res.target)\n                    }\n                \n                } else {\n                    //拒绝授权\n                    uni.showModal({\n                        title: '提示',\n                        content: '允许授权后放可使用',\n                        success: function(res) {\n                            if (res.confirm) {\n                                uni.openSetting({\n                                    success(openRes) {\n                                        console.log(res.authSetting)\n                                    }\n                                });\n                            } else if (res.cancel) {\n                \n                            }\n                        }\n                    });\n                \n                }\n            }\n\t\t}\n\t}\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./auth.vue?vue&type=style&index=0&id=731bdbfd&scoped=true&lang=scss&\""],"sourceRoot":""}