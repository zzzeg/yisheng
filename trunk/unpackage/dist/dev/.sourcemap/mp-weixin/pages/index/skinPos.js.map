{"version":3,"sources":["uni-app:///main.js","webpack:///E:/yisheng/trunk/pages/index/skinPos.vue?c265","webpack:///E:/yisheng/trunk/pages/index/skinPos.vue?df5c","webpack:///E:/yisheng/trunk/pages/index/skinPos.vue?2faa","webpack:///E:/yisheng/trunk/pages/index/skinPos.vue?95e3","uni-app:///pages/index/skinPos.vue","webpack:///E:/yisheng/trunk/pages/index/skinPos.vue?f2ed"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","skinReport","urgent","data","item","index","m0","getWidth","$orig","__get_orig","l1","orders","order","g0","reduce","total","currentValue","num","m1","dateFormat","payTime","$mp","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","clickProductSelect","showRadar","showFace","clickExpand","clickItem","level","base","name","value","parse","ret","JSON","str","computed","watch","r","status","forEach","orderId","id","res","destroyed"],"mappings":"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","file":"pages/index/skinPos.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/skinPos.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./skinPos.vue?vue&type=template&id=4f0041d2&scoped=true&\"\nvar renderjs\nimport script from \"./skinPos.vue?vue&type=script&lang=js&\"\nexport * from \"./skinPos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f0041d2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yisheng/trunk/pages/index/skinPos.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./skinPos.vue?vue&type=template&id=4f0041d2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.skinReport.urgent.data, function(item, index) {\n    var m0 = _vm.getWidth(item)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.orders, function(order, index) {\n    var g0 = order.item.reduce(function(total, currentValue) {\n      return total + currentValue.num\n    }, 0)\n    var m1 = _vm.dateFormat(order.payTime, \"YYYY-MM-DD HH:mm\")\n    return {\n      $orig: _vm.__get_orig(order),\n      g0: g0,\n      m1: m1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./skinPos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./skinPos.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"content\">\r\n    <scroll-view v-if=\"skinReport\"  scroll-y class=\"scroll-content\"  >\r\n      <div class=\"time\">\r\n        <div class=\"icon\"></div>\n        {{skinReport.createTime ? skinReport.createTime : ''}}\r\n      </div>\r\n      <div class=\"total-score\">\r\n        {{skinReport.score ? skinReport.score : ''}}分\r\n        <div class=\"picture-btn\" @click=\"showFace\">查看原图</div>\r\n      </div>\r\n      <div class=\"total-score-title\">皮肤健康指数</div>\r\n      <div class=\"chart-container\">\r\n        <!-- <canvas id=\"container\"></canvas> -->\n         <canvas canvas-id=\"canvasRadar\" id=\"canvasRadar\" class=\"charts\"></canvas>\r\n      </div>\r\n      <div class=\"result\">\r\n        <div class=\"result-item\" v-for=\"(item, index) in skinReport.other\" :key=\"index\">\r\n          <div class=\"result-text\">{{item.value}}</div>\r\n          <div class=\"result-title\">{{item.name}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"exigency-container\" v-if=\"skinReport.urgent\">\r\n        <div class=\"exigency-title\">急需解决</div>\r\n        <div class=\"list\">\r\n          <div class=\"item\" :class=\"expand ? 'expand' : ''\">\r\n            <div class=\"summary\" @click=\"clickExpand\">\r\n              <div class=\"summary-title\">{{skinReport.urgent.name}}</div>\r\n              <div class=\"summary-score\" v-if=\"skinReport.urgent.score || skinReport.urgent.score === 0\">{{skinReport.urgent.score}}<span>分</span></div>\r\n              <div class=\"summary-level\" :style=\"{color: colors[skinReport.urgent.level] ? 'white' : '#446F67',background: colors[skinReport.urgent.level] ? colors[skinReport.urgent.level] : '#E3F1EF'}\">{{skinReport.urgent.level}}</div>\r\n              <div class=\"summary-icon\"></div>\r\n            </div>\r\n            <div class=\"expand-container\" v-if=\"expand\">\r\n              <div class=\"chart\" v-if=\"skinReport && skinReport.urgent && skinReport.urgent.data && skinReport.urgent.data.length > 0\">\r\n                <div class=\"chart-title\">\n                  <div class=\"chart-title-item\" v-for=\"(item, index) in skinReport.urgent.data\" :key=\"index\">{{item.name}}</div>\r\n                </div>\r\n                <div class=\"chart-content\">\r\n                  <div class=\"chart-grid\">\r\n                    <div class=\"chart-grid-item\" v-for=\"(item, index) in skinReport.urgent.data\" :key=\"index\">\r\n                      <div class=\"chart-bar\" :style=\"{width: getWidth(item)}\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"chart-label-list\">\r\n                    <div class=\"chart-label-item\">轻度</div>\r\n                    <div class=\"chart-label-item\">中度</div>\r\n                    <div class=\"chart-label-item\">重度</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"desc\">{{skinReport.urgent.tips}}</div>\n\r\n              <div class=\"products\" v-if=\"products.length > 0\">\r\n                <div class=\"products-title\">推荐产品</div>\r\n                <div class=\"product\" v-for=\"(product, index) in products\" :key=\"index\" @click=\"clickProductDetail(product)\">\r\n                  <div class=\"product-icon\" :style=\"{backgroundImage: 'url('+product.icon+')'}\"></div>\r\n                  <div class=\"product-introduce\">\r\n                    <div class=\"product-name\">{{product.name}}</div>\r\n                    <div class=\"product-desc\">{{product.description}}</div>\r\n                    <div class=\"product-price\">￥{{product.price}}</div>\r\n                    <div class=\"product-btn\" @click.stop=\"clickProductSelect\">点击购买</div>\n                    <!-- $router.push({path: `/productSelect?instanceId=${$route.query.id}&productUrl=productDetail2&type=${skinReport.urgent.type}&productId=${product.id}`}) -->\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <view v-if=\"orders.length > 0\">\r\n                  <div class=\"order\" v-for=\"(order, index) in orders\" :key=\"index\" @click=\"orderDetail\">\n                      <!-- $router.push({path: `/order/orderDetail?id=${order.id}`}) -->\r\n                    <div class=\"order-title\">共{{order.item.reduce((total, currentValue) => total + currentValue.num, 0)}}件商品<span>￥{{order.actualPrice}}</span></div>\r\n                    <div class=\"order-no\">{{order.orderNum}}</div>\r\n                    <div class=\"order-payWay\">{{order.payType === 'WECHAT' ? '微信支付' : '现金支付'}}</div>\r\n                    <div class=\"order-time\">{{dateFormat(order.payTime, 'YYYY-MM-DD HH:mm')}}</div>\r\n                  </div>\r\n              </view>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"list-block\">\r\n        <div class=\"block-title\">单项分析</div>\r\n        <div class=\"list\">\r\n          <view class=\"item\" v-for=\"(item, index) in skinReport.item\" :key=\"index\" @click=\"clickItem(index)\">\r\n            <div class=\"item-name\">{{item.name}}</div>\r\n            <image class=\"item-icon\" mode=\"aspectFit\" :src=\"types[item.type]\"></image>\r\n            <div class=\"item-level\" :style=\"{color: colors[item.level] ? 'white' : '#446F67',background: colors[item.level] ? colors[item.level] : '#E3F1EF'}\">{{item.level}}</div>\r\n          </view>\r\n        </div>\r\n      </div>\r\n    </scroll-view>\r\n    \n    <div v-transfer-dom>\r\n      <!-- <previewer :list=\"imgList\" ref=\"previewer\" :options=\"{}\"></previewer> -->\r\n    </div>\r\n    <transition>\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script>\r\n\nimport api from '../../common/api.js';\nimport util from '../../common/util.js'\nimport uCharts from '@/components/u-charts/u-charts.js'\nvar _self;\nvar canvaRadar=null;\r\nexport default {\r\n  \r\n  data () {\r\n    return {\r\n      chartData: [],\r\n      imgList: [],\r\n      expand: false,\r\n      colors: {\r\n        '重度': '#D35671',\r\n        '中度': '#E8AC60',\r\n        '轻度': '#46B39F'\r\n      },\r\n      types: {\r\n        'spot': '../../static/image/img_pfjcbg_bd@2x.png',\r\n        'pore': '../../static/image/img_pfjcbg_mk@2x.png',\r\n        'pockmark': '../../static/image/img_pfjcbg_dd@2x.png',\r\n        'wrinkle': '../../static/image/img_pfjcbg_zw@2x.png',\r\n        'acne': '../../static/image/img_pfjcbg_cc@2x.png',\r\n        'dark_circle': '../../static/image/img_pfjcbg_hyq@2x.png',\r\n        'chloasma': '../../static/image/img_pfjcbg_zsb@2x.png',\r\n        'roughness': '../../static/image/img_pfjcbg_ccd@2x.png',\r\n        'texture': '../../static/image/img_pfjcbg_wl@2x.png',\r\n        'blackhead': '../../static/image/img_pfjcbg_ht@2x.png',\r\n        'moisture': '../../static/image/img_pfjcbg_sf@2x.png',\r\n        'sensitive': '../../static/image/img_pfjcbg_mgd@2x.png',\r\n        'skin_type': '../../static/image/img_pfjcbg_fz@2x.png'\r\n      },\r\n      products: [],\r\n      orders: [],\n      skinReport:{urgent:{data:null}},\n      \n      faceId:null,\n      faceUrl:null,\n      communityId:'',\n      cWidth:'',\n      cHeight:'',\n      pixelRatio:1\r\n    }\r\n  },\r\n  onLoad (options) {\n        uni.setNavigationBarTitle({\n            title:'皮肤检测分析报告'\n        })\n        console.log(options.sid)\n        \n        this.cWidth=uni.upx2px(750);\n        this.cHeight=uni.upx2px(500);\n        \n        this.faceId = options.sid\r\n\t\tthis.communityId = options.communityId\n        \n        if(options.action == 1){\n            this.expand = true\n        }\r\n\t\t\r\n  \r\n  },\n  onShow() {\n      _self = this\n      var data = {\n          id:this.faceId\n      }\n      api.findFaceById({\n          data:data\n      }).then(res => {\n          console.log(res)\n          if(res.status == 'OK'){\n              this.skinReport = res.data\n              this.skinReport.createTime = util.formatTimestamp(this.skinReport.createTime, 'yyyy-MM-dd hh:mm')\n              \n              let Radar={categories:[],series:[]};\n              Radar.categories = [\"棕色斑\", \"斑点\", \"水分\", \"痘痘\", \"纹理\", \"毛孔\", \"皱纹\", \"黑头\", \"黑眼圈\"]\n              var seriesData = []\n              this.skinReport.top.forEach(item => {\n                  seriesData.push(item.score)\n              })\n              Radar.series = [{name: '皮肤健康指数',data: seriesData}]\n              _self.showRadar(\"canvasRadar\",Radar);\n          }\n     \n      })\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\n    clickProductDetail:function(item){\n        if(item.productType == 'SHIFANG'){\n            // uni.navigateTo({\n            //     url:\"../health-product-detail/health-product-detail?id=\"+item.code+'&productType='+item.productType + '&showNav=false'\n            // })\n            uni.navigateTo({\n                url:'mwwebview?type=1&recordid='+item.code \n            })\n        }else{\n            uni.navigateTo({\n                url:\"../health-product-detail/health-product-detail?id=\"+item.id+'&productType='+item.productType + '&showNav=false&communityId='+this.communityId\n            })\n        }\n    },\r\n    clickProductSelect:function(){\n        \n        var cartList = []\n        var instanceId = ''\n        this.products.forEach(item => {\n            var name = item.productType === 'SHIFANG' ? item.cfName : item.name\n            instanceId = item.recordId\n        \tvar obj = {\n                id:item.id,\n                image:item.icon,\n                attr_val:item.description,\n                title:name,\n                price:item.price,\n                number:1\n            }\n            \n            cartList.push(obj)\n        })\n        console.log(cartList)\n        uni.setStorage({\n            key: 'buylist',\n            data: cartList,\n            success: () => {\n                console.log(cartList)\n                uni.navigateTo({\n                    url: '../pay/confirm/confirm?type=community&instanceId=' + instanceId\n                })\n            }\n        })\n        // uni.setStorageSync('community_cartList',cartList)\n        // uni.navigateTo({\n        // \turl:'../cart/cart?type=community&instanceId=' + instanceId\n        // })\n    },\r\n    showRadar(canvasId,chartData){\n        canvaRadar=new uCharts({\n    \t\t$this:_self,\n    \t\tcanvasId: canvasId,\n    \t\ttype: 'radar',\n    \t\tfontSize:11,\n    \t\tlegend:{show:true},\n    \t\tbackground:'#FFFFFF',\n    \t\tpixelRatio:_self.pixelRatio,\n    \t\tanimation: true,\n    \t\tdataLabel: true,\n            colors:['#148973'],\n    \t\tcategories: chartData.categories,\n    \t\tseries: chartData.series,\n    \t\twidth: _self.cWidth*_self.pixelRatio,\n    \t\theight: _self.cHeight*_self.pixelRatio,\n    \t\textra: {\n    \t\t\tradar: {\n    \t\t\t\tmax: 100,//雷达数值的最大值\n                    gridColor:'#91BDB5',\n                    opacity:0.5,\n                    labelColor:'#148973'\n    \t\t\t}\n    \t\t}\n    \t});\n    },\t\t\t\t\r\n    showFace () {\n        if(!this.faceUrl){\n            uni.downloadFile({\n                url: this.skinReport.faceImage , //仅为示例，并非真实的资源\n                success: (fileres) => {\n                    if (fileres.statusCode === 200) {\n                        this.faceUrl = fileres.tempFilePath\n                        var\turls = [fileres.tempFilePath];\n                        uni.previewImage({\n                        \turls,\n                        })\n                    }\n                }\n            });\n        }else{\r\n\t\t\tvar\turls = [this.faceUrl];\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls,\r\n\t\t\t})\r\n\t\t}\r\n    },\n    clickExpand:function(){\n        this.expand = !this.expand\n    },\n    clickItem:function(index){\n        console.log(this.skinReport.item[index].type)\n        \n        uni.navigateTo({\n            url:\"skinDetail/skinDetail?id=\"+this.faceId + \"&skinType=\"+this.skinReport.item[index].type + '&title=' + this.skinReport.item[index].name+'&communityId='+this.communityId\n        })\n        // $router.push({path: `/home/skinPos/skinDetail?id=${$route.query.id}&skinType=${item.type}`})\n    },\r\n    getWidth (item) {\r\n      let base = ''\r\n      switch (item.level) {\r\n        case '轻度':\r\n          base = 0\r\n          break\r\n        case '中度':\r\n          base = 33.33\r\n          break\r\n        case '重度':\r\n          base = 66.66\r\n          break\r\n      }\r\n      let value = (100 - (item.value || 0))\r\n      if (item.name === '痤疮数量' || item.name === '毛孔数量' || item.name === '黑头数量') {\r\n        if (item.value === '0') {\r\n          value = 0\r\n        } else {\r\n          value = 50\r\n        }\r\n      }\r\n      let score = base + (value / 100 * 33.33)\r\n      return `${score}%`\r\n    },\r\n    parse (str, initValue) {\r\n      let ret = initValue\r\n      try {\r\n        ret = JSON.parse(str)\r\n      } catch (e) {}\r\n      return ret\r\n    }\r\n  },\r\n  computed: {\r\n    // ...mapState([\r\n    //   'skinReport'\r\n    // ])\r\n  },\r\n  watch: {\r\n    skinReport () {\r\n      if (this.skinReport.urgent) {\r\n        api.faceFindPuductByIdAndType({data:{\r\n          id: this.faceId,\r\n          type: this.skinReport.urgent.type\r\n        }}).then(r => {\n            console.log(r.data)\r\n          if (r.status === 'OK' && r.data) {\n            this.products = []\r\n            r.data.forEach(item => {\n                if(item.icon && JSON.parse(item.icon).length > 0){\n                    item.icon = JSON.parse(item.icon)[0].url\n                }\n               \n                item.price = (item.price/100).toFixed(2)\n                \r\n              if (item.orderId) {\r\n                api.constitutionOrderFindById({\r\n                  id: item.orderId\r\n                }).then(res => {\r\n                  if (res.status === 'OK') {\r\n                    if (res.data) {\n                        this.orders.push(res.data)\n                        this.orders.forEach(item => {\n                            item.actualPrice = (item.actualPrice / 100).toFixed(2)\n                        })\n                    }\r\n                  }\r\n                })\r\n              } else {\r\n                this.products.push(item)\r\n              }\r\n            })\n            \r\n          }\r\n        })\r\n      }\r\n\r\n\r\n      \r\n    }\r\n  },\r\n  destroyed () {\r\n    // this.UPDATE_SKIN(null)\n    \n    \r\n  },\r\n  components: {\r\n    // Previewer\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$green: #0E5745;\r\n$white: #FFF;\r\n.content{\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  width: 100%;\r\n  display: flex;\r\n  left: 0;\r\n  top: 0;\r\n  background: white;\r\n  flex-direction: column;\r\n  .scroll-content{\r\n    // @include scrollPage;\r\n    overflow:auto;\r\n    height: 100%;\r\n    bottom: 0;\r\n    background: white;\r\n    .time{\r\n      text-align: center;\r\n      line-height: 14px;\r\n      font-size: 10px;\r\n      color: #868E9D;\r\n      margin-top: 5px;\r\n      .icon{\r\n        height: 9px;\r\n        width: 9px;\r\n        display: inline-block;\r\n        margin-right: 3px;\r\n      }\r\n    }\r\n    .total-score{\r\n      margin-top: 20px;\r\n      color: #148973;\r\n      font-size: 23px;\r\n      line-height: 32px;\r\n      position: relative;\r\n      text-align: center;\r\n      .picture-btn{\r\n        position: absolute;\r\n        width: 172upx;\r\n        height: 54upx;\r\n        border: 1px solid #03BE90;\r\n        border-radius: 12px;\r\n        padding-left: 28px;\r\n        color: #03BE90;\r\n        font-size: 12px;\r\n        line-height: 24px;\r\n        top: 4px;\r\n        text-align: left;\r\n        right: 15px;\r\n        background: url(../../static/image/icon_pfjcbg_ckyt@2x.png) no-repeat 10px center / 14px 14px;\r\n      }\r\n    }\r\n    .total-score-title{\r\n      margin: 4px;\r\n      color: #2A3441;\r\n      font-size: 16px;\r\n      line-height: 22px;\r\n      text-align: center;\r\n    }\r\n    .chart-container{\r\n      width: 100%;\r\n      padding-top: 80%;\r\n      position: relative;\r\n      canvas{\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        top: 0;\r\n        left: 0;\r\n      }\r\n    }\r\n    .result{\r\n      background:rgba(255,255,255,1);\r\n      box-shadow:0px 5px 15px 0px rgba(134,142,157,0.5);\r\n      border-radius:15px;\r\n      display: flex;\r\n      height: 85px;\r\n      margin: 0 15px;\r\n      .result-item{\r\n        flex: 1;\r\n        font-size: 16px;\r\n        line-height: 22px;\r\n        text-align: center;\r\n        position: relative;\r\n        +.result-item::before{\r\n          content: '';\r\n          height: 30px;\r\n          width: 1px;\r\n          position: absolute;\r\n          top: 28px;\r\n          left: 0;\r\n          background: #91BDB5;\r\n        }\r\n        .result-text{\r\n          margin-top: 17px;\r\n          color: #148973;\r\n        }\r\n        .result-title{\r\n          margin-top: 4px;\r\n          color: #434E5E;\r\n        }\r\n      }\r\n    }\r\n    .exigency-container{\r\n      margin: 40px 15px;\r\n      .exigency-title{\r\n        color: #16202E;\r\n        font-size: 19px;\r\n        line-height: 26px;\r\n        font-weight: bold;\r\n        padding-left: 24px;\r\n        background: url(../../static/image/img_pfjcbg_jxjj@2x.png) no-repeat 0 center / 24px 24px;\r\n      }\r\n      .list{\r\n        .item{\r\n          margin-top: 10px;\r\n          &.expand{\r\n            .summary{\r\n              border: none;\r\n              .summary-icon{\r\n                background-image: url(../../static/image/icon_xxzk@2x.png);\r\n              }\r\n            }\r\n          }\r\n          .summary{\r\n            display: flex;\r\n            align-items: center;\r\n            height: 50px;\r\n            line-height: 50px;\r\n            color: #434E5E;\r\n            border-bottom: 2px solid #148973;\r\n            .summary-title{\r\n              flex: 1;\r\n              font-size: 16px;\r\n            }\r\n            .summary-score{\r\n              flex: 0 0 auto;\r\n              font-size: 21px;\r\n              font-weight: bold;\r\n              span{\r\n                font-size: 14px;\r\n              }\r\n            }\r\n            .summary-level{\r\n              flex: 0 0 auto;\r\n              width: 36px;\r\n              height: 14px;\r\n              background: #D35671;\r\n              text-align: center;\r\n              border-radius: 7px;\r\n              color: white;\r\n              font-size: 10px;\r\n              line-height: 14px;\r\n              margin: 0 8px 0 4px;\r\n            }\r\n            .summary-icon{\r\n              flex: 0 0 16px;\r\n              height: 16px;\r\n              background: url(../../static/image/icon_xxzk@2x.png) no-repeat center / 100%;\r\n            }\r\n          }\r\n          .expand-container{\r\n            background: #F6F7FA;\r\n            border-radius: 15px;\r\n            padding: 30px 15px 20px;\r\n            .chart{\r\n              display: flex;\r\n              .chart-title{\r\n                flex: 0 0 63px;\r\n                padding-right: 10px;\r\n                text-align: right;\r\n                .chart-title-item{\r\n                  height: 30px;\r\n                  line-height: 30px;\r\n                  color: #434E5E;\r\n                  font-size: 14px;\r\n                  white-space: nowrap;\r\n                }\r\n              }\r\n              .chart-content{\r\n                flex: 1;\r\n                .chart-grid{\r\n                  position: relative;\r\n                  border-left: 1px dashed #91BDB5;\r\n                  border-right: 1px dashed #91BDB5;\r\n                  border-bottom: 1px solid #91BDB5;\r\n                  &::before{\r\n                    content: '';\r\n                    width: 1px;\r\n                    height: 100%;\r\n                    border-left: 1px dashed #91BDB5;\r\n                    position: absolute;\r\n                    left: 33.33%;\r\n                    top: 0;\r\n                  }\r\n                  &::after{\r\n                    content: '';\r\n                    width: 1px;\r\n                    height: 100%;\r\n                    border-left: 1px dashed #91BDB5;\r\n                    position: absolute;\r\n                    left: 66.66%;\r\n                    top: 0;\r\n                  }\r\n                  .chart-grid-item{\r\n                    height: 30upx;\r\n                    padding: 10px 0;\r\n                    position: relative;\r\n                    .chart-bar{\r\n                      height: 100%;\r\n                      background: #03BE90;\r\n                      border-radius: 0 8px 8px 0;\r\n                    }\r\n                  }\r\n                }\r\n                .chart-label-list{\r\n                  display: flex;\r\n                  margin-top: 3px;\r\n                  .chart-label-item{\r\n                    flex: 1;\r\n                    text-align: center;\r\n                    color: #A2A9BA;\r\n                    font-size: 14px;\r\n                    line-height: 20px;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            .desc{\r\n              margin-top: 20px;\r\n              color: #434E5E;\r\n              font-size: 14px;\r\n              line-height: 22px;\r\n            }\r\n            .products{\r\n              margin-top: 22px;\r\n              .products-title{\r\n                font-size: 16px;\r\n                line-height: 22px;\r\n                color: #16202E;\r\n                font-weight: bold;\r\n              }\r\n              .product{\r\n                margin-top: 15px;\r\n                display: flex;\r\n                +.product{\r\n                  margin-top: 10px;\r\n                }\r\n                .product-icon{\r\n                  flex: 0 0 90px;\r\n                  height: 90px;\r\n                  border-radius: 6px;\r\n                  background: no-repeat center / cover;\r\n                }\r\n                .product-introduce{\r\n                  flex: 1;\r\n                  padding-left: 10px;\r\n                  position: relative;\r\n                  .product-name{\r\n                    color: #434E5E;\r\n                    font-size: 14px;\r\n                    line-height: 20px;\r\n                    height: 40px;\r\n                    // @include ellipsis(2)\r\n                  }\r\n                  .product-desc{\r\n                    color: #148973;\r\n                    font-size: 12px;\r\n                    line-height: 17px;\r\n                    margin-top: 2px;\r\n                    // @include ellipsis(1);\r\n                  }\r\n                  .product-price{\r\n                    color: #16202E;\r\n                    font-size: 18px;\r\n                    line-height: 25px;\r\n                    margin-top: 6px;\r\n                    padding-right: 70px;\r\n                    font-weight: bold;\r\n                    // @include ellipsis(1)\r\n                  }\r\n                  .product-btn{\r\n                    background:linear-gradient(233deg,rgba(136,226,150,1) 0%,rgba(3,190,144,1) 100%);\r\n                    box-shadow:0px 3px 15px 0px rgba(3,190,144,0.3);\r\n                    border-radius:12px;\r\n                    font-size: 12px;\r\n                    height: 24px;\r\n                    line-height: 24px;\r\n                    width: 68px;\r\n                    text-align: center;\r\n                    color: white;\r\n                    position: absolute;\r\n                    right: 0;\r\n                    bottom: 0;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            .order{\r\n              padding: 0;\r\n              margin: 15px 0;\r\n              padding: 15px 22px;\r\n              background: white;\r\n              border-radius: 5px;\r\n              .order-title{\r\n                color: #2A3441;\r\n                font-size: 15px;\r\n                line-height: 23px;\r\n                span{\r\n                  float: right;\r\n                }\r\n              }\r\n              .order-no{\r\n                padding-left: 28px;\r\n                margin-top: 10px;\r\n                background: url('../../static/image/icon_dd_bh@2x.png') no-repeat 0 center / 18px 18px;\r\n                color: #434E5E;\r\n                font-size: 13px;\r\n                line-height: 19px;\r\n              }\r\n              .order-payWay{\r\n                padding-left: 28px;\r\n                margin-top: 10px;\r\n                background: url('../../static/image/icon_dd_zffs@2x.png') no-repeat 0 center / 18px 18px;\r\n                color: #434E5E;\r\n                font-size: 13px;\r\n                line-height: 19px;\r\n              }\r\n              .order-time{\r\n                padding-left: 28px;\r\n                margin-top: 10px;\r\n                background: url('../../static/image/icon_dd_sj@2x.png') no-repeat 0 center / 18px 18px;\r\n                color: #434E5E;\r\n                font-size: 13px;\r\n                line-height: 19px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .list-block{\r\n      margin: 0 15px 40px;\r\n      .block-title{\r\n        color: #16202E;\r\n        font-size: 19px;\r\n        line-height: 26px;\r\n        font-weight: bold;\r\n        padding-left: 24px;\r\n        background: url('../../static/image/img_pfjcbg_dxfx@2x.png') no-repeat 0 center / 24px 24px;\r\n      }\r\n      .list{\r\n        position: relative;\r\n        margin-top: -5px;\r\n        padding: 0 14px;\r\n        line-height: 0;\r\n        font-size: 0;\r\n        .item{\r\n          margin-top: 30px;\r\n          display: inline-block;\r\n          width: 33.33%;\r\n          text-align: center;\r\n          .item-name{\r\n            color: #434E5E;\r\n            font-size: 14px;\r\n            line-height: 20px;\r\n          }\r\n          .item-icon{\r\n            width: 40px;\r\n            height: 45px;\r\n            margin: 4px auto 2px;\r\n\t\t\tdisplay: block;\r\n            background: no-repeat center 0 / 100% auto;\r\n          }\r\n          .item-level{\r\n            display: inline-block;\r\n            padding: 0 8px;\r\n            height: 14px;\r\n            background: #D35671;\r\n            border-radius: 7px;\r\n            font-size: 10px;\r\n            line-height: 14px;\r\n            text-align: center;\r\n            color: white;\r\n            margin: 0 auto;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX.2.4.2.20191115.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./skinPos.vue?vue&type=style&index=0&id=4f0041d2&lang=scss&scoped=true&\""],"sourceRoot":""}